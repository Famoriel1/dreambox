/*
 createjs
 Visit http://createjs.com/ for documentation, updates and examples.

 Copyright (c) 2010 gskinner.com, inc.

 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:

 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */
this.createjs=this.createjs||{};createjs.extend=function(f,d){function a(){this.constructor=f}a.prototype=d.prototype;return f.prototype=new a};createjs.promote=function(f,d){var a=f.prototype,b=Object.getPrototypeOf&&Object.getPrototypeOf(a)||a.__proto__;if(b){a[(d+="_")+"constructor"]=b.constructor;for(var c in b)a.hasOwnProperty(c)&&typeof b[c]=="function"&&(a[d+c]=b[c])}return f};createjs.indexOf=function(f,d){for(var a=0,b=f.length;a<b;a++)if(d===f[a])return a;return-1};
(function(){function f(){throw"UID cannot be instantiated";}f._nextID=0;f.get=function(){return f._nextID++};createjs.UID=f})();createjs.deprecate=function(f,d){return function(){var a="Deprecated property or method '"+d+"'. See docs for info.";console&&(console.warn?console.warn(a):console.log(a));return f&&f.apply(this,arguments)}};
(function(){function f(a,b,c){this.type=a;this.currentTarget=this.target=null;this.eventPhase=0;this.bubbles=!!b;this.cancelable=!!c;this.timeStamp=(new Date).getTime();this.removed=this.immediatePropagationStopped=this.propagationStopped=this.defaultPrevented=!1}var d=f.prototype;d.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};d.stopPropagation=function(){this.propagationStopped=!0};d.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=
!0};d.remove=function(){this.removed=!0};d.clone=function(){return new f(this.type,this.bubbles,this.cancelable)};d.set=function(a){for(var b in a)this[b]=a[b];return this};d.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=f})();
(function(){function f(){this._captureListeners=this._listeners=null}var d=f.prototype;f.initialize=function(a){a.addEventListener=d.addEventListener;a.on=d.on;a.removeEventListener=a.off=d.removeEventListener;a.removeAllEventListeners=d.removeAllEventListeners;a.hasEventListener=d.hasEventListener;a.dispatchEvent=d.dispatchEvent;a._dispatchEvent=d._dispatchEvent;a.willTrigger=d.willTrigger};d.addEventListener=function(a,b,c){var e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var g=e[a];g&&this.removeEventListener(a,b,c);(g=e[a])?g.push(b):e[a]=[b];return b};d.on=function(a,b,c,e,g,h){b.handleEvent&&(c=c||b,b=b.handleEvent);c=c||this;return this.addEventListener(a,function(k){b.call(c,k,g);e&&k.remove()},h)};d.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var e=c[a];if(e)for(var g=0,h=e.length;g<h;g++)if(e[g]==b){h==1?delete c[a]:e.splice(g,1);break}}};d.off=d.removeEventListener;d.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};d.dispatchEvent=function(a,b,c){if(typeof a=="string"){var e=this._listeners;if(!(b||e&&e[a]))return!0;a=new createjs.Event(a,b,c)}else a.target&&a.clone&&(a=a.clone());try{a.target=this}catch(g){}if(a.bubbles&&this.parent){c=this;for(b=[c];c.parent;)b.push(c=c.parent);e=b.length;for(c=e-1;c>=0&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(c==0));
for(c=1;c<e&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return!a.defaultPrevented};d.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};d.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};d.toString=function(){return"[EventDispatcher]"};d._dispatchEvent=function(a,b){var c,e,g=b<=2?this._captureListeners:this._listeners;if(a&&g&&(e=g[a.type])&&(c=e.length)){try{a.currentTarget=
this}catch(k){}try{a.eventPhase=b|0}catch(k){}a.removed=!1;e=e.slice();for(g=0;g<c&&!a.immediatePropagationStopped;g++){var h=e[g];h.handleEvent?h.handleEvent(a):h(a);a.removed&&(this.off(a.type,h,b==1),a.removed=!1)}}b===2&&this._dispatchEvent(a,2.1)};createjs.EventDispatcher=f})();
(function(){function f(){throw"MouseCapture cannot be instantiated";}f._global=null;f.set=function(d){f._global&&console.warn("MouseCapture is already set");f._global=d};f.get=function(){return f._global};f.clear=function(d=!1){d&&f._global?f._global.clearOnMouseUp=!0:f._global=null};createjs.MouseCapture=f})();
(function(){function f(){throw"Ticker cannot be instantiated.";}f.RAF_SYNCHED="synched";f.RAF="raf";f.TIMEOUT="timeout";f.timingMode=null;f.maxDelta=0;f.paused=!1;f.removeEventListener=null;f.removeAllEventListeners=null;f.dispatchEvent=null;f.hasEventListener=null;f._listeners=null;createjs.EventDispatcher.initialize(f);f._addEventListener=f.addEventListener;f.addEventListener=function(){!f._inited&&f.init();return f._addEventListener.apply(f,arguments)};f._inited=!1;f._startTime=0;f._pausedTime=
0;f._ticks=0;f._pausedTicks=0;f._interval=50;f._lastTime=0;f._times=null;f._tickTimes=null;f._timerId=null;f._raf=!0;f._setInterval=function(b){f._interval=b;f._inited&&f._setupTick()};f.setInterval=createjs.deprecate(f._setInterval,"Ticker.setInterval");f._getInterval=function(){return f._interval};f.getInterval=createjs.deprecate(f._getInterval,"Ticker.getInterval");f._setFPS=function(b){f._setInterval(1E3/b)};f.setFPS=createjs.deprecate(f._setFPS,"Ticker.setFPS");f._getFPS=function(){return 1E3/
f._interval};f.getFPS=createjs.deprecate(f._getFPS,"Ticker.getFPS");try{Object.defineProperties(f,{interval:{get:f._getInterval,set:f._setInterval},framerate:{get:f._getFPS,set:f._setFPS}})}catch(b){console.log(b)}f.init=function(){f._inited||(f._inited=!0,f._times=[],f._tickTimes=[],f._startTime=f._getTime(),f._times.push(f._lastTime=0),f.interval=f._interval)};f.reset=function(){if(f._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||
window.msCancelAnimationFrame;b&&b(f._timerId)}else clearTimeout(f._timerId);f.removeAllEventListeners("tick");f._timerId=f._times=f._tickTimes=null;f._startTime=f._lastTime=f._ticks=f._pausedTime=0;f._inited=!1};f.getMeasuredTickTime=function(b){var c=0,e=f._tickTimes;if(!e||e.length<1)return-1;b=Math.min(e.length,b||f._getFPS()|0);for(var g=0;g<b;g++)c+=e[g];return c/b};f.getMeasuredFPS=function(b){var c=f._times;if(!c||c.length<2)return-1;b=Math.min(c.length-1,b||f._getFPS()|0);return 1E3/((c[0]-
c[b])/b)};f.getTime=function(b){return f._startTime?f._getTime()-(b?f._pausedTime:0):-1};f.getEventTime=function(b){return f._startTime?(f._lastTime||f._startTime)-(b?f._pausedTime:0):-1};f.getTicks=function(b){return f._ticks-(b?f._pausedTicks:0)};f._handleSynch=function(){f._timerId=null;f._setupTick();f._getTime()-f._lastTime>=(f._interval-1)*.97&&f._tick()};f._handleRAF=function(){try{f._timerId=null,f._setupTick(),f._tick()}catch(b){throw dblRecordError(b),b;}};f._handleTimeout=function(){try{f._timerId=
null,f._setupTick(),f._tick()}catch(b){throw dblRecordError(b),b;}};f._setupTick=function(){if(f._timerId==null){var b=f.timingMode;if(b==f.RAF_SYNCHED||b==f.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c){f._timerId=c(b==f.RAF?f._handleRAF:f._handleSynch);f._raf=!0;return}}f._raf=!1;f._timerId=setTimeout(f._handleTimeout,f._interval)}};f._tick=function(){var b=f.paused,
c=f._getTime(),e=c-f._lastTime;f._lastTime=c;f._ticks++;b&&(f._pausedTicks++,f._pausedTime+=e);if(f.hasEventListener("tick")){var g=new createjs.Event("tick"),h=f.maxDelta;g.delta=h&&e>h?h:e;g.paused=b;g.time=c;g.runTime=c-f._pausedTime;f.dispatchEvent(g)}for(f._tickTimes.unshift(f._getTime()-c);f._tickTimes.length>100;)f._tickTimes.pop();for(f._times.unshift(c);f._times.length>100;)f._times.pop()};var d=window,a=d.performance?d.performance.now||d.performance.mozNow||d.performance.msNow||d.performance.oNow||
d.performance.webkitNow:null;f._getTime=function(){return(a&&a.call(d.performance)||(new Date).getTime())-f._startTime};createjs.Ticker=f})();
(function(){function f(a){this.readyState=a.readyState;this._video=a;this._canvas=null;this._lastTime=-1;this.readyState<2&&a.addEventListener("canplaythrough",this._videoReady.bind(this))}var d=f.prototype;d.getImage=function(){if(!(this.readyState<2)){var a=this._canvas,b=this._video;a||(a=this._canvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),a.width=b.videoWidth,a.height=b.videoHeight);if(b.readyState>=2&&b.currentTime!==this._lastTime){var c=a.getContext("2d");
c.clearRect(0,0,a.width,a.height);c.drawImage(b,0,0,a.width,a.height);this._lastTime=b.currentTime}return a}};d._videoReady=function(){this.readyState=2};createjs.VideoBuffer=f})();
(function(){function f(a,b,c,e,g,h,k,m,l,n,p){this.Event_constructor(a,b,c);this.stageX=e;this.stageY=g;this.rawX=l==null?e:l;this.rawY=n==null?g:n;this.nativeEvent=h;this.pointerID=k;this.primary=!!m;this.relatedTarget=p}var d=createjs.extend(f,createjs.Event);d._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};d._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};d._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(d,
{localX:{get:d._get_localX},localY:{get:d._get_localY},isTouch:{get:d._get_isTouch}})}catch(a){}d.clone=function(){return new f(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};d.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(f,"Event")})();
(function(){function f(a,b,c,e,g,h){this.setValues(a,b,c,e,g,h)}var d=f.prototype;f.DEG_TO_RAD=Math.PI/180;f.identity=null;d.setValues=function(a,b,c,e,g,h){this.a=a==null?1:a;this.b=b||0;this.c=c||0;this.d=e==null?1:e;this.tx=g||0;this.ty=h||0;return this};d.append=function(a,b,c,e,g,h){var k=this.a,m=this.b,l=this.c,n=this.d;if(a!=1||b!=0||c!=0||e!=1)this.a=k*a+l*b,this.b=m*a+n*b,this.c=k*c+l*e,this.d=m*c+n*e;this.tx=k*g+l*h+this.tx;this.ty=m*g+n*h+this.ty;return this};d.prepend=function(a,b,c,
e,g,h){var k=this.a,m=this.c,l=this.tx;this.a=a*k+c*this.b;this.b=b*k+e*this.b;this.c=a*m+c*this.d;this.d=b*m+e*this.d;this.tx=a*l+c*this.ty+g;this.ty=b*l+e*this.ty+h;return this};d.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)};d.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty)};d.appendTransform=function(a,b,c,e,g,h,k,m,l){if(g%360){var n=g*f.DEG_TO_RAD;g=Math.cos(n);n=Math.sin(n)}else g=1,n=0;h||k?(h*=f.DEG_TO_RAD,k*=f.DEG_TO_RAD,this.append(Math.cos(k),
Math.sin(k),-Math.sin(h),Math.cos(h),a,b),this.append(g*c,n*c,-n*e,g*e,0,0)):this.append(g*c,n*c,-n*e,g*e,a,b);if(m||l)this.tx-=m*this.a+l*this.c,this.ty-=m*this.b+l*this.d;return this};d.prependTransform=function(a,b,c,e,g,h,k,m,l){if(g%360){var n=g*f.DEG_TO_RAD;g=Math.cos(n);n=Math.sin(n)}else g=1,n=0;if(m||l)this.tx-=m,this.ty-=l;h||k?(h*=f.DEG_TO_RAD,k*=f.DEG_TO_RAD,this.prepend(g*c,n*c,-n*e,g*e,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(h),Math.cos(h),a,b)):this.prepend(g*c,n*c,-n*e,
g*e,a,b);return this};d.rotate=function(a){a*=f.DEG_TO_RAD;var b=Math.cos(a);a=Math.sin(a);var c=this.a,e=this.b;this.a=c*b+this.c*a;this.b=e*b+this.d*a;this.c=-c*a+this.c*b;this.d=-e*a+this.d*b;return this};d.skew=function(a,b){a*=f.DEG_TO_RAD;b*=f.DEG_TO_RAD;this.append(Math.cos(b),Math.sin(b),-Math.sin(a),Math.cos(a),0,0);return this};d.scale=function(a,b){this.a*=a;this.b*=a;this.c*=b;this.d*=b;return this};d.translate=function(a,b){this.tx+=this.a*a+this.c*b;this.ty+=this.b*a+this.d*b;return this};
d.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};d.invert=function(){var a=this.a,b=this.b,c=this.c,e=this.d,g=this.tx,h=a*e-b*c;this.a=e/h;this.b=-b/h;this.c=-c/h;this.d=a/h;this.tx=(c*this.ty-e*g)/h;this.ty=-(a*this.ty-b*g)/h;return this};d.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1};d.equals=function(a){return this.tx===a.tx&&this.ty===a.ty&&this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d};d.transformPoint=
function(a,b,c){c=c||{};c.x=a*this.a+b*this.c+this.tx;c.y=a*this.b+b*this.d+this.ty;return c};d.decompose=function(a){a==null&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var b=Math.atan2(-this.c,this.d),c=Math.atan2(this.b,this.a);Math.abs(1-b/c)<1E-5?(a.rotation=c/f.DEG_TO_RAD,this.a<0&&this.d>=0&&(a.rotation+=a.rotation<=0?180:-180),a.skewX=a.skewY=0):(a.skewX=b/f.DEG_TO_RAD,a.skewY=c/f.DEG_TO_RAD);return a};d.copy=
function(a){return this.setValues(a.a,a.b,a.c,a.d,a.tx,a.ty)};d.clone=function(){return new f(this.a,this.b,this.c,this.d,this.tx,this.ty)};d.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};f.identity=new f;createjs.Matrix2D=f})();
(function(){function f(a,b,c,e,g){this.setValues(a,b,c,e,g)}var d=f.prototype;d.setValues=function(a,b,c,e,g){this.visible=a==null?!0:!!a;this.alpha=b==null?1:b;this.shadow=c;this.compositeOperation=e;this.matrix=g||this.matrix&&this.matrix.identity()||new createjs.Matrix2D;return this};d.append=function(a,b,c,e,g){this.alpha*=b;this.shadow=c||this.shadow;this.compositeOperation=e||this.compositeOperation;this.visible=this.visible&&a;g&&this.matrix.appendMatrix(g);return this};d.prepend=function(a,
b,c,e,g){this.alpha*=b;this.shadow=this.shadow||c;this.compositeOperation=this.compositeOperation||e;this.visible=this.visible&&a;g&&this.matrix.prependMatrix(g);return this};d.identity=function(){this.visible=!0;this.alpha=1;this.shadow=this.compositeOperation=null;this.matrix.identity();return this};d.clone=function(){return new f(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=f})();
(function(){function f(a,b){this.setValues(a,b)}var d=f.prototype;d.setValues=function(a,b){this.x=a||0;this.y=b||0;return this};d.copy=function(a){this.x=a.x;this.y=a.y;return this};d.clone=function(){return new f(this.x,this.y)};d.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=f})();
(function(){function f(a,b,c,e){this.setValues(a,b,c,e)}var d=f.prototype;d.setValues=function(a,b,c,e){this.x=a||0;this.y=b||0;this.width=c||0;this.height=e||0;return this};d.extend=function(a,b,c,e){c=c||0;e=e||0;a+c>this.x+this.width&&(this.width=a+c-this.x);b+e>this.y+this.height&&(this.height=b+e-this.y);a<this.x&&(this.width+=this.x-a,this.x=a);b<this.y&&(this.height+=this.y-b,this.y=b);return this};d.pad=function(a,b,c,e){this.x-=b;this.y-=a;this.width+=b+e;this.height+=a+c;return this};d.copy=
function(a){return this.setValues(a.x,a.y,a.width,a.height)};d.contains=function(a,b,c,e){return a>=this.x&&a+(c||0)<=this.x+this.width&&b>=this.y&&b+(e||0)<=this.y+this.height};d.union=function(a){return this.clone().extend(a.x,a.y,a.width,a.height)};d.intersection=function(a){var b=a.x,c=a.y,e=b+a.width;a=c+a.height;this.x>b&&(b=this.x);this.y>c&&(c=this.y);this.x+this.width<e&&(e=this.x+this.width);this.y+this.height<a&&(a=this.y+this.height);return e<=b||a<=c?null:new f(b,c,e-b,a-c)};d.intersects=
function(a){return a.x<=this.x+this.width&&this.x<=a.x+a.width&&a.y<=this.y+this.height&&this.y<=a.y+a.height};d.isEmpty=function(){return this.width<=0||this.height<=0};d.clone=function(){return new f(this.x,this.y,this.width,this.height)};d.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=f})();
(function(){function f(a,b,c,e,g,h,k){a.addEventListener&&(this.target=a,this.overLabel=c==null?"over":c,this.outLabel=b==null?"out":b,this.downLabel=e==null?"down":e,this.play=g,this._enabled=this._isOver=this._isPressed=!1,a.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),h&&(k&&(h.actionsEnabled=!1,h.gotoAndStop&&h.gotoAndStop(k)),a.hitArea=h))}var d=f.prototype;d._setEnabled=function(a){if(a!=this._enabled){var b=this.target;(this._enabled=a)?(b.cursor="pointer",b.addEventListener("rollover",
this),b.addEventListener("rollout",this),b.addEventListener("mousedown",this),b.addEventListener("pressup",this),b._reset&&(b.__reset=b._reset,b._reset=this._reset)):(b.cursor=null,b.removeEventListener("rollover",this),b.removeEventListener("rollout",this),b.removeEventListener("mousedown",this),b.removeEventListener("pressup",this),b.__reset&&(b._reset=b.__reset,delete b.__reset))}};d.setEnabled=createjs.deprecate(d._setEnabled,"ButtonHelper.setEnabled");d._getEnabled=function(){return this._enabled};
d.getEnabled=createjs.deprecate(d._getEnabled,"ButtonHelper.getEnabled");try{Object.defineProperties(d,{enabled:{get:d._getEnabled,set:d._setEnabled}})}catch(a){}d.toString=function(){return"[ButtonHelper]"};d.handleEvent=function(a){var b=this.target;a=a.type;a=="mousedown"?(this._isPressed=!0,a=this.downLabel):a=="pressup"?(this._isPressed=!1,a=this._isOver?this.overLabel:this.outLabel):a=="rollover"?(this._isOver=!0,a=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,a=this._isPressed?
this.overLabel:this.outLabel);this.play?b.gotoAndPlay&&b.gotoAndPlay(a):b.gotoAndStop&&b.gotoAndStop(a)};d._reset=function(){var a=this.paused;this.__reset();this.paused=a};createjs.ButtonHelper=f})();(function(){function f(a,b,c,e){this.color=a||"black";this.offsetX=b||0;this.offsetY=c||0;this.blur=e||0}var d=f.prototype;f.identity=new f("transparent",0,0,0);d.toString=function(){return"[Shadow]"};d.clone=function(){return new f(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=f})();
(function(){function f(a){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._data=this._images=this._frames=this._animations=null;this._margin=this._spacing=this._regY=this._regX=this._numFrames=this._frameWidth=this._frameHeight=this._loadCount=0;this._parseData(a)}var d=createjs.extend(f,createjs.EventDispatcher);d._getAnimations=function(){return this._animations.slice()};d.getAnimations=createjs.deprecate(d._getAnimations,"SpriteSheet.getAnimations");try{Object.defineProperties(d,
{animations:{get:d._getAnimations}})}catch(a){}d.getNumFrames=function(a){if(a==null)return this._frames?this._frames.length:this._numFrames||0;a=this._data[a];return a==null?0:a.frames.length};d.getAnimation=function(a){return this._data[a]};d.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null};d.getFrameBounds=function(a,b){return(a=this.getFrame(a))?(b||new createjs.Rectangle).setValues(-a.regX,-a.regY,a.rect.width,a.rect.height):null};d.toString=function(){return"[SpriteSheet]"};
d.clone=function(){throw"SpriteSheet cannot be cloned.";};d._parseData=function(a){var b,c;if(a!=null){this.framerate=a.framerate||0;if(a.images&&(c=a.images.length)>0){var e=this._images=[];for(b=0;b<c;b++){var g=a.images[b];if(typeof g=="string"){var h=g;g=document.createElement("img");g.src=h}e.push(g);g.getContext||g.naturalWidth||(this._loadCount++,this.complete=!1,function(m,l){g.onload=function(){m._handleImageLoad(l)}}(this,h),function(m,l){g.onerror=function(){m._handleImageError(l)}}(this,
h))}}if(a.frames!=null)if(Array.isArray(a.frames))for(this._frames=[],e=a.frames,b=0,c=e.length;b<c;b++)h=e[b],this._frames.push({image:this._images[h[4]?h[4]:0],rect:new createjs.Rectangle(h[0],h[1],h[2],h[3]),regX:h[5]||0,regY:h[6]||0});else c=a.frames,this._frameWidth=c.width,this._frameHeight=c.height,this._regX=c.regX||0,this._regY=c.regY||0,this._spacing=c.spacing||0,this._margin=c.margin||0,this._numFrames=c.count,this._loadCount==0&&this._calculateFrames();this._animations=[];if((c=a.animations)!=
null){this._data={};for(var k in c){a={name:k};h=c[k];if(typeof h=="number")e=a.frames=[h];else if(Array.isArray(h))if(h.length==1)a.frames=[h[0]];else for(a.speed=h[3],a.next=h[2],e=a.frames=[],b=h[0];b<=h[1];b++)e.push(b);else a.speed=h.speed,a.next=h.next,b=h.frames,e=a.frames=typeof b=="number"?[b]:b.slice(0);if(a.next===!0||a.next===void 0)a.next=k;if(a.next===!1||e.length<2&&a.next==k)a.next=null;a.speed||(a.speed=1);this._animations.push(k);this._data[k]=a}}}};d._handleImageLoad=function(a){--this._loadCount==
0&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};d._handleImageError=function(a){var b=new createjs.Event("error");b.src=a;this.dispatchEvent(b);--this._loadCount==0&&this.dispatchEvent("complete")};d._calculateFrames=function(){if(!this._frames&&this._frameWidth!=0){this._frames=[];var a=this._numFrames||1E5,b=0,c=this._frameWidth,e=this._frameHeight,g=this._spacing,h=this._margin,k=0,m=this._images;a:for(;k<m.length;k++)for(var l=m[k],n=l.width||l.naturalWidth,p=l.height||
l.naturalHeight,q=h;q<=p-h-e;){for(var r=h;r<=n-h-c;){if(b>=a)break a;b++;this._frames.push({image:l,rect:new createjs.Rectangle(r,q,c,e),regX:this._regX,regY:this._regY});r+=c+g}q+=e+g}this._numFrames=b}};createjs.SpriteSheet=createjs.promote(f,"EventDispatcher")})();
(function(){function f(){this._oldStrokeDash=this._strokeDash=this._oldStrokeStyle=this._strokeStyle=this._stroke=this.command=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var d=f.prototype;f.getRGB=function(b,c,e,g){b!=null&&e==null&&(g=c,e=b&255,c=b>>8&255,b=b>>16&255);return g==null?"rgb("+b+","+c+","+e+")":"rgba("+b+","+c+","+e+","+g+")"};f.getHSL=function(b,c,e,g){return g==
null?"hsl("+b%360+","+c+"%,"+e+"%)":"hsla("+b%360+","+c+"%,"+e+"%,"+g+")"};f.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};f.STROKE_CAPS_MAP=["butt","round","square"];f.STROKE_JOINTS_MAP=["miter","round","bevel"];var a=createjs.createCanvas?
createjs.createCanvas():document.createElement("canvas");a.getContext&&(f._ctx=a.getContext("2d"),a.width=a.height=1);d._getInstructions=function(){this._updateInstructions();return this._instructions};d.getInstructions=createjs.deprecate(d._getInstructions,"Graphics.getInstructions");try{Object.defineProperties(d,{instructions:{get:d._getInstructions}})}catch(b){}d.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};d.draw=function(b,c){this._updateInstructions();
for(var e=this._instructions,g=this._storeIndex,h=e.length;g<h;g++)e[g].exec(b,c)};d.drawAsPath=function(b){this._updateInstructions();for(var c,e=this._instructions,g=this._storeIndex,h=e.length;g<h;g++)(c=e[g]).path!==!1&&c.exec(b)};d.moveTo=function(b,c){return this.append(new f.MoveTo(b,c),!0)};d.lineTo=function(b,c){return this.append(new f.LineTo(b,c))};d.arcTo=function(b,c,e,g,h){return this.append(new f.ArcTo(b,c,e,g,h))};d.arc=function(b,c,e,g,h,k){return this.append(new f.Arc(b,c,e,g,h,
k))};d.quadraticCurveTo=function(b,c,e,g){return this.append(new f.QuadraticCurveTo(b,c,e,g))};d.bezierCurveTo=function(b,c,e,g,h,k){return this.append(new f.BezierCurveTo(b,c,e,g,h,k))};d.rect=function(b,c,e,g){return this.append(new f.Rect(b,c,e,g))};d.closePath=function(){return this._activeInstructions.length?this.append(new f.ClosePath):this};d.clear=function(){this._instructions.length=this._activeInstructions.length=this._commitIndex=0;this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=
this._strokeDash=this._oldStrokeDash=null;this._dirty=this._strokeIgnoreScale=!1;return this};d.beginFill=function(b){return this._setFill(b?new f.Fill(b):null)};d.beginLinearGradientFill=function(b,c,e,g,h,k){return this._setFill((new f.Fill).linearGradient(b,c,e,g,h,k))};d.beginRadialGradientFill=function(b,c,e,g,h,k,m,l){return this._setFill((new f.Fill).radialGradient(b,c,e,g,h,k,m,l))};d.beginBitmapFill=function(b,c,e){return this._setFill((new f.Fill(null,e)).bitmap(b,c))};d.endFill=function(){return this.beginFill()};
d.setStrokeStyle=function(b,c,e,g,h){this._updateInstructions(!0);this._strokeStyle=this.command=new f.StrokeStyle(b,c,e,g,h);this._stroke&&(this._stroke.ignoreScale=h);this._strokeIgnoreScale=h;return this};d.setStrokeDash=function(b,c){this._updateInstructions(!0);this._strokeDash=this.command=new f.StrokeDash(b,c);return this};d.beginStroke=function(b){return this._setStroke(b?new f.Stroke(b):null)};d.beginLinearGradientStroke=function(b,c,e,g,h,k){return this._setStroke((new f.Stroke).linearGradient(b,
c,e,g,h,k))};d.beginRadialGradientStroke=function(b,c,e,g,h,k,m,l){return this._setStroke((new f.Stroke).radialGradient(b,c,e,g,h,k,m,l))};d.beginBitmapStroke=function(b,c){return this._setStroke((new f.Stroke).bitmap(b,c))};d.endStroke=function(){return this.beginStroke()};d.curveTo=d.quadraticCurveTo;d.drawRect=d.rect;d.drawRoundRect=function(b,c,e,g,h){return this.drawRoundRectComplex(b,c,e,g,h,h,h,h)};d.drawRoundRectComplex=function(b,c,e,g,h,k,m,l){return this.append(new f.RoundRect(b,c,e,g,
h,k,m,l))};d.drawCircle=function(b,c,e){return this.append(new f.Circle(b,c,e))};d.drawEllipse=function(b,c,e,g){return this.append(new f.Ellipse(b,c,e,g))};d.drawPolyStar=function(b,c,e,g,h,k){return this.append(new f.PolyStar(b,c,e,g,h,k))};d.append=function(b,c){this._activeInstructions.push(b);this.command=b;c||(this._dirty=!0);return this};d.decodePath=function(b){for(var c=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],g=0,h=b.length,k=[],m=0,
l=0,n=f.BASE_64;g<h;){var p=b.charAt(g),q=n[p],r=q>>3,w=c[r];if(!w||q&3)throw"bad path data (@"+g+"): "+p;p=e[r];r||(m=l=0);k.length=0;g++;q=(q>>2&1)+2;for(r=0;r<p;r++){var u=n[b.charAt(g)],J=u>>5?-1:1;u=(u&31)<<6|n[b.charAt(g+1)];q==3&&(u=u<<6|n[b.charAt(g+2)]);u=J*u/10;r%2?m=u+=m:l=u+=l;k[r]=u;g+=q}w.apply(this,k)}return this};d.store=function(){this._updateInstructions(!0);this._storeIndex=this._instructions.length;return this};d.unstore=function(){this._storeIndex=0;return this};d.clone=function(){var b=
new f;b.command=this.command;b._stroke=this._stroke;b._strokeStyle=this._strokeStyle;b._strokeDash=this._strokeDash;b._strokeIgnoreScale=this._strokeIgnoreScale;b._fill=this._fill;b._instructions=this._instructions.slice();b._commitIndex=this._commitIndex;b._activeInstructions=this._activeInstructions.slice();b._dirty=this._dirty;b._storeIndex=this._storeIndex;return b};d.toString=function(){return"[Graphics]"};d.mt=d.moveTo;d.lt=d.lineTo;d.at=d.arcTo;d.bt=d.bezierCurveTo;d.qt=d.quadraticCurveTo;
d.a=d.arc;d.r=d.rect;d.cp=d.closePath;d.c=d.clear;d.f=d.beginFill;d.lf=d.beginLinearGradientFill;d.rf=d.beginRadialGradientFill;d.bf=d.beginBitmapFill;d.ef=d.endFill;d.ss=d.setStrokeStyle;d.sd=d.setStrokeDash;d.s=d.beginStroke;d.ls=d.beginLinearGradientStroke;d.rs=d.beginRadialGradientStroke;d.bs=d.beginBitmapStroke;d.es=d.endStroke;d.dr=d.drawRect;d.rr=d.drawRoundRect;d.rc=d.drawRoundRectComplex;d.dc=d.drawCircle;d.de=d.drawEllipse;d.dp=d.drawPolyStar;d.p=d.decodePath;d._updateInstructions=function(b){var c=
this._instructions,e=this._activeInstructions,g=this._commitIndex;if(this._dirty&&e.length){c.length=g;c.push(f.beginCmd);g=e.length;var h=c.length;c.length=h+g;for(var k=0;k<g;k++)c[k+h]=e[k];this._fill&&c.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&c.push(this._strokeDash),this._strokeStyle!==this._oldStrokeStyle&&c.push(this._strokeStyle),b&&(this._oldStrokeStyle=this._strokeStyle,this._oldStrokeDash=this._strokeDash),c.push(this._stroke));this._dirty=!1}b&&(e.length=
0,this._commitIndex=c.length)};d._setFill=function(b){this._updateInstructions(!0);this.command=this._fill=b;return this};d._setStroke=function(b){this._updateInstructions(!0);if(this.command=this._stroke=b)b.ignoreScale=this._strokeIgnoreScale;return this};(f.LineTo=function(b,c){this.x=b;this.y=c}).prototype.exec=function(b){b.lineTo(this.x,this.y)};(f.MoveTo=function(b,c){this.x=b;this.y=c}).prototype.exec=function(b){b.moveTo(this.x,this.y)};(f.ArcTo=function(b,c,e,g,h){this.x1=b;this.y1=c;this.x2=
e;this.y2=g;this.radius=h}).prototype.exec=function(b){b.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)};(f.Arc=function(b,c,e,g,h,k){this.x=b;this.y=c;this.radius=e;this.startAngle=g;this.endAngle=h;this.anticlockwise=!!k}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(f.QuadraticCurveTo=function(b,c,e,g){this.cpx=b;this.cpy=c;this.x=e;this.y=g}).prototype.exec=function(b){b.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(f.BezierCurveTo=
function(b,c,e,g,h,k){this.cp1x=b;this.cp1y=c;this.cp2x=e;this.cp2y=g;this.x=h;this.y=k}).prototype.exec=function(b){b.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(f.Rect=function(b,c,e,g){this.x=b;this.y=c;this.w=e;this.h=g}).prototype.exec=function(b){b.rect(this.x,this.y,this.w,this.h)};(f.ClosePath=function(){}).prototype.exec=function(b){b.closePath()};(f.BeginPath=function(){}).prototype.exec=function(b){b.beginPath()};d=(f.Fill=function(b,c){this.style=b;this.matrix=
c}).prototype;d.exec=function(b){if(this.style){b.fillStyle=this.style;var c=this.matrix;c&&(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty));b.fill();c&&b.restore()}};d.linearGradient=function(b,c,e,g,h,k){for(var m=this.style=f._ctx.createLinearGradient(e,g,h,k),l=0,n=b.length;l<n;l++)m.addColorStop(c[l],b[l]);m.props={colors:b,ratios:c,x0:e,y0:g,x1:h,y1:k,type:"linear"};return this};d.radialGradient=function(b,c,e,g,h,k,m,l){for(var n=this.style=f._ctx.createRadialGradient(e,g,h,k,m,l),p=0,q=b.length;p<
q;p++)n.addColorStop(c[p],b[p]);n.props={colors:b,ratios:c,x0:e,y0:g,r0:h,x1:k,y1:m,r1:l,type:"radial"};return this};d.bitmap=function(b,c){if(b.naturalWidth||b.getContext||b.readyState>=2)(this.style=f._ctx.createPattern(b,c||"")).props={image:b,repetition:c,type:"bitmap"};return this};d.path=!1;d=(f.Stroke=function(b,c){this.style=b;this.ignoreScale=c}).prototype;d.exec=function(b){this.style&&(b.strokeStyle=this.style,this.ignoreScale&&(b.save(),b.setTransform(1,0,0,1,0,0)),b.stroke(),this.ignoreScale&&
b.restore())};d.linearGradient=f.Fill.prototype.linearGradient;d.radialGradient=f.Fill.prototype.radialGradient;d.bitmap=f.Fill.prototype.bitmap;d.path=!1;d=(f.StrokeStyle=function(b,c,e,g,h){this.width=b;this.caps=c;this.joints=e;this.miterLimit=g;this.ignoreScale=h}).prototype;d.exec=function(b){b.lineWidth=this.width==null?"1":this.width;b.lineCap=this.caps==null?"butt":isNaN(this.caps)?this.caps:f.STROKE_CAPS_MAP[this.caps];b.lineJoin=this.joints==null?"miter":isNaN(this.joints)?this.joints:f.STROKE_JOINTS_MAP[this.joints];
b.miterLimit=this.miterLimit==null?"10":this.miterLimit;b.ignoreScale=this.ignoreScale==null?!1:this.ignoreScale};d.path=!1;(f.StrokeDash=function(b,c){this.segments=b;this.offset=c||0}).prototype.exec=function(b){b.setLineDash&&(b.setLineDash(this.segments||f.StrokeDash.EMPTY_SEGMENTS),b.lineDashOffset=this.offset||0)};f.StrokeDash.EMPTY_SEGMENTS=[];(f.RoundRect=function(b,c,e,g,h,k,m,l){this.x=b;this.y=c;this.w=e;this.h=g;this.radiusTL=h;this.radiusTR=k;this.radiusBR=m;this.radiusBL=l}).prototype.exec=
function(b){var c=(n<p?n:p)/2,e=0,g=0,h=0,k=0,m=this.x,l=this.y,n=this.w,p=this.h,q=this.radiusTL,r=this.radiusTR,w=this.radiusBR,u=this.radiusBL;q<0&&(q*=e=-1);q>c&&(q=c);r<0&&(r*=g=-1);r>c&&(r=c);w<0&&(w*=h=-1);w>c&&(w=c);u<0&&(u*=k=-1);u>c&&(u=c);b.moveTo(m+n-r,l);b.arcTo(m+n+r*g,l-r*g,m+n,l+r,r);b.lineTo(m+n,l+p-w);b.arcTo(m+n+w*h,l+p+w*h,m+n-w,l+p,w);b.lineTo(m+u,l+p);b.arcTo(m-u*k,l+p+u*k,m,l+p-u,u);b.lineTo(m,l+q);b.arcTo(m-q*e,l-q*e,m+q,l,q);b.closePath()};(f.Circle=function(b,c,e){this.x=
b;this.y=c;this.radius=e}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,0,Math.PI*2)};(f.Ellipse=function(b,c,e,g){this.x=b;this.y=c;this.w=e;this.h=g}).prototype.exec=function(b){var c=this.x,e=this.y,g=this.w,h=this.h,k=g/2*.5522848,m=h/2*.5522848,l=c+g,n=e+h;g=c+g/2;h=e+h/2;b.moveTo(c,h);b.bezierCurveTo(c,h-m,g-k,e,g,e);b.bezierCurveTo(g+k,e,l,h-m,l,h);b.bezierCurveTo(l,h+m,g+k,n,g,n);b.bezierCurveTo(g-k,n,c,h+m,c,h)};(f.PolyStar=function(b,c,e,g,h,k){this.x=b;this.y=c;this.radius=
e;this.sides=g;this.pointSize=h;this.angle=k}).prototype.exec=function(b){var c=this.x,e=this.y,g=this.radius,h=(this.angle||0)/180*Math.PI,k=this.sides,m=1-(this.pointSize||0),l=Math.PI/k;b.moveTo(c+Math.cos(h)*g,e+Math.sin(h)*g);for(var n=0;n<k;n++)h+=l,m!=1&&b.lineTo(c+Math.cos(h)*g*m,e+Math.sin(h)*g*m),h+=l,b.lineTo(c+Math.cos(h)*g,e+Math.sin(h)*g);b.closePath()};f.beginCmd=new f.BeginPath;createjs.Graphics=f})();
(function(){function f(){this.EventDispatcher_constructor();this._alpha=1;Object.defineProperty(this,"alpha",{get:function(){return this._alpha},set:function(b){this._alpha!=b&&(this._alpha=b,typeof invalidate=="function"&&invalidate(this))}});this.bitmapCache=this.cacheCanvas=null;this.id=createjs.UID.get();this.tickEnabled=this.mouseEnabled=!0;this.parent=this.name=null;this._rotation=this.regY=this.regX=0;Object.defineProperty(this,"rotation",{get:function(){return this._rotation},set:function(b){this._rotation!=
b&&(typeof invalidate=="function"&&invalidate(this),this._rotation=b,typeof invalidate=="function"&&invalidate(this))}});this._scaleX=1;Object.defineProperty(this,"scaleX",{get:function(){return this._scaleX},set:function(b){this._scaleX!=b&&(typeof invalidate=="function"&&invalidate(this),this._scaleX=b,typeof invalidate=="function"&&invalidate(this))}});this._scaleY=1;Object.defineProperty(this,"scaleY",{get:function(){return this._scaleY},set:function(b){this._scaleY!=b&&(typeof invalidate=="function"&&
invalidate(this),this._scaleY=b,typeof invalidate=="function"&&invalidate(this))}});this.skewY=this.skewX=0;this.shadow=null;this._visible=!0;Object.defineProperty(this,"visible",{get:function(){return this._visible},set:function(b){this._visible!=b&&(typeof invalidate=="function"&&invalidate(this),this._visible=b,typeof invalidate=="function"&&invalidate(this))}});this._x=0;Object.defineProperty(this,"x",{get:function(){return this._x},set:function(b){this._x!=b&&(typeof invalidate=="function"&&
invalidate(this),this._x=b,typeof invalidate=="function"&&invalidate(this))}});this._y=0;Object.defineProperty(this,"y",{get:function(){return this._y},set:function(b){this._y!=b&&(typeof invalidate=="function"&&invalidate(this),this._y=b,typeof invalidate=="function"&&invalidate(this))}});this.compositeOperation=this.transformMatrix=null;this.snapToPixel=!0;this._filters=null;Object.defineProperty(this,"filters",{get:function(){return this._filters},set:function(b){typeof invalidate=="function"&&
invalidate(this);this._filters=b;typeof invalidate=="function"&&invalidate(this)}});this.cursor=this.hitArea=this.mask=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null;this._webGLRenderStyle=f._StageGL_NONE}var d=createjs.extend(f,createjs.EventDispatcher);f._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");f.suppressCrossDomainErrors=!1;f._snapToPixelEnabled=!1;f._StageGL_NONE=0;f._StageGL_SPRITE=
1;f._StageGL_BITMAP=2;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(f._hitTestCanvas=a,f._hitTestContext=a.getContext("2d"),a.width=a.height=1);d._getStage=function(){for(var b=this,c=createjs.Stage;b.parent;)b=b.parent;return b instanceof c?b:null};d.getStage=createjs.deprecate(d._getStage,"DisplayObject.getStage");try{Object.defineProperties(d,{stage:{get:d._getStage},cacheID:{get:function(){return this.bitmapCache&&this.bitmapCache.cacheID},
set:function(b){this.bitmapCache&&(this.bitmapCache.cacheID=b)}},scale:{get:function(){return this.scaleX},set:function(b){this.scaleX=this.scaleY=b}}})}catch(b){}d.isVisible=function(){return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)};d.draw=function(b,c){var e=this.bitmapCache;return e&&!c?e.draw(b):!1};d.updateContext=function(b){var c=this.mask,e=this._props.matrix;c&&c.graphics&&!c.graphics.isEmpty()&&(c.getMatrix(e),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),c.graphics.drawAsPath(b),
b.clip(),e.invert(),b.transform(e.a,e.b,e.c,e.d,e.tx,e.ty));this.getMatrix(e);c=e.tx;var g=e.ty;f._snapToPixelEnabled&&this.snapToPixel&&(c=c+(c<0?-.5:.5)|0,g=g+(g<0?-.5:.5)|0);b.transform(e.a,e.b,e.c,e.d,c,g);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};d.cache=function(b,c,e,g,h,k){this.bitmapCache||(this.bitmapCache=new createjs.BitmapCache);this.bitmapCache.define(this,b,c,e,g,h,k)};d.updateCache=
function(b){if(!this.bitmapCache)throw"cache() must be called before updateCache()";this.bitmapCache.update(b)};d.uncache=function(){this.bitmapCache&&(this.bitmapCache.release(),this.bitmapCache=void 0)};d.getCacheDataURL=function(){return this.bitmapCache?this.bitmapCache.getDataURL():null};d.localToGlobal=function(b,c,e){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(b,c,e||new createjs.Point)};d.globalToLocal=function(b,c,e){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(b,
c,e||new createjs.Point)};d.localToLocal=function(b,c,e,g){g=this.localToGlobal(b,c,g);return e.globalToLocal(g.x,g.y,g)};d.setTransform=function(b,c,e,g,h,k,m,l,n){this.x=b||0;this.y=c||0;this.scaleX=e==null?1:e;this.scaleY=g==null?1:g;this.rotation=h||0;this.skewX=k||0;this.skewY=m||0;this.regX=l||0;this.regY=n||0;return this};d.getMatrix=function(b){b=b&&b.identity()||new createjs.Matrix2D;return this.transformMatrix?b.copy(this.transformMatrix):b.appendTransform(this.x,this.y,this.scaleX,this.scaleY,
this.rotation,this.skewX,this.skewY,this.regX,this.regY)};d.getConcatenatedMatrix=function(b){var c=this;for(b=this.getMatrix(b);c=c.parent;)b.prependMatrix(c.getMatrix(c._props.matrix));return b};d.getConcatenatedDisplayProps=function(b){b=b?b.identity():new createjs.DisplayProps;var c=this,e=c.getMatrix(b.matrix);do b.prepend(c.visible,c.alpha,c.shadow,c.compositeOperation),c!=this&&e.prependMatrix(c.getMatrix(c._props.matrix));while(c=c.parent);return b};d.hitTest=function(b,c){var e=f._hitTestContext;
e.setTransform(1,0,0,1,-b,-c);this.draw(e);b=this._testHit(e);e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,2,2);return b};d.set=function(b){for(var c in b)this[c]=b[c];return this};d.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var c=this.bitmapCache.scale;return this._rectangle.setValues(this.bitmapCache.x,this.bitmapCache.y,b.width/c,b.height/c)}return null};d.getTransformedBounds=function(){return this._getBounds()};d.setBounds=function(b,
c,e,g){this._bounds=b==null?b:(this._bounds||new createjs.Rectangle).setValues(b,c,e,g)};d.clone=function(){return this._cloneProps(new f)};d.toString=function(){return"[DisplayObject (name="+this.name+")]"};d._updateState=null;d._cloneProps=function(b){b.alpha=this.alpha;b.mouseEnabled=this.mouseEnabled;b.tickEnabled=this.tickEnabled;b.name=this.name;b.regX=this.regX;b.regY=this.regY;b.rotation=this.rotation;b.scaleX=this.scaleX;b.scaleY=this.scaleY;b.shadow=this.shadow;b.skewX=this.skewX;b.skewY=
this.skewY;b.visible=this.visible;b.x=this.x;b.y=this.y;b.compositeOperation=this.compositeOperation;b.snapToPixel=this.snapToPixel;b.filters=this.filters==null?null:this.filters.slice(0);b.mask=this.mask;b.hitArea=this.hitArea;b.cursor=this.cursor;b._bounds=this._bounds;return b};d._applyShadow=function(b,c){c=c||Shadow.identity;b.shadowColor=c.color;b.shadowOffsetX=c.offsetX;b.shadowOffsetY=c.offsetY;b.shadowBlur=c.blur};d._tick=function(b){var c=this._listeners;c&&c.tick&&(b.target=null,b.propagationStopped=
b.immediatePropagationStopped=!1,this.dispatchEvent(b))};d._testHit=function(b){try{var c=b.getImageData(0,0,1,1).data[3]>1}catch(e){return!1}return c};d._getBounds=function(b,c){return this._transformBounds(this.getBounds(),b,c)};d._transformBounds=function(b,c,e){if(!b)return b;var g=b.x,h=b.y,k=b.width,m=b.height,l=this._props.matrix;l=e?l.identity():this.getMatrix(l);(g||h)&&l.appendTransform(0,0,1,1,0,0,0,-g,-h);c&&l.prependMatrix(c);c=k*l.a;k*=l.b;e=m*l.c;m*=l.d;var n=l.tx;l=l.ty;var p=n,q=
n,r=l,w=l;(g=c+n)<p?p=g:g>q&&(q=g);(g=c+e+n)<p?p=g:g>q&&(q=g);(g=e+n)<p?p=g:g>q&&(q=g);(h=k+l)<r?r=h:h>w&&(w=h);(h=k+m+l)<r?r=h:h>w&&(w=h);(h=m+l)<r?r=h:h>w&&(w=h);return b.setValues(p,r,q-p,w-r)};d._hasMouseEventListener=function(){for(var b=f._MOUSE_EVENTS,c=0,e=b.length;c<e;c++)if(this.hasEventListener(b[c]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(f,"EventDispatcher")})();
(function(){function f(){this.DisplayObject_constructor();this.children=[];this.tickChildren=this.mouseChildren=!0}var d=createjs.extend(f,createjs.DisplayObject);d._getNumChildren=function(){return this.children.length};d.getNumChildren=createjs.deprecate(d._getNumChildren,"Container.getNumChildren");try{Object.defineProperties(d,{numChildren:{get:d._getNumChildren}})}catch(a){}d.initialize=f;d.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&
this.scaleX!=0&&this.scaleY!=0&&a)};d.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(b=this;b.parent;)b=b.parent;for(var c=this.children.slice(),e=0,g=c.length;e<g;e++){var h=c[e];if(h.isVisible()){if(b.drawRect&&h.name){var k=h.getTransformedBounds();k&&(pointTemp1||=new createjs.Point,pointTemp2||=new createjs.Point,h.parent.localToGlobal(k.x,k.y,pointTemp1),h.parent.localToGlobal(k.x+k.width,k.y+k.height,pointTemp2),k.x=Math.floor(pointTemp1.x),k.y=Math.floor(pointTemp1.y),k.width=
Math.ceil(pointTemp2.x-pointTemp1.x),k.height=Math.ceil(pointTemp2.y-pointTemp1.y),b.drawRect.intersects(k))}a.save();h.updateContext(a);h.draw(a);a.restore()}}return!0};d.addChild=function(a){if(a==null)return a;var b=arguments.length;if(b>1){for(var c=0;c<b;c++)this.addChild(arguments[c]);return arguments[b-1]}b=a.parent;c=b===this;b&&b._removeChildAt(createjs.indexOf(b.children,a),c);a.parent=this;this.children.push(a);c||a.dispatchEvent("added");invalidate(a);return a};d.addChildAt=function(a,
b){var c=arguments.length,e=arguments[c-1];if(e<0||e>this.children.length)return arguments[c-2];if(c>2){for(var g=0;g<c-1;g++)this.addChildAt(arguments[g],e+g);return arguments[c-2]}c=a.parent;e=c===this;c&&c._removeChildAt(createjs.indexOf(c.children,a),e);a.parent=this;this.children.splice(b,0,a);e||a.dispatchEvent("added");invalidate(a);return a};d.removeChild=function(a){var b=arguments.length;if(b>1){for(var c=!0,e=0;e<b;e++)c=c&&this.removeChild(arguments[e]);return c}return this._removeChildAt(createjs.indexOf(this.children,
a))};d.removeChildAt=function(a){var b=arguments.length;if(b>1){for(var c=[],e=0;e<b;e++)c[e]=arguments[e];c.sort(function(h,k){return k-h});var g=!0;for(e=0;e<b;e++)g=g&&this._removeChildAt(c[e]);return g}return this._removeChildAt(a)};d.removeAllChildren=function(){for(var a=this.children;a.length;)this._removeChildAt(0)};d.getChildAt=function(a){return this.children[a]};d.getChildByName=function(a){for(var b=this.children,c=0,e=b.length;c<e;c++)if(b[c].name==a)return b[c];return null};d.sortChildren=
function(a){this.children.sort(a)};d.getChildIndex=function(a){return createjs.indexOf(this.children,a)};d.swapChildrenAt=function(a,b){var c=this.children,e=c[a],g=c[b];e&&g&&(c[a]=g,c[b]=e)};d.swapChildren=function(a,b){for(var c=this.children,e,g,h=0,k=c.length;h<k&&(c[h]==a&&(e=h),c[h]==b&&(g=h),e==null||g==null);h++);h!=k&&(c[e]=b,c[g]=a)};d.setChildIndex=function(a,b){var c=this.children,e=c.length;if(!(a.parent!=this||b<0||b>=e)){for(var g=0;g<e&&c[g]!=a;g++);g!=e&&g!=b&&(c.splice(g,1),c.splice(b,
0,a))}};d.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1};d.hitTest=function(a,b){return this.getObjectUnderPoint(a,b)!=null};d.getObjectsUnderPoint=function(a,b,c){var e=[];a=this.localToGlobal(a,b);this._getObjectsUnderPoint(a.x,a.y,e,c>0,c==1);return e};d.getObjectUnderPoint=function(a,b,c){a=this.localToGlobal(a,b);return this._getObjectsUnderPoint(a.x,a.y,null,c>0,c==1)};d.getBounds=function(){return this._getBounds(null,!0)};d.getTransformedBounds=function(){return this._getBounds()};
d.clone=function(a){var b=this._cloneProps(new f);a&&this._cloneChildren(b);return b};d.toString=function(){return"[Container (name="+this.name+")]"};d._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;b>=0;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};d._cloneChildren=function(a){a.children.length&&a.removeAllChildren();for(var b=a.children,c=0,e=this.children.length;c<e;c++){var g=this.children[c].clone(!0);g.parent=a;b.push(g)}};
d._removeChildAt=function(a,b){if(a<0||a>this.children.length-1)return!1;var c=this.children[a];invalidate(c);c&&(c.parent=null);this.children.splice(a,1);b||c.dispatchEvent("removed");return!0};d._getObjectsUnderPoint=function(a,b,c,e,g,h){h=h||0;if(!h&&!this._testMask(this,a,b))return null;var k=createjs.DisplayObject._hitTestContext;g=g||e&&this._hasMouseEventListener();for(var m=this.children,l=m.length-1;l>=0;l--){var n=m[l],p=n.hitArea;if(n.visible&&(p||n.isVisible())&&(!e||n.mouseEnabled)&&
(p||this._testMask(n,a,b)))if(!p&&n instanceof f){var q=n._getObjectsUnderPoint(a,b,c,e,g,h+1);if(!c&&q)return e&&!this.mouseChildren?this:q}else if(!e||g||n._hasMouseEventListener()){var r=n.getConcatenatedDisplayProps(n._props);q=r.matrix;p&&(q.appendMatrix(p.getMatrix(p._props.matrix)),r.alpha=p.alpha);k.globalAlpha=r.alpha;k.setTransform(q.a,q.b,q.c,q.d,q.tx-a,q.ty-b);(p||n).draw(k);if(this._testHit(k))if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),c)c.push(n);else return e&&!this.mouseChildren?
this:n}}return null};d._testMask=function(a,b,c){var e=a.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var g=this._props.matrix;g=(a=a.parent)?a.getConcatenatedMatrix(g):g.identity();g=e.getMatrix(e._props.matrix).prependMatrix(g);a=createjs.DisplayObject._hitTestContext;a.setTransform(g.a,g.b,g.c,g.d,g.tx-b,g.ty-c);e.graphics.drawAsPath(a);a.fillStyle="#000";a.fill();if(!this._testHit(a))return!1;a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,2,2);return!0};d._getBounds=function(a,b){var c=
this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var e=this._props.matrix;e=b?e.identity():this.getMatrix(e);a&&e.prependMatrix(a);a=this.children.length;b=null;for(var g=0;g<a;g++){var h=this.children[g];h.visible&&(c=h._getBounds(e))&&(b?b.extend(c.x,c.y,c.width,c.height):b=c.clone())}return b};createjs.Container=createjs.promote(f,"DisplayObject")})();
(function(){function f(a){this.Container_constructor();this.autoClear=!0;this.canvas=typeof a=="string"?document.getElementById(a):a;this.mouseY=this.mouseX=0;this.drawRect=null;this.mouseInBounds=this.snapToPixelEnabled=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._prevStage=this._nextStage=this._mouseOverIntervalID=this._primaryPointerID=null;this.enableDOMEvents(!0)}var d=createjs.extend(f,createjs.Container);d._get_nextStage=
function(){return this._nextStage};d._set_nextStage=function(a){this._nextStage&&(this._nextStage._prevStage=null);a&&(a._prevStage=this);this._nextStage=a};try{Object.defineProperties(d,{nextStage:{get:d._get_nextStage,set:d._set_nextStage}})}catch(a){}d.update=function(a){if(this.canvas&&(this.tickOnUpdate&&this.tick(a),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;a=this.drawRect;var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);this.autoClear&&(a?b.clearRect(a.x,a.y,a.width,a.height):b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));b.save();this.drawRect&&(b.beginPath(),b.rect(a.x,a.y,a.width,a.height),b.clip());this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};d.tick=function(a){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var b=new createjs.Event("tick");if(a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this._tick(b);this.dispatchEvent("tickend")}};
d.handleEvent=function(a){a.type=="tick"&&this.update(a)};d.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};d.toDataURL=function(a,b){var c=this.canvas.getContext("2d"),e=this.canvas.width,g=this.canvas.height;if(a){var h=c.getImageData(0,0,e,g);var k=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=a;c.fillRect(0,0,e,g)}b=this.canvas.toDataURL(b||"image/png");
a&&(c.putImageData(h,0,0),c.globalCompositeOperation=k);return b};d.enableMouseOver=function(a){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,a==0&&this._testMouseOver(!0));if(a==null)a=20;else if(a<=0)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};d.enableDOMEvents=function(a){a==null&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);
this._eventListeners=null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var e=this;c=this._eventListeners={};c.mouseup={t:a,f:function(g){try{e._handleMouseUp(g)}catch(h){throw dblRecordError(h),h;}}};c.mousemove={t:a,f:function(g){try{e._handleMouseMove(g)}catch(h){throw dblRecordError(h),h;}}};c.dblclick={t:this.canvas,f:function(g){try{e._handleDoubleClick(g)}catch(h){throw dblRecordError(h),h;}}};c.mousedown={t:this.canvas,f:function(g){try{e._handleMouseDown(g)}catch(h){throw dblRecordError(h),
h;}}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};d.clone=function(){throw"Stage cannot be cloned.";};d.toString=function(){return"[Stage (name="+this.name+")]"};d._getElementRect=function(a){try{var b=a.getBoundingClientRect()}catch(m){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var c=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||
0),g=window.getComputedStyle?getComputedStyle(a,null):a.currentStyle;a=parseInt(g.paddingLeft)+parseInt(g.borderLeftWidth);var h=parseInt(g.paddingTop)+parseInt(g.borderTopWidth),k=parseInt(g.paddingRight)+parseInt(g.borderRightWidth);g=parseInt(g.paddingBottom)+parseInt(g.borderBottomWidth);return{left:b.left+c+a,right:b.right+c-k,top:b.top+e+h,bottom:b.bottom+e-g}};d._getPointerData=function(a){var b=this._pointerData[a];b||=this._pointerData[a]={x:0,y:0};return b};d._handleMouseMove=function(a){a||
(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};d._handlePointerMove=function(a,b,c,e,g){if((!this._prevStage||g!==void 0)&&this.canvas){g=this._nextStage;var h=this._getPointerData(a),k=h.inBounds;this._updatePointerPosition(a,b,c,e);if(k||h.inBounds||this.mouseMoveOutside)a===-1&&h.inBounds==!k&&this._dispatchMouseEvent(this,k?"mouseleave":"mouseenter",!1,a,h,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,h,b),this._dispatchMouseEvent(h.target,"pressmove",!0,a,h,b);g&&g._handlePointerMove(a,
b,c,e,null)}};d._updatePointerPosition=function(a,b,c,e){var g=this._getElementRect(this.canvas);c-=g.left;e-=g.top;var h=this.canvas.width,k=this.canvas.height;c/=(g.right-g.left)/h;e/=(g.bottom-g.top)/k;g=this._getPointerData(a);(g.inBounds=c>=0&&e>=0&&c<=h-1&&e<=k-1)?(g.x=c,g.y=e):this.mouseMoveOutside&&(g.x=c<0?0:c>h-1?h-1:c,g.y=e<0?0:e>k-1?k-1:e);g.posEvtObj=b;g.rawX=c;g.rawY=e;if(a===this._primaryPointerID||a===-1)this.mouseX=g.x,this.mouseY=g.y,this.mouseInBounds=g.inBounds};d._handleMouseUp=
function(a){this._handlePointerUp(-1,a,!1)};d._handlePointerUp=function(a,b,c,e){var g=this._nextStage,h=this._getPointerData(a);if(!this._prevStage||e!==void 0){var k=null,m=h.target;e||!m&&!g||(k=this._getObjectsUnderPoint(h.x,h.y,null,!0));var l=createjs.MouseCapture.get();if(l){var n=!1;if(l.clearOnMouseUp)createjs.MouseCapture.clear(),n=!0;else if(l.onMouseUp||l.captureMouseUp)l.onMouseUp&&(n=new createjs.MouseEvent("stagemouseup",!1,!1,h.x,h.y,b,a,a===this._primaryPointerID||a===-1,h.rawX,h.rawY,
k),l.onMouseUp(n)),n=!0;if(n){c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):h.target=null;return}}h.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,a,h,b,k),h.down=!1);k==m&&this._dispatchMouseEvent(m,"click",!0,a,h,b);this._dispatchMouseEvent(m,"pressup",!0,a,h,b);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):h.target=null;g&&g._handlePointerUp(a,b,c,e||k&&this)}};d._handleMouseDown=function(a){this._handlePointerDown(-1,
a,a.pageX,a.pageY)};d._handlePointerDown=function(a,b,c,e,g){this.preventSelection&&b.preventDefault();if(this._primaryPointerID==null||a===-1)this._primaryPointerID=a;e!=null&&this._updatePointerPosition(a,b,c,e);var h=null,k=this._nextStage,m=this._getPointerData(a);g||(h=m.target=this._getObjectsUnderPoint(m.x,m.y,null,!0));var l=createjs.MouseCapture.get();l&&(l.onMouseDown||l.captureMouseDown)?l.onMouseDown&&(a=new createjs.MouseEvent("stagemousedown",!1,!1,m.x,m.y,b,a,a===this._primaryPointerID||
a===-1,m.rawX,m.rawY,h),l.onMouseDown(a)):(m.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,a,m,b,h),m.down=!0),this._dispatchMouseEvent(h,"mousedown",!0,a,m,b),k&&k._handlePointerDown(a,b,c,e,g||h&&this))};d._testMouseOver=function(a,b,c){if(!this._prevStage||b!==void 0){var e=this._nextStage;if(this._mouseOverIntervalID){var g=this._getPointerData(-1);if(g&&!(!a&&this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds&&framesSinceRedraw>3)){var h=g.posEvtObj,
k=c||h&&(h.target==this.canvas||h.target.id=="lrt4LessonDiv"),m=null,l=-1,n="",p;!b&&(a||this.mouseInBounds&&k)&&(m=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var q=this._mouseOverTarget||[],r=q[q.length-1],w=this._mouseOverTarget=[];for(p=m;p;)w.unshift(p),n||(n=p.cursor),p=p.parent;this.canvas.style.cursor=n;!b&&c&&(c.canvas.style.cursor=n);n=0;for(p=w.length;n<p&&w[n]==q[n];n++)l=n;r!=m&&this._dispatchMouseEvent(r,"mouseout",
!0,-1,g,h,m);for(n=q.length-1;n>l;n--)this._dispatchMouseEvent(q[n],"rollout",!1,-1,g,h,m);for(n=w.length-1;n>l;n--)this._dispatchMouseEvent(w[n],"rollover",!1,-1,g,h,r);r!=m&&this._dispatchMouseEvent(m,"mouseover",!0,-1,g,h,r);e&&e._testMouseOver(a,b||m&&this,c||k&&this)}}else e&&e._testMouseOver(a,b,c)}};d._handleDoubleClick=function(a,b){var c=null,e=this._nextStage,g=this._getPointerData(-1);b||(c=this._getObjectsUnderPoint(g.x,g.y,null,!0),this._dispatchMouseEvent(c,"dblclick",!0,-1,g,a));e&&
e._handleDoubleClick(a,b||c&&this)};d._dispatchMouseEvent=function(a,b,c,e,g,h,k){a&&(c||a.hasEventListener(b))&&(b=new createjs.MouseEvent(b,c,!1,g.x,g.y,h,e,e===this._primaryPointerID||e===-1,g.rawX,g.rawY,k),a.dispatchEvent(b))};createjs.Stage=createjs.promote(f,"Container")})();
(function(){function f(a,b){this.Stage_constructor(a);if(b!==void 0){if(typeof b!=="object")throw"Invalid options object";var c=b.premultiply,e=b.transparent,g=b.depth,h=b.antialias,k=b.preserveBuffer,m=b.autoPurge}this.vocalDebug=!1;this._preserveBuffer=k||!1;this._antialias=h||!1;this._depth=g||!1;this._transparent=e||!1;this._premultiply=c||!1;this._autoPurge=void 0;this.autoPurge=m;this._viewportHeight=this._viewportWidth=0;this._webGLContext=this._projectionMatrix=null;this._clearColor={r:.5,
g:.5,b:.5,a:0};this._maxCardsPerBatch=1;this._alphaBuffer=this._alphas=this._textureIndexBuffer=this._indices=this._uvPositionBuffer=this._uvs=this._vertexPositionBuffer=this._vertices=this._activeShader=null;this._textureDictionary=[];this._textureIDs={};this._batchTextures=[];this._baseTextures=[];this._batchTextureCount=8;this._lastTextureInsert=-1;this._drawID=this._batchID=0;this._slotBlacklist=[];this._lastTrackedCanvas=this._isDrawing=0;this.isCacheControlled=!1;this._cacheContainer=new createjs.Container;
this._initializeWebGL()}var d=createjs.extend(f,createjs.Stage);f.buildUVRects=function(a,b,c){if(!a||!a._frames)return null;b===void 0&&(b=-1);c===void 0&&(c=!1);var e=b!=-1&&c?b+1:a._frames.length;for(c=b!=-1&&c?b:0;c<e;c++){var g=a._frames[c];if(!(g.uvRect||g.image.width<=0||g.image.height<=0)){var h=g.rect;g.uvRect={t:h.y/g.image.height,l:h.x/g.image.width,b:(h.y+h.height)/g.image.height,r:(h.x+h.width)/g.image.width}}}return a._frames[b!=-1?b:0].uvRect||{t:0,l:0,b:1,r:1}};f.isWebGLActive=function(a){return a&&
a instanceof WebGLRenderingContext&&typeof WebGLRenderingContext!=="undefined"};f.VERTEX_PROPERTY_COUNT=6;f.INDICIES_PER_CARD=6;f.DEFAULT_MAX_BATCH_SIZE=1E4;f.WEBGL_MAX_INDEX_NUM=65536;f.UV_RECT={t:0,l:0,b:1,r:1};try{f.COVER_VERT=new Float32Array([-1,1,1,1,-1,-1,1,1,1,-1,-1,-1]),f.COVER_UV=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),f.COVER_UV_FLIP=new Float32Array([0,1,1,1,0,0,1,1,1,0,0,0])}catch(a){}f.REGULAR_VARYING_HEADER="precision mediump float;varying vec2 vTextureCoord;varying lowp float indexPicker;varying lowp float alphaValue;";
f.REGULAR_VERTEX_HEADER=f.REGULAR_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;attribute lowp float textureIndex;attribute lowp float objectAlpha;uniform mat4 pMatrix;";f.REGULAR_FRAGMENT_HEADER=f.REGULAR_VARYING_HEADER+"uniform sampler2D uSampler[{{count}}];";f.REGULAR_VERTEX_BODY="void main(void) {gl_Position = vec4((vertexPosition.x * pMatrix[0][0]) + pMatrix[3][0],(vertexPosition.y * pMatrix[1][1]) + pMatrix[3][1],pMatrix[3][2],1.0);alphaValue = objectAlpha;indexPicker = textureIndex;vTextureCoord = uvPosition;}";
f.REGULAR_FRAGMENT_BODY="void main(void) {vec4 color = vec4(1.0, 0.0, 0.0, 1.0);if (indexPicker <= 0.5) {color = texture2D(uSampler[0], vTextureCoord);{{alternates}}}{{fragColor}}}";f.REGULAR_FRAG_COLOR_NORMAL="gl_FragColor = vec4(color.rgb, color.a * alphaValue);";f.REGULAR_FRAG_COLOR_PREMULTIPLY="if(color.a > 0.0035) {gl_FragColor = vec4(color.rgb/color.a, color.a * alphaValue);} else {gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);}";f.PARTICLE_VERTEX_BODY=f.REGULAR_VERTEX_BODY;f.PARTICLE_FRAGMENT_BODY=
f.REGULAR_FRAGMENT_BODY;f.COVER_VARYING_HEADER="precision mediump float;varying highp vec2 vRenderCoord;varying highp vec2 vTextureCoord;";f.COVER_VERTEX_HEADER=f.COVER_VARYING_HEADER+"attribute vec2 vertexPosition;attribute vec2 uvPosition;uniform float uUpright;";f.COVER_FRAGMENT_HEADER=f.COVER_VARYING_HEADER+"uniform sampler2D uSampler;";f.COVER_VERTEX_BODY="void main(void) {gl_Position = vec4(vertexPosition.x, vertexPosition.y, 0.0, 1.0);vRenderCoord = uvPosition;vTextureCoord = vec2(uvPosition.x, abs(uUpright - uvPosition.y));}";
f.COVER_FRAGMENT_BODY="void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = color;}";d._get_isWebGL=function(){return!!this._webGLContext};d._set_autoPurge=function(a){a=isNaN(a)?1200:a;a!=-1&&(a=a<10?10:a);this._autoPurge=a};d._get_autoPurge=function(){return Number(this._autoPurge)};try{Object.defineProperties(d,{isWebGL:{get:d._get_isWebGL},autoPurge:{get:d._get_autoPurge,set:d._set_autoPurge}})}catch(a){}d._initializeWebGL=function(){if(this.canvas){if(!this._webGLContext||
this._webGLContext.canvas!==this.canvas){var a=this._webGLContext=this._fetchWebGLContext(this.canvas,{depth:this._depth,alpha:this._transparent,stencil:!0,antialias:this._antialias,premultipliedAlpha:this._premultiply,preserveDrawingBuffer:this._preserveBuffer});if(!a)return null;this.updateSimultaneousTextureCount(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS));this._maxTextureSlots=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS);this._createBuffers(a);this._initTextures(a);this._depth||a.disable(a.DEPTH_TEST);
a.enable(a.BLEND);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiply);this._webGLContext.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a);this.updateViewport(this._viewportWidth||this.canvas.width,this._viewportHeight||this.canvas.height)}}else this._webGLContext=null;return this._webGLContext};d.update=function(a){this.canvas&&(this.tickOnUpdate&&this.tick(a),this.dispatchEvent("drawstart",
!1,!0)!==!1&&(this.autoClear&&this.clear(),this._webGLContext?(this._batchDraw(this,this._webGLContext),this._autoPurge==-1||this._drawID%(this._autoPurge/2|0)||this.purgeTextures(this._autoPurge)):(a=this.canvas.getContext("2d"),a.save(),this.updateContext(a),this.draw(a,!1),a.restore()),this.dispatchEvent("drawend")))};d.clear=function(){if(this.canvas)if(f.isWebGLActive(this._webGLContext)){var a=this._webGLContext,b=this._clearColor,c=this._transparent?b.a:1;this._webGLContext.clearColor(b.r*
c,b.g*c,b.b*c,c);a.clear(a.COLOR_BUFFER_BIT);this._webGLContext.clearColor(b.r,b.g,b.b,b.a)}else this.Stage_clear()};d.draw=function(a,b){return a===this._webGLContext&&f.isWebGLActive(this._webGLContext)?(this._batchDraw(this,this._webGLContext,b),!0):this.Stage_draw(a,b)};d.cacheDraw=function(a,b,c){return f.isWebGLActive(this._webGLContext)?(this._cacheDraw(this._webGLContext,a,b,c),!0):!1};d.protectTextureSlot=function(a,b){if(a>this._maxTextureSlots||a<0)throw"Slot outside of acceptable range";
this._slotBlacklist[a]=!!b};d.getTargetRenderTexture=function(a,b,c){var e=!1,g=this._webGLContext;a.__lastRT!==void 0&&a.__lastRT===a.__rtA&&(e=!0);e?(a.__rtB===void 0?a.__rtB=this.getRenderBufferTexture(b,c):(b==a.__rtB._width&&c==a.__rtB._height||this.resizeTexture(a.__rtB,b,c),this.setTextureParams(g)),b=a.__rtB):(a.__rtA===void 0?a.__rtA=this.getRenderBufferTexture(b,c):(b==a.__rtA._width&&c==a.__rtA._height||this.resizeTexture(a.__rtA,b,c),this.setTextureParams(g)),b=a.__rtA);if(!b)throw"Problems creating render textures, known causes include using too much VRAM by not releasing WebGL texture instances";
return a.__lastRT=b};d.releaseTexture=function(a){var b;if(a){if(a.children){var c=0;for(b=a.children.length;c<b;c++)this.releaseTexture(a.children[c])}a.cacheCanvas&&a.uncache();c=void 0;if(a._storeID!==void 0){if(a===this._textureDictionary[a._storeID]){this._killTextureObject(a);a._storeID=void 0;return}c=a}else if(a._webGLRenderStyle===2)c=a.image;else if(a._webGLRenderStyle===1){c=0;for(b=a.spriteSheet._images.length;c<b;c++)this.releaseTexture(a.spriteSheet._images[c]);return}c===void 0?this.vocalDebug&&
console.log("No associated texture found on release"):(this._killTextureObject(this._textureDictionary[c._storeID]),c._storeID=void 0)}};d.purgeTextures=function(a){a==void 0&&(a=100);for(var b=this._textureDictionary,c=b.length,e=0;e<c;e++){var g=b[e];g&&g._drawID+a<=this._drawID&&this._killTextureObject(g)}};d.updateSimultaneousTextureCount=function(a){var b=this._webGLContext,c=!1;if(a<1||isNaN(a))a=1;for(this._batchTextureCount=a;!c;)try{this._activeShader=this._fetchShaderProgram(b),c=!0}catch(e){if(this._batchTextureCount==
1)throw"Cannot compile shader "+e;this._batchTextureCount-=4;this._batchTextureCount<1&&(this._batchTextureCount=1);this.vocalDebug&&console.log("Reducing desired texture count due to errors: "+this._batchTextureCount)}};d.updateViewport=function(a,b){this._viewportWidth=a|0;this._viewportHeight=b|0;if(a=this._webGLContext)a.viewport(0,0,this._viewportWidth,this._viewportHeight),this._projectionMatrix=new Float32Array([2/this._viewportWidth,0,0,0,0,-2/this._viewportHeight,1,0,0,0,1,0,-1,1,.1,0]),
this._projectionMatrixFlip=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._projectionMatrixFlip.set(this._projectionMatrix),this._projectionMatrixFlip[5]*=-1,this._projectionMatrixFlip[13]*=-1};d.getFilterShader=function(a){a||=this;var b=this._webGLContext,c=this._activeShader;if(a._builtShader)c=a._builtShader,a.shaderParamSetup&&(b.useProgram(c),a.shaderParamSetup(b,this,c));else try{c=this._fetchShaderProgram(b,"filter",a.VTX_SHADER_BODY,a.FRAG_SHADER_BODY,a.shaderParamSetup&&a.shaderParamSetup.bind(a)),
a._builtShader=c,c._name=a.toString()}catch(e){console&&console.log("SHADER SWITCH FAILURE",e)}return c};d.getBaseTexture=function(a,b){a=Math.ceil(a>0?a:1)||1;b=Math.ceil(b>0?b:1)||1;var c=this._webGLContext,e=c.createTexture();this.resizeTexture(e,a,b);this.setTextureParams(c,!1);return e};d.resizeTexture=function(a,b,c){var e=this._webGLContext;e.bindTexture(e.TEXTURE_2D,a);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,b,c,0,e.RGBA,e.UNSIGNED_BYTE,null);a.width=b;a.height=c};d.getRenderBufferTexture=function(a,
b){var c=this._webGLContext,e=this.getBaseTexture(a,b);if(!e)return null;var g=c.createFramebuffer();if(!g)return null;e.width=a;e.height=b;c.bindFramebuffer(c.FRAMEBUFFER,g);c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,e,0);g._renderTexture=e;e._frameBuffer=g;e._storeID=this._textureDictionary.length;this._textureDictionary[e._storeID]=e;c.bindFramebuffer(c.FRAMEBUFFER,null);return e};d.setTextureParams=function(a,b){b&&this._antialias?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,
a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST));a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)};d.setClearColor=function(a){if(typeof a=="string")if(a.indexOf("#")==0){a.length==4&&(a="#"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3));var b=Number("0x"+
a.slice(1,3))/255;var c=Number("0x"+a.slice(3,5))/255;var e=Number("0x"+a.slice(5,7))/255;var g=Number("0x"+a.slice(7,9))/255}else a.indexOf("rgba(")==0&&(a=a.slice(5,-1).split(","),b=Number(a[0])/255,c=Number(a[1])/255,e=Number(a[2])/255,g=Number(a[3]));else b=((a&4278190080)>>>24)/255,c=((a&16711680)>>>16)/255,e=((a&65280)>>>8)/255,g=(a&255)/255;this._clearColor.r=b||0;this._clearColor.g=c||0;this._clearColor.b=e||0;this._clearColor.a=g||0;this._webGLContext&&this._webGLContext.clearColor(this._clearColor.r,
this._clearColor.g,this._clearColor.b,this._clearColor.a)};d.toString=function(){return"[StageGL (name="+this.name+")]"};d._fetchWebGLContext=function(a,b){try{var c=a.getContext("webgl",b)||a.getContext("experimental-webgl",b)}catch(e){}c?(c.viewportWidth=a.width,c.viewportHeight=a.height):console.error?console.error("Could not initialize WebGL"):console.log("Could not initialize WebGL");return c};d._fetchShaderProgram=function(a,b,c,e,g){a.useProgram(null);switch(b){case "filter":c=f.COVER_VERTEX_HEADER+
(c||f.COVER_VERTEX_BODY);e=f.COVER_FRAGMENT_HEADER+(e||f.COVER_FRAGMENT_BODY);break;case "particle":c=f.REGULAR_VERTEX_HEADER+f.PARTICLE_VERTEX_BODY;e=f.REGULAR_FRAGMENT_HEADER+f.PARTICLE_FRAGMENT_BODY;break;case "override":c=f.REGULAR_VERTEX_HEADER+(c||f.REGULAR_VERTEX_BODY);e=f.REGULAR_FRAGMENT_HEADER+(e||f.REGULAR_FRAGMENT_BODY);break;default:c=f.REGULAR_VERTEX_HEADER+f.REGULAR_VERTEX_BODY,e=f.REGULAR_FRAGMENT_HEADER+f.REGULAR_FRAGMENT_BODY}c=this._createShader(a,a.VERTEX_SHADER,c);var h=this._createShader(a,
a.FRAGMENT_SHADER,e);e=a.createProgram();a.attachShader(e,c);a.attachShader(e,h);a.linkProgram(e);e._type=b;if(!a.getProgramParameter(e,a.LINK_STATUS))throw a.useProgram(this._activeShader),a.getProgramInfoLog(e);a.useProgram(e);switch(b){case "filter":e.vertexPositionAttribute=a.getAttribLocation(e,"vertexPosition");a.enableVertexAttribArray(e.vertexPositionAttribute);e.uvPositionAttribute=a.getAttribLocation(e,"uvPosition");a.enableVertexAttribArray(e.uvPositionAttribute);e.samplerUniform=a.getUniformLocation(e,
"uSampler");a.uniform1i(e.samplerUniform,0);e.uprightUniform=a.getUniformLocation(e,"uUpright");a.uniform1f(e.uprightUniform,0);g&&g(a,this,e);break;default:e.vertexPositionAttribute=a.getAttribLocation(e,"vertexPosition");a.enableVertexAttribArray(e.vertexPositionAttribute);e.uvPositionAttribute=a.getAttribLocation(e,"uvPosition");a.enableVertexAttribArray(e.uvPositionAttribute);e.textureIndexAttribute=a.getAttribLocation(e,"textureIndex");a.enableVertexAttribArray(e.textureIndexAttribute);e.alphaAttribute=
a.getAttribLocation(e,"objectAlpha");a.enableVertexAttribArray(e.alphaAttribute);b=[];for(g=0;g<this._batchTextureCount;g++)b[g]=g;e.samplerData=b;e.samplerUniform=a.getUniformLocation(e,"uSampler");a.uniform1iv(e.samplerUniform,b);e.pMatrixUniform=a.getUniformLocation(e,"pMatrix")}a.useProgram(this._activeShader);return e};d._createShader=function(a,b,c){c=c.replace(/{{count}}/g,this._batchTextureCount);for(var e="",g=1;g<this._batchTextureCount;g++)e+="} else if (indexPicker <= "+g+".5) { color = texture2D(uSampler["+
g+"], vTextureCoord);";c=c.replace(/{{alternates}}/g,e);c=c.replace(/{{fragColor}}/g,this._premultiply?f.REGULAR_FRAG_COLOR_PREMULTIPLY:f.REGULAR_FRAG_COLOR_NORMAL);b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);if(!a.getShaderParameter(b,a.COMPILE_STATUS))throw a.getShaderInfoLog(b);return b};d._createBuffers=function(a){var b=this._maxCardsPerBatch*f.INDICIES_PER_CARD,c,e=this._vertexPositionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);var g=2;var h=this._vertices=new Float32Array(b*
g);var k=0;for(c=h.length;k<c;k+=g)h[k]=h[k+1]=0;a.bufferData(a.ARRAY_BUFFER,h,a.DYNAMIC_DRAW);e.itemSize=g;e.numItems=b;e=this._uvPositionBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);g=2;h=this._uvs=new Float32Array(b*g);k=0;for(c=h.length;k<c;k+=g)h[k]=h[k+1]=0;a.bufferData(a.ARRAY_BUFFER,h,a.DYNAMIC_DRAW);e.itemSize=g;e.numItems=b;e=this._textureIndexBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);g=1;h=this._indices=new Float32Array(b*g);k=0;for(c=h.length;k<c;k++)h[k]=0;a.bufferData(a.ARRAY_BUFFER,
h,a.DYNAMIC_DRAW);e.itemSize=g;e.numItems=b;e=this._alphaBuffer=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,e);g=1;h=this._alphas=new Float32Array(b*g);k=0;for(c=h.length;k<c;k++)h[k]=1;a.bufferData(a.ARRAY_BUFFER,h,a.DYNAMIC_DRAW);e.itemSize=g;e.numItems=b};d._initTextures=function(){this._lastTextureInsert=-1;this._textureDictionary=[];this._textureIDs={};this._baseTextures=[];this._batchTextures=[];for(var a=0;a<this._batchTextureCount;a++){var b=this.getBaseTexture();this._baseTextures[a]=this._batchTextures[a]=
b;if(!b)throw"Problems creating basic textures, known causes include using too much VRAM by not releasing WebGL texture instances";}};d._loadTextureImage=function(a,b){var c=b.src;c||(b._isCanvas=!0,c=b.src="canvas_"+this._lastTrackedCanvas++);var e=this._textureIDs[c];e===void 0&&(e=this._textureIDs[c]=this._textureDictionary.length);this._textureDictionary[e]===void 0&&(this._textureDictionary[e]=this.getBaseTexture());(c=this._textureDictionary[e])?(c._batchID=this._batchID,c._storeID=e,c._imageData=
b,this._insertTextureInBatch(a,c),b._storeID=e,b.complete||b.naturalWidth||b._isCanvas?this._updateTextureImageData(a,b):b.addEventListener("load",this._updateTextureImageData.bind(this,a,b))):(console.error&&console.error("Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances")||console.log("Problem creating desired texture, known causes include using too much VRAM by not releasing WebGL texture instances"),c=this._baseTextures[0],c._batchID=
this._batchID,c._storeID=-1,c._imageData=c,this._insertTextureInBatch(a,c));return c};d._updateTextureImageData=function(a,b){var c=b.width&b.width-1||b.height&b.height-1,e=this._textureDictionary[b._storeID];a.activeTexture(a.TEXTURE0+e._activeIndex);a.bindTexture(a.TEXTURE_2D,e);e.isPOT=!c;this.setTextureParams(a,e.isPOT);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b)}catch(g){console.error?(console.error("\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins"),
console.error(g)):console&&(console.log("\nAn error has occurred. This is most likely due to security restrictions on WebGL images with local or cross-domain origins"),console.log(g))}b._invalid=!1;e._w=b.width;e._h=b.height;this.vocalDebug&&(c&&console.warn("NPOT(Non Power of Two) Texture: "+b.src),(b.width>a.MAX_TEXTURE_SIZE||b.height>a.MAX_TEXTURE_SIZE)&&console&&console.error("Oversized Texture: "+b.width+"x"+b.height+" vs "+a.MAX_TEXTURE_SIZE+"max"))};d._insertTextureInBatch=function(a,b){if(this._batchTextures[b._activeIndex]!==
b){var c=-1,e=(this._lastTextureInsert+1)%this._batchTextureCount,g=e;do{if(this._batchTextures[g]._batchID!=this._batchID&&!this._slotBlacklist[g]){c=g;break}g=(g+1)%this._batchTextureCount}while(g!==e);c===-1&&(this.batchReason="textureOverflow",this._drawBuffers(a),this.batchCardCount=0,c=e);this._batchTextures[c]=b;b._activeIndex=c;(e=b._imageData)&&e._invalid&&b._drawID!==void 0?this._updateTextureImageData(a,e):(a.activeTexture(a.TEXTURE0+c),a.bindTexture(a.TEXTURE_2D,b),this.setTextureParams(a));
this._lastTextureInsert=c}else e=b._imageData,b._storeID!=void 0&&e&&e._invalid&&this._updateTextureImageData(a,e);b._drawID=this._drawID;b._batchID=this._batchID};d._killTextureObject=function(a){if(a){var b=this._webGLContext;if(a._storeID!==void 0&&a._storeID>=0){this._textureDictionary[a._storeID]=void 0;for(var c in this._textureIDs)this._textureIDs[c]==a._storeID&&delete this._textureIDs[c];a._imageData&&(a._imageData._storeID=void 0);a._imageData=a._storeID=void 0}a._activeIndex!==void 0&&
this._batchTextures[a._activeIndex]===a&&(this._batchTextures[a._activeIndex]=this._baseTextures[a._activeIndex]);try{a._frameBuffer&&b.deleteFramebuffer(a._frameBuffer),a._frameBuffer=void 0}catch(e){this.vocalDebug&&console.log(e)}try{b.deleteTexture(a)}catch(e){this.vocalDebug&&console.log(e)}}};d._backupBatchTextures=function(a,b){var c=this._webGLContext;this._backupTextures||(this._backupTextures=[]);b===void 0&&(b=this._backupTextures);for(var e=0;e<this._batchTextureCount;e++)c.activeTexture(c.TEXTURE0+
e),a?this._batchTextures[e]=b[e]:(b[e]=this._batchTextures[e],this._batchTextures[e]=this._baseTextures[e]),c.bindTexture(c.TEXTURE_2D,this._batchTextures[e]),this.setTextureParams(c,this._batchTextures[e].isPOT);a&&b===this._backupTextures&&(this._backupTextures=[])};d._batchDraw=function(a,b,c){this._isDrawing>0&&this._drawBuffers(b);this._isDrawing++;this._drawID++;this.depth=this.batchCardCount=0;this._appendToBatchGroup(a,b,new createjs.Matrix2D,this.alpha,c);this.batchReason="drawFinish";this._drawBuffers(b);
this._isDrawing--};d._cacheDraw=function(a,b,c,e){var g=this._activeShader,h=this._slotBlacklist,k=this._maxTextureSlots-1,m=this._viewportWidth,l=this._viewportHeight;this.protectTextureSlot(k,!0);var n=b.getMatrix();n=n.clone();n.scale(1/e.scale,1/e.scale);n=n.invert();n.translate(-e.offX/e.scale*b.scaleX,-e.offY/e.scale*b.scaleY);var p=this._cacheContainer;p.children=[b];p.transformMatrix=n;this._backupBatchTextures(!1);c&&c.length?this._drawFilters(b,c,e):this.isCacheControlled?(a.clear(a.COLOR_BUFFER_BIT),
this._batchDraw(p,a,!0)):(a.activeTexture(a.TEXTURE0+k),b.cacheCanvas=this.getTargetRenderTexture(b,e._drawWidth,e._drawHeight),b=b.cacheCanvas,a.bindFramebuffer(a.FRAMEBUFFER,b._frameBuffer),this.updateViewport(e._drawWidth,e._drawHeight),this._projectionMatrix=this._projectionMatrixFlip,a.clear(a.COLOR_BUFFER_BIT),this._batchDraw(p,a,!0),a.bindFramebuffer(a.FRAMEBUFFER,null),this.updateViewport(m,l));this._backupBatchTextures(!0);this.protectTextureSlot(k,!1);this._activeShader=g;this._slotBlacklist=
h};d._drawFilters=function(a,b,c){var e=this._webGLContext,g=this._maxTextureSlots-1,h=this._viewportWidth,k=this._viewportHeight,m=this._cacheContainer,l=b.length;e.activeTexture(e.TEXTURE0+g);var n=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight);e.bindFramebuffer(e.FRAMEBUFFER,n._frameBuffer);this.updateViewport(c._drawWidth,c._drawHeight);e.clear(e.COLOR_BUFFER_BIT);this._batchDraw(m,e,!0);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,n);this.setTextureParams(e);m=!1;var p=0,
q=b[p];do if(this._activeShader=this.getFilterShader(q)){e.activeTexture(e.TEXTURE0+g);n=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight);e.bindFramebuffer(e.FRAMEBUFFER,n._frameBuffer);e.viewport(0,0,c._drawWidth,c._drawHeight);e.clear(e.COLOR_BUFFER_BIT);this._drawCover(e,m);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,n);this.setTextureParams(e);if(l>1||b[0]._multiPass)m=!m;q=q._multiPass!==null?q._multiPass:b[++p]}while(q);this.isCacheControlled?(e.bindFramebuffer(e.FRAMEBUFFER,
null),this.updateViewport(h,k),this._activeShader=this.getFilterShader(this),e.clear(e.COLOR_BUFFER_BIT),this._drawCover(e,m)):(m&&(e.activeTexture(e.TEXTURE0+g),n=this.getTargetRenderTexture(a,c._drawWidth,c._drawHeight),e.bindFramebuffer(e.FRAMEBUFFER,n._frameBuffer),this._activeShader=this.getFilterShader(this),e.viewport(0,0,c._drawWidth,c._drawHeight),e.clear(e.COLOR_BUFFER_BIT),this._drawCover(e,!m)),e.bindFramebuffer(e.FRAMEBUFFER,null),this.updateViewport(h,k),a.cacheCanvas=n)};d._appendToBatchGroup=
function(a,b,c,e,g){a._glMtx||(a._glMtx=new createjs.Matrix2D);var h=a._glMtx;h.copy(c);a.transformMatrix?h.appendMatrix(a.transformMatrix):h.appendTransform(a.x,a.y,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY);var k;c=a.children.length;for(var m=0;m<c;m++){var l=a.children[m];if(l.visible&&e){if(!l.cacheCanvas||g)if(l._updateState&&l._updateState(),l.children){this._appendToBatchGroup(l,b,h,l.alpha*e);continue}this.batchCardCount+1>this._maxCardsPerBatch&&(this.batchReason="vertexOverflow",
this._drawBuffers(b),this.batchCardCount=0);l._glMtx||(l._glMtx=new createjs.Matrix2D);var n=l._glMtx;n.copy(h);l.transformMatrix?n.appendMatrix(l.transformMatrix):n.appendTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,l.skewX,l.skewY,l.regX,l.regY);var p=l.cacheCanvas&&!g;if(l._webGLRenderStyle===2||p)var q=(g?!1:l.cacheCanvas)||l.image;else if(l._webGLRenderStyle===1){var r=l.spriteSheet.getFrame(l.currentFrame);if(r===null)continue;q=r.image}else continue;var w=this._uvs,u=this._vertices,J=this._indices,
H=this._alphas;if(q){if(q._storeID===void 0){var K=this._loadTextureImage(b,q);this._insertTextureInBatch(b,K)}else{K=this._textureDictionary[q._storeID];if(!K){this.vocalDebug&&console.log("Texture should not be looked up while not being stored.");continue}K._batchID!==this._batchID&&this._insertTextureInBatch(b,K)}K=K._activeIndex;if(l._webGLRenderStyle===2||p)if(!p&&l.sourceRect){l._uvRect||(l._uvRect={});var C=l.sourceRect;var y=l._uvRect;y.t=C.y/q.height;y.l=C.x/q.width;y.b=(C.y+C.height)/q.height;
y.r=(C.x+C.width)/q.width;var D=k=0;var M=C.width+k;C=C.height+D}else y=f.UV_RECT,p?(C=l.bitmapCache,k=C.x+C._filterOffX/C.scale,D=C.y+C._filterOffY/C.scale,M=C._drawWidth/C.scale+k,C=C._drawHeight/C.scale+D):(D=k=0,M=q.width+k,C=q.height+D);else l._webGLRenderStyle===1&&(C=r.rect,(y=r.uvRect)||(y=f.buildUVRects(l.spriteSheet,l.currentFrame,!1)),k=-r.regX,D=-r.regY,M=C.width-r.regX,C=C.height-r.regY);q=this.batchCardCount*f.INDICIES_PER_CARD;p=q*2;u[p]=k*n.a+D*n.c+n.tx;u[p+1]=k*n.b+D*n.d+n.ty;u[p+
2]=k*n.a+C*n.c+n.tx;u[p+3]=k*n.b+C*n.d+n.ty;u[p+4]=M*n.a+D*n.c+n.tx;u[p+5]=M*n.b+D*n.d+n.ty;u[p+6]=u[p+2];u[p+7]=u[p+3];u[p+8]=u[p+4];u[p+9]=u[p+5];u[p+10]=M*n.a+C*n.c+n.tx;u[p+11]=M*n.b+C*n.d+n.ty;w[p]=y.l;w[p+1]=y.t;w[p+2]=y.l;w[p+3]=y.b;w[p+4]=y.r;w[p+5]=y.t;w[p+6]=y.l;w[p+7]=y.b;w[p+8]=y.r;w[p+9]=y.t;w[p+10]=y.r;w[p+11]=y.b;J[q]=J[q+1]=J[q+2]=J[q+3]=J[q+4]=J[q+5]=K;H[q]=H[q+1]=H[q+2]=H[q+3]=H[q+4]=H[q+5]=l.alpha*e;this.batchCardCount++}}}};d._drawBuffers=function(a){if(!(this.batchCardCount<=
0)){this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : "+this.batchReason);var b=this._activeShader,c=this._vertexPositionBuffer,e=this._textureIndexBuffer,g=this._uvPositionBuffer,h=this._alphaBuffer;a.useProgram(b);a.bindBuffer(a.ARRAY_BUFFER,c);a.vertexAttribPointer(b.vertexPositionAttribute,c.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,0,this._vertices);a.bindBuffer(a.ARRAY_BUFFER,e);a.vertexAttribPointer(b.textureIndexAttribute,e.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,
0,this._indices);a.bindBuffer(a.ARRAY_BUFFER,g);a.vertexAttribPointer(b.uvPositionAttribute,g.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,0,this._uvs);a.bindBuffer(a.ARRAY_BUFFER,h);a.vertexAttribPointer(b.alphaAttribute,h.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,0,this._alphas);a.uniformMatrix4fv(b.pMatrixUniform,a.FALSE,this._projectionMatrix);for(b=0;b<this._batchTextureCount;b++)c=this._batchTextures[b],a.activeTexture(a.TEXTURE0+b),a.bindTexture(a.TEXTURE_2D,c),this.setTextureParams(a,
c.isPOT);a.drawArrays(a.TRIANGLES,0,this.batchCardCount*f.INDICIES_PER_CARD);this._batchID++}};d._drawCover=function(a,b){this._isDrawing>0&&this._drawBuffers(a);this.vocalDebug&&console.log("Draw["+this._drawID+":"+this._batchID+"] : Cover");var c=this._activeShader,e=this._vertexPositionBuffer,g=this._uvPositionBuffer;a.clear(a.COLOR_BUFFER_BIT);a.useProgram(c);a.bindBuffer(a.ARRAY_BUFFER,e);a.vertexAttribPointer(c.vertexPositionAttribute,e.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,
0,f.COVER_VERT);a.bindBuffer(a.ARRAY_BUFFER,g);a.vertexAttribPointer(c.uvPositionAttribute,g.itemSize,a.FLOAT,!1,0,0);a.bufferSubData(a.ARRAY_BUFFER,0,b?f.COVER_UV_FLIP:f.COVER_UV);a.uniform1i(c.samplerUniform,0);a.uniform1f(c.uprightUniform,b?0:1);a.drawArrays(a.TRIANGLES,0,f.INDICIES_PER_CARD)};createjs.StageGL=createjs.promote(f,"Stage")})();
(function(){function f(a){this.DisplayObject_constructor();typeof a=="string"?(this.image=document.createElement("img"),this.image.src=a):this.image=a;this.sourceRect=null;this._webGLRenderStyle=createjs.DisplayObject._StageGL_BITMAP}var d=createjs.extend(f,createjs.DisplayObject);d.initialize=f;d.isVisible=function(){var a=this.image;a=this.cacheCanvas||a&&(a.naturalWidth||a.getContext||a.readyState>=2);return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&a)};d.draw=function(a,b){if(this.DisplayObject_draw(a,
b))return!0;b=this.image;var c=this.sourceRect;b.getImage&&(b=b.getImage());if(!b)return!0;if(c){var e=c.x,g=c.y,h=e+c.width;c=g+c.height;var k=0,m=0,l=b.width,n=b.height;e<0&&(k-=e,e=0);h>l&&(h=l);g<0&&(m-=g,g=0);c>n&&(c=n);a.drawImage(b,e,g,h-e,c-g,k,m,h-e,c-g)}else a.drawImage(b,0,0);return!0};d.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;a=this.image;var b=this.sourceRect||a;return a&&(a.naturalWidth||a.getContext||a.readyState>=2)?this._rectangle.setValues(0,0,b.width,
b.height):null};d.clone=function(a){var b=this.image;b&&a&&(b=b.cloneNode());a=new f(b);this.sourceRect&&(a.sourceRect=this.sourceRect.clone());this._cloneProps(a);return a};d.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(f,"DisplayObject")})();
(function(){function f(a,b){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=a;this.framerate=this.currentAnimationFrame=0;this._currentFrame=this._animation=null;this._skipAdvance=!1;this._webGLRenderStyle=createjs.DisplayObject._StageGL_SPRITE;b!=null&&this.gotoAndPlay(b)}var d=createjs.extend(f,createjs.DisplayObject);d.initialize=f;d.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>
0&&this.scaleX!=0&&this.scaleY!=0&&a)};d.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();b=this.spriteSheet.getFrame(this._currentFrame|0);if(!b)return!1;var c=b.rect;c.width&&c.height&&a.drawImage(b.image,c.x,c.y,c.width,c.height,-b.regX,-b.regY,c.width,c.height);return!0};d.play=function(){this.paused=!1};d.stop=function(){this.paused=!0};d.gotoAndPlay=function(a){this.paused=!1;this._skipAdvance=!0;this._goto(a)};d.gotoAndStop=function(a){this.paused=!0;this._goto(a)};
d.advance=function(a){var b=this.framerate||this.spriteSheet.framerate;this._normalizeFrame(b&&a!=null?a/(1E3/b):1)};d.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};d.clone=function(){return this._cloneProps(new f(this.spriteSheet))};d.toString=function(){return"[Sprite (name="+this.name+")]"};d._cloneProps=function(a){this.DisplayObject__cloneProps(a);a.currentFrame=this.currentFrame;a.currentAnimation=this.currentAnimation;
a.paused=this.paused;a.currentAnimationFrame=this.currentAnimationFrame;a.framerate=this.framerate;a._animation=this._animation;a._currentFrame=this._currentFrame;a._skipAdvance=this._skipAdvance;return a};d._tick=function(a){this.paused||(this._skipAdvance||this.advance(a&&a.delta),this._skipAdvance=!1);this.DisplayObject__tick(a)};d._normalizeFrame=function(a){a=a||0;var b=this._animation,c=this.paused,e=this._currentFrame;if(b){var g=b.speed||1,h=this.currentAnimationFrame;var k=b.frames.length;
if(h+a*g>=k){var m=b.next;if(this._dispatchAnimationEnd(b,e,c,m,k-1))return;if(m)return this._goto(m,a-(k-h)/g);this.paused=!0;h=b.frames.length-1}else h+=a*g;this.currentAnimationFrame=h;this._currentFrame=b.frames[h|0]}else if(e=this._currentFrame+=a,k=this.spriteSheet.getNumFrames(),e>=k&&k>0&&!this._dispatchAnimationEnd(b,e,c,k-1)&&(this._currentFrame-=k)>=k)return this._normalizeFrame();e=this._currentFrame|0;this.currentFrame!=e&&(this.currentFrame=e,invalidate(this),this.dispatchEvent("change"))};
d._dispatchAnimationEnd=function(a,b,c,e,g){var h=a?a.name:null;if(this.hasEventListener("animationend")){var k=new createjs.Event("animationend");k.name=h;k.next=e;this.dispatchEvent(k)}a=this._animation!=a||this._currentFrame!=b;a||c||!this.paused||(this.currentAnimationFrame=g,a=!0);return a};d._goto=function(a,b){this.currentAnimationFrame=0;if(isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this._animation=c,this.currentAnimation=a,this._normalizeFrame(b))}else this.currentAnimation=this._animation=
null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=createjs.promote(f,"DisplayObject")})();
(function(){function f(a){this.DisplayObject_constructor();this.graphics=a?a:new createjs.Graphics}var d=createjs.extend(f,createjs.DisplayObject);d.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&a)};d.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.graphics.draw(a,this);return!0};d.clone=function(a){a=a&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new f(a))};
d.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(f,"DisplayObject")})();
(function(){function f(b,c,e){this.DisplayObject_constructor();this._text=b;Object.defineProperty(this,"text",{get:function(){return this._text},set:function(g){typeof invalidate=="function"&&invalidate(this);this._text=g;typeof invalidate=="function"&&invalidate(this)}});this.font=c;this.color=e;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.lineHeight=this.outline=0;this.lineWidth=null}var d=createjs.extend(f,createjs.DisplayObject),a=createjs.createCanvas?createjs.createCanvas():
document.createElement("canvas");a.getContext&&(f._workingContext=a.getContext("2d"),a.width=a.height=1);f.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};f.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};d.isVisible=function(){var b=this.cacheCanvas||this.text!=null&&this.text!=="";return!!(this.visible&&this.alpha>0&&this.scaleX!=0&&this.scaleY!=0&&b)};d.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;c=this.color||"#000";this.outline?(b.strokeStyle=
c,b.lineWidth=this.outline*1):b.fillStyle=c;this._drawText(this._prepContext(b));return!0};d.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};d.getMeasuredLineHeight=function(){return this._getMeasuredWidth("M")*1.2};d.getMeasuredHeight=function(){return this._drawText(null,{}).height};d.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(this.text==null||this.text==="")return null;b=this._drawText(null,{});var c=this.maxWidth&&this.maxWidth<b.width?this.maxWidth:
b.width,e=c*f.H_OFFSETS[this.textAlign||"left"],g=(this.lineHeight||this.getMeasuredLineHeight())*f.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,g,c,b.height)};d.getMetrics=function(){var b={lines:[]};b.lineHeight=this.lineHeight||this.getMeasuredLineHeight();b.vOffset=b.lineHeight*f.V_OFFSETS[this.textBaseline||"top"];return this._drawText(null,b,b.lines)};d.clone=function(){return this._cloneProps(new f(this.text,this.font,this.color))};d.toString=function(){return"[Text (text="+
(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};d._cloneProps=function(b){this.DisplayObject__cloneProps(b);b.textAlign=this.textAlign;b.textBaseline=this.textBaseline;b.maxWidth=this.maxWidth;b.outline=this.outline;b.lineHeight=this.lineHeight;b.lineWidth=this.lineWidth;return b};d._prepContext=function(b){b.font=this.font||"10px sans-serif";b.textAlign=this.textAlign||"left";b.lineJoin="miter";b.miterLimit=2.5;"top hanging middle alphabetic ideographic bottom".split(" ").includes(this.textBaseline)?
b.textBaseline=this.textBaseline:b.textBaseline="alphabetic";return b};d._drawText=function(b,c,e){var g=!!b;g||(b=f._workingContext,b.save(),this._prepContext(b));for(var h=this.lineHeight||this.getMeasuredLineHeight(),k=0,m=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,p=l.length;n<p;n++){var q=l[n],r=null;if(this.lineWidth!=null&&(r=b.measureText(q).width)>this.lineWidth){var w=q.split(/(\s)/);q=w[0];r=b.measureText(q).width;for(var u=1,J=w.length;u<J;u+=2){var H=b.measureText(w[u]+w[u+1]).width;
r+H>this.lineWidth?(g&&this._drawTextLine(b,q,m*h),e&&e.push(q),r>k&&(k=r),q=w[u+1],r=b.measureText(q).width,m++):(q+=w[u]+w[u+1],r+=H)}}g&&this._drawTextLine(b,q,m*h);e&&e.push(q);c&&r==null&&(r=b.measureText(q).width);r>k&&(k=r);m++}c&&(c.width=k,c.height=m*h);g||b.restore();return c};d._drawTextLine=function(b,c,e){this.outline?b.strokeText(c,0,e,this.maxWidth||65535):b.fillText(c,0,e,this.maxWidth||65535)};d._getMeasuredWidth=function(b){var c=f._workingContext;c.save();b=this._prepContext(c).measureText(b).width;
c.restore();return b};createjs.Text=createjs.promote(f,"DisplayObject")})();
(function(){function f(a,b){this.Container_constructor();this.text=a||"";this.spriteSheet=b;this.spaceWidth=this.letterSpacing=this.lineHeight=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0};this._drawAction=this._oldStage=null}var d=createjs.extend(f,createjs.Container);f.maxPoolSize=100;f._spritePool=[];d.draw=function(a,b){this.DisplayObject_draw(a,b)||(this._updateState(),this.Container_draw(a,b))};d.getBounds=function(){this._updateText();return this.Container_getBounds()};
d.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&this.scaleX!==0&&this.scaleY!==0&&a)};d.clone=function(){return this._cloneProps(new f(this.text,this.spriteSheet))};d.addChild=d.addChildAt=d.removeChild=d.removeChildAt=d.removeAllChildren=function(){};d._updateState=function(){this._updateText()};d._cloneProps=function(a){this.Container__cloneProps(a);a.lineHeight=this.lineHeight;a.letterSpacing=this.letterSpacing;
a.spaceWidth=this.spaceWidth;return a};d._getFrameIndex=function(a,b){var c,e=b.getAnimation(a);e||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(e=b.getAnimation(c)));return e&&e.frames[0]};d._getFrame=function(a,b){a=this._getFrameIndex(a,b);return a==null?a:b.getFrame(a)};d._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};d._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",
a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?a.rect.width:1};d._updateText=function(){var a=0,b=0,c=this._oldProps,e=!1,g=this.spaceWidth,h=this.lineHeight,k=this.spriteSheet,m=f._spritePool,l=this.children,n=0,p=l.length,q;for(q in c)c[q]!=this[q]&&(c[q]=this[q],e=!0);if(e){(c=!!this._getFrame(" ",k))||g||(g=this._getSpaceWidth(k));h||=this._getLineHeight(k);e=0;for(q=this.text.length;e<q;e++){var r=this.text.charAt(e);if(r!=" "||c)if(r=="\n"||r=="\r")r=="\r"&&this.text.charAt(e+
1)=="\n"&&e++,a=0,b+=h;else{var w=this._getFrameIndex(r,k);w!=null&&(n<p?r=l[n]:(l.push(r=m.length?m.pop():new createjs.Sprite),r.parent=this,p++),r.spriteSheet=k,r.gotoAndStop(w),r.x=a,r.y=b,n++,a+=r.getBounds().width+this.letterSpacing)}else a+=g}for(;p>n;)m.push(r=l.pop()),r.parent=null,p--;m.length>f.maxPoolSize&&(m.length=f.maxPoolSize)}};createjs.BitmapText=createjs.promote(f,"Container")})();
(function(){function f(b){this.Container_constructor();!f.inited&&f.init();if(b instanceof String||arguments.length>1){var c=b;var e=arguments[1];var g=arguments[2];var h=arguments[3];g==null&&(g=-1);b=null}else b&&(c=b.mode,e=b.startPosition,g=b.loop,h=b.labels);b||={labels:h};this.mode=c||f.INDEPENDENT;this.startPosition=e||0;this.loop=g===!0?-1:g||0;this.currentFrame=0;this.paused=b.paused||!1;this.autoReset=this.actionsEnabled=!0;this.framerate=this.frameBounds=null;b.useTicks=b.paused=!0;this.timeline=
new createjs.Timeline(b);this._synchOffset=0;this._rawPosition=-1;this._bound_resolveState=this._resolveState.bind(this);this._t=0;this._managed={}}function d(){throw"MovieClipPlugin cannot be instantiated.";}var a=createjs.extend(f,createjs.Container);f.INDEPENDENT="independent";f.SINGLE_FRAME="single";f.SYNCHED="synched";f.inited=!1;f.init=function(){f.inited||(d.install(),f.inited=!0)};a._getLabels=function(){return this.timeline.getLabels()};a.getLabels=createjs.deprecate(a._getLabels,"MovieClip.getLabels");
a._getCurrentLabel=function(){return this.timeline.currentLabel};a.getCurrentLabel=createjs.deprecate(a._getCurrentLabel,"MovieClip.getCurrentLabel");a._getDuration=function(){return this.timeline.duration};a.getDuration=createjs.deprecate(a._getDuration,"MovieClip.getDuration");try{Object.defineProperties(a,{labels:{get:a._getLabels},currentLabel:{get:a._getCurrentLabel},totalFrames:{get:a._getDuration},duration:{get:a._getDuration}})}catch(b){}a.initialize=f;a.isVisible=function(){return!!(this.visible&&
this.alpha>0&&this.scaleX!=0&&this.scaleY!=0)};a.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;this._updateState();this.Container_draw(b,c);return!0};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};a.gotoAndStop=function(b){this.paused=!0;this._goto(b)};a.advance=function(b){var c=f.INDEPENDENT;if(this.mode===c){for(var e=this,g=e.framerate;(e=e.parent)&&g===null;)e.mode===c&&(g=e._framerate);this._framerate=
g;if(!this.paused)for(b=g!=null&&g!=-1&&b!=null?b/(1E3/g)+this._t:1,c=b|0,this._t=b-c;c--;)this._updateTimeline(this._rawPosition+1,!1)}};a.clone=function(){throw"MovieClip cannot be cloned.";};a.toString=function(){return"[MovieClip (name="+this.name+")]"};a._updateState=function(){this._rawPosition!==-1&&this.mode===f.INDEPENDENT||this._updateTimeline(-1)};a._tick=function(b){this.advance(b&&b.delta);this.Container__tick(b)};a._goto=function(b){b=this.timeline.resolve(b);b!=null&&(this._t=0,this._updateTimeline(b,
!0))};a._reset=function(){this._rawPosition=-1;this._t=this.currentFrame=0;this.paused=!1};a._updateTimeline=function(b,c){var e=this.mode!==f.INDEPENDENT,g=this.timeline;e&&(b=this.startPosition+(this.mode===f.SINGLE_FRAME?0:this._synchOffset));b<0&&(b=0);if(this._rawPosition!==b||e)this._rawPosition=b,g.loop=this.loop,g.setPosition(b,e||!this.actionsEnabled,c,this._bound_resolveState)};a._renderFirstFrame=function(){var b=this.timeline,c=b.rawPosition;b.setPosition(0,!0,!0,this._bound_resolveState);
b.rawPosition=c};a._resolveState=function(){var b=this.timeline;this.currentFrame=b.position;for(var c in this._managed)this._managed[c]=1;c=b.tweens;b=0;for(var e=c.length;b<e;b++){var g=c[b],h=g.target;h===this||g.passive||(g=g._stepPosition,h instanceof createjs.DisplayObject?this._addManagedChild(h,g):this._setState(h.state,g))}c=this.children;for(b=c.length-1;b>=0;b--)e=c[b].id,this._managed[e]===1&&(this.removeChildAt(b),delete this._managed[e])};a._setState=function(b,c){if(b)for(var e=b.length-
1;e>=0;e--){var g=b[e],h=g.t;g=g.p;for(var k in g)h[k]=g[k];this._addManagedChild(h,c)}};a._addManagedChild=function(b,c){b._off||(this.addChildAt(b,0),b instanceof f&&(b._synchOffset=c,b.mode===f.INDEPENDENT&&b.autoReset&&!this._managed[b.id]&&b._reset()),this._managed[b.id]=2)};a._getBounds=function(b,c){var e=this.DisplayObject_getBounds();e||this.frameBounds&&(e=this._rectangle.copy(this.frameBounds[this.currentFrame]));return e?this._transformBounds(e,b,c):this.Container__getBounds(b,c)};createjs.MovieClip=
createjs.promote(f,"Container");d.priority=100;d.ID="MovieClip";d.install=function(){createjs.Tween._installPlugin(d)};d.init=function(b,c,e){c==="startPosition"&&b.target instanceof f&&b._addPlugin(d)};d.step=function(b,c,e){};d.change=function(b,c,e,g,h,k){if(e==="startPosition")return h===1?c.props[e]:c.prev.props[e]}})();
(function(){function f(){throw"SpriteSheetUtils cannot be instantiated";}var d=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");d.getContext&&(f._workingCanvas=d,f._workingContext=d.getContext("2d"),d.width=d.height=1);f.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);b=a.getFrame(b);if(!b)return null;var c=b.rect;a=f._workingCanvas;a.width=c.width;a.height=c.height;f._workingContext.drawImage(b.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height);
b=document.createElement("img");b.src=a.toDataURL("image/png");return b};f.addFlippedFrames=createjs.deprecate(null,"SpriteSheetUtils.addFlippedFrames");f.mergeAlpha=createjs.deprecate(null,"SpriteSheetUtils.mergeAlpha");f._flip=function(a,b,c,e){for(var g=a._images,h=f._workingCanvas,k=f._workingContext,m=g.length/b,l=0;l<m;l++){var n=g[l];n.__tmp=l;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,h.width+1,h.height+1);h.width=n.width;h.height=n.height;k.setTransform(c?-1:1,0,0,e?-1:1,c?n.width:0,e?n.height:
0);k.drawImage(n,0,0);var p=document.createElement("img");p.src=h.toDataURL("image/png");p.width=n.width||n.naturalWidth;p.height=n.height||n.naturalHeight;g.push(p)}k=a._frames;h=k.length/b;for(l=0;l<h;l++){n=k[l];var q=n.rect.clone();p=g[n.image.__tmp+m*b];var r={image:p,rect:q,regX:n.regX,regY:n.regY};c&&(q.x=(p.width||p.naturalWidth)-q.x-q.width,r.regX=q.width-n.regX);e&&(q.y=(p.height||p.naturalHeight)-q.y-q.height,r.regY=q.height-n.regY);k.push(r)}c="_"+(c?"h":"")+(e?"v":"");e=a._animations;
a=a._data;g=e.length/b;for(l=0;l<g;l++){k=e[l];n=a[k];m={name:k+c,speed:n.speed,next:n.next,frames:[]};n.next&&(m.next+=c);k=n.frames;n=0;for(p=k.length;n<p;n++)m.frames.push(k[n]+h*b);a[m.name]=m;e.push(m.name)}};createjs.SpriteSheetUtils=f})();
(function(){function f(a){this.EventDispatcher_constructor();this.maxHeight=this.maxWidth=2048;this.spriteSheet=null;this.padding=this.scale=1;this.timeSlice=.3;this.progress=-1;this.framerate=a||0;this._frames=[];this._animations={};this._data=null;this._index=this._nextFrameIndex=0;this._timerID=null;this._scale=1}var d=createjs.extend(f,createjs.EventDispatcher);f.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";f.ERR_RUNNING="a build is already running";d.addFrame=function(a,
b,c,e,g){if(this._data)throw f.ERR_RUNNING;b=b||a.bounds||a.nominalBounds;!b&&a.getBounds&&(b=a.getBounds());if(!b)return null;c=c||1;return this._frames.push({source:a,sourceRect:b,scale:c,funct:e,data:g,index:this._frames.length,height:b.height*c})-1};d.addAnimation=function(a,b,c,e){if(this._data)throw f.ERR_RUNNING;this._animations[a]={frames:b,next:c,speed:e}};d.addMovieClip=function(a,b,c,e,g,h){if(this._data)throw f.ERR_RUNNING;var k=a.frameBounds,m=b||a.bounds||a.nominalBounds;!m&&a.getBounds&&
(m=a.getBounds());if(m||k){var l,n;b=this._frames.length;var p=a.timeline.duration;for(l=0;l<p;l++)this.addFrame(a,k&&k[l]?k[l]:m,c,this._setupMovieClipFrame,{i:l,f:e,d:g});l=a.timeline._labels;c=[];for(n in l)c.push({index:l[n],label:n});if(c.length)for(c.sort(function(r,w){return r.index-w.index}),l=0,n=c.length;l<n;l++){e=c[l].label;g=b+c[l].index;k=b+(l==n-1?p:c[l+1].index);m=[];for(var q=g;q<k;q++)m.push(q);if(h&&(e=h(e,a,g,k),!e))continue;this.addAnimation(e,m,!0)}}};d.build=function(){if(this._data)throw f.ERR_RUNNING;
for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};d.buildAsync=function(a){if(this._data)throw f.ERR_RUNNING;this.timeSlice=a;this._startBuild();var b=this;this._timerID=setTimeout(function(){b._run()},50-Math.max(.01,Math.min(.99,this.timeSlice||.3))*50)};d.stopAsync=function(){clearTimeout(this._timerID);this._data=null};d.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};d.toString=function(){return"[SpriteSheetBuilder]"};d._startBuild=function(){var a=
this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var b=[];this._data={images:[],frames:b,framerate:this.framerate,animations:this._animations};var c=this._frames.slice();c.sort(function(l,n){return l.height<=n.height?-1:1});if(c[c.length-1].height+a*2>this.maxHeight)throw f.ERR_DIMENSIONS;for(var e=0,g=0,h=0;c.length;){var k=this._fillRow(c,e,h,b,a);k.w>g&&(g=k.w);e+=k.h;if(!k.h||!c.length){var m=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
m.width=this._getSize(g,this.maxWidth);m.height=this._getSize(e,this.maxHeight);this._data.images[h]=m;k.h||(g=e=0,h++)}}};d._setupMovieClipFrame=function(a,b){var c=a.actionsEnabled;a.actionsEnabled=!1;a.gotoAndStop(b.i);a.actionsEnabled=c;b.f&&b.f(a,b.d,b.i)};d._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};d._fillRow=function(a,b,c,e,g){var h=this.maxWidth,k=this.maxHeight;b+=g;k-=b;for(var m=g,l=0,n=a.length-1;n>=0;n--){var p=a[n],q=this._scale*p.scale,
r=p.sourceRect,w=p.source,u=Math.floor(q*r.x-g),J=Math.floor(q*r.y-g),H=Math.ceil(q*r.height+g*2);r=Math.ceil(q*r.width+g*2);if(r>h)throw f.ERR_DIMENSIONS;H>k||m+r>h||(p.img=c,p.rect=new createjs.Rectangle(m,b,r,H),l=l||H,a.splice(n,1),e[p.index]=[m,b,r,H,c,Math.round(-u+q*w.regX-g),Math.round(-J+q*w.regY-g)],m+=r)}return{w:m,h:l}};d._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};d._run=function(){for(var a=
Math.max(.01,Math.min(.99,this.timeSlice||.3))*50,b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};d._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,e=a.sourceRect,g=this._data.images[a.img].getContext("2d");
a.funct&&a.funct(a.source,a.data);g.save();g.beginPath();g.rect(c.x,c.y,c.width,c.height);g.clip();g.translate(Math.ceil(c.x-e.x*b),Math.ceil(c.y-e.y*b));g.scale(b,b);a.source.draw(g);g.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(f,"EventDispatcher")})();
(function(){function f(a){this.DisplayObject_constructor();typeof a=="string"&&(a=document.getElementById(a));this.mouseEnabled=!1;var b=a.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%";this.htmlElement=a;this._drawAction=this._oldStage=this._oldProps=null}var d=createjs.extend(f,createjs.DisplayObject);d.isVisible=function(){return this.htmlElement!=null};d.draw=function(a,b){return!0};d.cache=function(){};
d.uncache=function(){};d.updateCache=function(){};d.hitTest=function(){};d.localToGlobal=function(){};d.globalToLocal=function(){};d.localToLocal=function(){};d.clone=function(){throw"DOMElement cannot be cloned.";};d.toString=function(){return"[DOMElement (name="+this.name+")]"};d._tick=function(a){var b=this.stage;b&&b!==this._oldStage&&(this._drawAction&&b.off("drawend",this._drawAction),this._drawAction=b.on("drawend",this._handleDrawEnd,this),this._oldStage=b);this.DisplayObject__tick(a)};d._handleDrawEnd=
function(a){if(a=this.htmlElement){a=a.style;var b=this.getConcatenatedDisplayProps(this._props),c=b.matrix;if(this.stage){c.a/=this.stage.scaleX;c.d/=this.stage.scaleX;c.tx/=this.stage.scaleX;c.ty/=this.stage.scaleX;var e=b.visible?"visible":"hidden";e!=a.visibility&&(a.visibility=e);if(b.visible){var g=(e=this._oldProps)&&e.matrix;g&&g.equals(c)||(g="matrix("+(c.a*1E4|0)/1E4+","+(c.b*1E4|0)/1E4+","+(c.c*1E4|0)/1E4+","+(c.d*1E4|0)/1E4+","+(c.tx+.5|0),a.transform=a.WebkitTransform=a.OTransform=a.msTransform=
g+","+(c.ty+.5|0)+")",a.MozTransform=g+"px,"+(c.ty+.5|0)+"px)",e||(e=this._oldProps=new createjs.DisplayProps(!0,null)),e.matrix.copy(c));e.alpha!=b.alpha&&(a.opacity=""+(b.alpha*1E4|0)/1E4,e.alpha=b.alpha)}}}};createjs.DOMElement=createjs.promote(f,"DisplayObject")})();
(function(){function f(){this.usesContext=!1;this.FRAG_SHADER_BODY=this.VTX_SHADER_BODY=this._multiPass=null}var d=f.prototype;d.getBounds=function(a){return a};d.shaderParamSetup=function(a,b,c){};d.applyFilter=function(a,b,c,e,g,h,k,m){h=h||a;k==null&&(k=b);m==null&&(m=c);try{var l=a.getImageData(b,c,e,g)}catch(n){return!1}return this._applyFilter(l)?(h.putImageData(l,k,m),!0):!1};d.toString=function(){return"[Filter]"};d.clone=function(){return new f};d._applyFilter=function(a){return!0};createjs.Filter=
f})();
(function(){function f(){this.y=this.x=this.height=this.width=void 0;this.scale=1;this._cacheDataURLID=this._filterOffY=this._filterOffX=this.cacheID=this.offY=this.offX=0;this._cacheDataURL=null;this._drawHeight=this._drawWidth=0}var d=f.prototype;f.getFilterBounds=function(a,b){b||=new createjs.Rectangle;var c=(a=a.filters)&&a.length;if(!!c<=0)return b;for(var e=0;e<c;e++){var g=a[e];g&&g.getBounds&&(g=g.getBounds())&&(e==0?b.setValues(g.x,g.y,g.width,g.height):b.extend(g.x,g.y,g.width,g.height))}return b};d.toString=
function(){return"[BitmapCache]"};d.define=function(a,b,c,e,g,h,k){if(!a)throw"No symbol to cache";this._options=k;this.target=a;this.width=e>=1?e:1;this.height=g>=1?g:1;this.x=b||0;this.y=c||0;this.scale=h||1;this.update()};d.update=function(a){if(!this.target)throw"define() must be called before update()";var b=f.getFilterBounds(this.target),c=this.target.cacheCanvas;this._drawWidth=Math.ceil(this.width*this.scale)+b.width;this._drawHeight=Math.ceil(this.height*this.scale)+b.height;c&&this._drawWidth==
c.width&&this._drawHeight==c.height||this._updateSurface();this._filterOffX=b.x;this._filterOffY=b.y;this.offX=this.x*this.scale+this._filterOffX;this.offY=this.y*this.scale+this._filterOffY;this._drawToCache(a);this.cacheID=this.cacheID?this.cacheID+1:1};d.release=function(){if(this._webGLCache)this._webGLCache.isCacheControlled||(this.__lastRT&&(this.__lastRT=void 0),this.__rtA&&this._webGLCache._killTextureObject(this.__rtA),this.__rtB&&this._webGLCache._killTextureObject(this.__rtB),this.target&&
this.target.cacheCanvas&&this._webGLCache._killTextureObject(this.target.cacheCanvas)),this._webGLCache=!1;else{var a=this.target.stage;a instanceof createjs.StageGL&&a.releaseTexture(this.target.cacheCanvas)}this.target=this.target.cacheCanvas=null;this.cacheID=this._cacheDataURLID=this._cacheDataURL=void 0;this.width=this.height=this.x=this.y=this.offX=this.offY=0;this.scale=1};d.getCacheDataURL=function(){var a=this.target&&this.target.cacheCanvas;if(!a)return null;this.cacheID!=this._cacheDataURLID&&
(this._cacheDataURLID=this.cacheID,this._cacheDataURL=a.toDataURL?a.toDataURL():null);return this._cacheDataURL};d.draw=function(a){if(!this.target)return!1;a.drawImage(this.target.cacheCanvas,this.x+this._filterOffX/this.scale,this.y+this._filterOffY/this.scale,this._drawWidth/this.scale,this._drawHeight/this.scale);return!0};d._updateSurface=function(){if(this._options&&this._options.useGL){if(!this._webGLCache)if(this._options.useGL==="stage"){if(!this.target.stage||!this.target.stage.isWebGL)throw"Cannot use 'stage' for cache because the object's parent stage is "+
(this.target.stage?"non WebGL.":"not set, please addChild to the correct stage.");this.target.cacheCanvas=!0;this._webGLCache=this.target.stage}else if(this._options.useGL==="new")this.target.cacheCanvas=document.createElement("canvas"),this._webGLCache=new createjs.StageGL(this.target.cacheCanvas,{antialias:!0,transparent:!0,autoPurge:-1}),this._webGLCache.isCacheControlled=!0;else if(this._options.useGL instanceof createjs.StageGL)this.target.cacheCanvas=!0,this._webGLCache=this._options.useGL,
this._webGLCache.isCacheControlled=!0;else throw"Invalid option provided to useGL, expected ['stage', 'new', StageGL, undefined], got "+this._options.useGL;b=this.target.cacheCanvas;var a=this._webGLCache;a.isCacheControlled&&(b.width=this._drawWidth,b.height=this._drawHeight,a.updateViewport(this._drawWidth,this._drawHeight));this.target.filters?(a.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight),a.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)):a.isCacheControlled||
a.getTargetRenderTexture(this.target,this._drawWidth,this._drawHeight)}else{var b=this.target.cacheCanvas;b||(b=this.target.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));b.width=this._drawWidth;b.height=this._drawHeight}};d._drawToCache=function(a){var b=this.target.cacheCanvas,c=this.target,e=this._webGLCache;e?(e.cacheDraw(c,c.filters,this),b=this.target.cacheCanvas,b.width=this._drawWidth,b.height=this._drawHeight):(e=b.getContext("2d"),a||e.clearRect(0,
0,this._drawWidth+1,this._drawHeight+1),e.save(),e.globalCompositeOperation=a,e.setTransform(this.scale,0,0,this.scale,-this._filterOffX,-this._filterOffY),e.translate(-this.x,-this.y),c.draw(e,!0),e.restore(),c.filters&&c.filters.length&&this._applyFilters(e));b._invalid=!0};d._applyFilters=function(a){var b=this.target.filters,c=this._drawWidth,e=this._drawHeight,g=0,h=b[g];do{if(h.usesContext){if(k){a.putImageData(k,0,0);var k=null}h.applyFilter(a,0,0,c,e)}else k||=a.getImageData(0,0,c,e),h._applyFilter(k);
h=h._multiPass!==null?h._multiPass:b[++g]}while(h);k&&a.putImageData(k,0,0)};createjs.BitmapCache=f})();
(function(){function f(a,b,c){this.Filter_constructor();this._blurX=a;this._blurXTable=[];this._lastBlurX=null;this._blurY=b;this._blurYTable=[];this._lastQuality=this._lastBlurY=null;this.FRAG_SHADER_TEMPLATE="uniform float xWeight[{{blurX}}];uniform float yWeight[{{blurY}}];uniform vec2 textureOffset;void main(void) {vec4 color = vec4(0.0);float xAdj = ({{blurX}}.0-1.0)/2.0;float yAdj = ({{blurY}}.0-1.0)/2.0;vec2 sampleOffset;for(int i=0; i<{{blurX}}; i++) {for(int j=0; j<{{blurY}}; j++) {sampleOffset = vRenderCoord + (textureOffset * vec2(float(i)-xAdj, float(j)-yAdj));color += texture2D(uSampler, sampleOffset) * (xWeight[i] * yWeight[j]);}}gl_FragColor = color.rgba;}";if(isNaN(c)||
c<1)c=1;this.setQuality(c|0)}var d=createjs.extend(f,createjs.Filter);d.getBlurX=function(){return this._blurX};d.getBlurY=function(){return this._blurY};d.setBlurX=function(a){if(isNaN(a)||a<0)a=0;this._blurX=a};d.setBlurY=function(a){if(isNaN(a)||a<0)a=0;this._blurY=a};d.getQuality=function(){return this._quality};d.setQuality=function(a){if(isNaN(a)||a<0)a=0;this._quality=a|0};d._getShader=function(){var a=this._lastBlurX!==this._blurX,b=this._lastBlurY!==this._blurY,c=this._lastQuality!==this._quality;
if(a||b||c){if(a||c)this._blurXTable=this._getTable(this._blurX*this._quality);if(b||c)this._blurYTable=this._getTable(this._blurY*this._quality);this._updateShader();this._lastBlurX=this._blurX;this._lastBlurY=this._blurY;this._lastQuality=this._quality}else return this._compiledShader};d._setShader=function(){this._compiledShader};try{Object.defineProperties(d,{blurX:{get:d.getBlurX,set:d.setBlurX},blurY:{get:d.getBlurY,set:d.setBlurY},quality:{get:d.getQuality,set:d.setQuality},_builtShader:{get:d._getShader,
set:d._setShader}})}catch(a){console.log(a)}d._getTable=function(a){if(a<=1)return[1];var b=[];a=Math.ceil(a*2);a=(a+(a%2?0:1))/2|0;for(var c=-a;c<=a;c++)b.push(1/Math.sqrt(2*Math.PI)*Math.pow(Math.E,-(Math.pow(c/a*4.2,2)/4)));var e=b.reduce(function(g,h){return g+h});return b.map(function(g,h,k){return g/e})};d._updateShader=function(){if(this._blurX!==void 0&&this._blurY!==void 0){var a=this.FRAG_SHADER_TEMPLATE;a=a.replace(/\{\{blurX\}\}/g,this._blurXTable.length.toFixed(0));this.FRAG_SHADER_BODY=
a=a.replace(/\{\{blurY\}\}/g,this._blurYTable.length.toFixed(0))}};d.shaderParamSetup=function(a,b,c){a.uniform1fv(a.getUniformLocation(c,"xWeight"),this._blurXTable);a.uniform1fv(a.getUniformLocation(c,"yWeight"),this._blurYTable);a.uniform2f(a.getUniformLocation(c,"textureOffset"),2/(b._viewportWidth*this._quality),2/(b._viewportHeight*this._quality))};f.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,
449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,
49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];f.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,
15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,
14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];d.getBounds=function(a){var b=this.blurX|0,c=this.blurY|0;if(b<=0&&c<=0)return a;var e=Math.pow(this.quality,.2);return(a||new createjs.Rectangle).pad(c*e+1,b*e+1,c*e+1,b*e+1)};d.clone=function(){return new f(this.blurX,this.blurY,this.quality)};d.toString=function(){return"[BlurFilter]"};d._applyFilter=function(a){var b=this._blurX>>1;if(isNaN(b)||b<0)return!1;var c=this._blurY>>1;if(isNaN(c)||
c<0||b==0&&c==0)return!1;var e=this.quality;if(isNaN(e)||e<1)e=1;e|=0;e>3&&(e=3);e<1&&(e=1);var g=a.data,h,k=0,m,l,n,p,q=b+b+1|0;var r=c+c+1|0;var w=a.width|0;a=a.height|0;var u=w-1|0,J=a-1|0,H=b+1|0,K=c+1|0,C={r:0,b:0,g:0,a:0};var y=C;for(h=1;h<q;h++)y=y.n={r:0,b:0,g:0,a:0};y.n=C;var D=q={r:0,b:0,g:0,a:0};for(h=1;h<r;h++)D=D.n={r:0,b:0,g:0,a:0};D.n=q;for(var M=f.MUL_TABLE[b]|0,X=f.SHG_TABLE[b]|0,N=f.MUL_TABLE[c]|0,Y=f.SHG_TABLE[c]|0;e-- >0;){var T=r=0;var L=M,S=X;for(D=a;--D>-1;){var Q=H*(l=g[r|
0]);var V=H*(n=g[r+1|0]);var U=H*(p=g[r+2|0]);var W=H*(m=g[r+3|0]);y=C;for(h=H;--h>-1;)y.r=l,y.g=n,y.b=p,y.a=m,y=y.n;for(h=1;h<H;h++)k=r+((u<h?u:h)<<2)|0,Q+=y.r=g[k],V+=y.g=g[k+1],U+=y.b=g[k+2],W+=y.a=g[k+3],y=y.n;h=C;for(y=0;y<w;y++)g[r++]=Q*L>>>S,g[r++]=V*L>>>S,g[r++]=U*L>>>S,g[r++]=W*L>>>S,k=T+((k=y+b+1)<u?k:u)<<2,Q-=h.r-(h.r=g[k]),V-=h.g-(h.g=g[k+1]),U-=h.b-(h.b=g[k+2]),W-=h.a-(h.a=g[k+3]),h=h.n;T+=w}L=N;S=Y;for(y=0;y<w;y++){r=y<<2|0;Q=K*(l=g[r])|0;V=K*(n=g[r+1|0])|0;U=K*(p=g[r+2|0])|0;W=K*(m=
g[r+3|0])|0;D=q;for(h=0;h<K;h++)D.r=l,D.g=n,D.b=p,D.a=m,D=D.n;m=w;for(h=1;h<=c;h++)r=m+y<<2,Q+=D.r=g[r],V+=D.g=g[r+1],U+=D.b=g[r+2],W+=D.a=g[r+3],D=D.n,h<J&&(m+=w);r=y;h=q;if(e>0)for(D=0;D<a;D++)k=r<<2,g[k+3]=m=W*L>>>S,m>0?(g[k]=Q*L>>>S,g[k+1]=V*L>>>S,g[k+2]=U*L>>>S):g[k]=g[k+1]=g[k+2]=0,k=y+((k=D+K)<J?k:J)*w<<2,Q-=h.r-(h.r=g[k]),V-=h.g-(h.g=g[k+1]),U-=h.b-(h.b=g[k+2]),W-=h.a-(h.a=g[k+3]),h=h.n,r+=w;else for(D=0;D<a;D++)k=r<<2,g[k+3]=m=W*L>>>S,m>0?(m=255/m,g[k]=(Q*L>>>S)*m,g[k+1]=(V*L>>>S)*m,g[k+
2]=(U*L>>>S)*m):g[k]=g[k+1]=g[k+2]=0,k=y+((k=D+K)<J?k:J)*w<<2,Q-=h.r-(h.r=g[k]),V-=h.g-(h.g=g[k+1]),U-=h.b-(h.b=g[k+2]),W-=h.a-(h.a=g[k+3]),h=h.n,r+=w}}return!0};createjs.BlurFilter=createjs.promote(f,"Filter")})();
(function(f){function d(a,b,c,e,g,h,k,m){this.Filter_constructor();isNaN(a)?(this._red=255,this._green=this._blue=0):this.color=a;this.usesContext=!0;this._blurFilter=new createjs.BlurFilter(c,e,h);this.alpha=b!==void 0?b:1;this.strength=g!==void 0?g:1;this.inner=!!k;this.knockout=!!m}f=createjs.extend(d,createjs.Filter);Object.defineProperties(f,{color:{get:function(){return this._red<<16|this._green<<8|this._blue},set:function(a){this._red=a>>16&255;this._green=a>>8&255;this._blue=a&255;return this.color},
enumerable:!0},blurX:{get:function(){return this._blurFilter.blurX},set:function(a){return this._blurFilter.blurX=a},enumerable:!0},blurY:{get:function(){return this._blurFilter.blurY},set:function(a){return this._blurFilter.blurY=a},enumerable:!0},quality:{get:function(){return this._blurFilter.quality},set:function(a){return this._blurFilter.quality=a},enumerable:!0}});f.getBounds=function(a){return this.inner?a:this._blurFilter.getBounds(a)};f.applyFilter=function(a,b,c,e,g,h,k,m){if((this.alpha<=
0||this.strength<=0)&&!this.knockout)return!0;h=h||a;k===void 0&&(k=b);m===void 0&&(m=c);var l=h.getImageData(k,m,e,g).data;a=document.createElement("canvas");a.width=e;a.height=g;c=a.getContext("2d");var n=c.getImageData(0,0,e,g),p=n.data;b=this.inner;for(var q=this._red,r=this._green,w=this._blue,u=0,J=p.length;u<J;u+=4){var H=u+3,K=l[H];b?K!==255&&(p[u]=q,p[u+1]=r,p[u+2]=w,p[H]=255-K):K!==0&&(p[u]=q,p[u+1]=r,p[u+2]=w,p[H]=K)}c.putImageData(n,0,0);l=this.strength;if(0<l)for(this._blurFilter.applyFilter(c,
0,0,e,g),255<l&&(l=255),n=1;n<l;n++)c.drawImage(a,0,0);(new createjs.ColorFilter(0,0,0,1,q,r,w,0)).applyFilter(c,0,0,e,g);e=this.alpha;e<0?e=0:1<e&&(e=1);g=this.knockout?b?"source-in":"source-out":b?"source-atop":"destination-over";h.save();h.setTransform(1,0,0,1,0,0);h.globalAlpha=e;h.globalCompositeOperation=g;h.drawImage(a,k,m);h.restore();return!0};f.clone=function(){var a=this._blurFilter;return new createjs.GlowFilter(this.color,this.alpha,a.blurX,a.blurY,this.strength,a.quality,this.inner,
this.knockout)};f.toString=function(){return"[GlowFilter]"};createjs.GlowFilter=createjs.promote(d,"Filter")})(window);
(function(){function f(a){this.Filter_constructor();this.alphaMap=a;this._mapTexture=this._mapData=this._alphaMap=null;this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * (alphaMap.r * ceil(alphaMap.a)));}"}var d=createjs.extend(f,createjs.Filter);d.shaderParamSetup=function(a,b,c){this._mapTexture||(this._mapTexture=a.createTexture());
a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this._mapTexture);b.setTextureParams(a);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.alphaMap);a.uniform1i(a.getUniformLocation(c,"uAlphaSampler"),1)};d.clone=function(){var a=new f(this.alphaMap);a._alphaMap=this._alphaMap;a._mapData=this._mapData;return a};d.toString=function(){return"[AlphaMapFilter]"};d._applyFilter=function(a){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;a=a.data;for(var b=this._mapData,
c=0,e=a.length;c<e;c+=4)a[c+3]=b[c]||0;return!0};d._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a=this._alphaMap=this.alphaMap,b=a;a instanceof HTMLCanvasElement?b=b.getContext("2d"):(b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),b.width=a.width,b.height=a.height,b=b.getContext("2d"),b.drawImage(a,0,0));try{var c=b.getImageData(0,0,a.width,a.height)}catch(e){return!1}this._mapData=
c.data;return!0};createjs.AlphaMapFilter=createjs.promote(f,"Filter")})();
(function(){function f(a){this.Filter_constructor();this.mask=a;this.usesContext=!0;this.FRAG_SHADER_BODY="uniform sampler2D uAlphaSampler;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);vec4 alphaMap = texture2D(uAlphaSampler, vTextureCoord);gl_FragColor = vec4(color.rgb, color.a * alphaMap.a);}"}var d=createjs.extend(f,createjs.Filter);d.shaderParamSetup=function(a,b,c){this._mapTexture||(this._mapTexture=a.createTexture());a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,
this._mapTexture);b.setTextureParams(a);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.mask);a.uniform1i(a.getUniformLocation(c,"uAlphaSampler"),1)};d.applyFilter=function(a,b,c,e,g,h,k,m){if(!this.mask)return!0;h=h||a;k==null&&(k=b);m==null&&(m=c);h.save();if(a!=h)return!1;h.globalCompositeOperation="destination-in";h.drawImage(this.mask,k,m);h.restore();return!0};d.clone=function(){return new f(this.mask)};d.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=
createjs.promote(f,"Filter")})();
(function(){function f(a,b,c,e,g,h,k,m){this.Filter_constructor();this.redMultiplier=a!=null?a:1;this.greenMultiplier=b!=null?b:1;this.blueMultiplier=c!=null?c:1;this.alphaMultiplier=e!=null?e:1;this.redOffset=g||0;this.greenOffset=h||0;this.blueOffset=k||0;this.alphaOffset=m||0;this.FRAG_SHADER_BODY="uniform vec4 uColorMultiplier;uniform vec4 uColorOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);gl_FragColor = (color * uColorMultiplier) + uColorOffset;}"}var d=createjs.extend(f,
createjs.Filter);d.shaderParamSetup=function(a,b,c){a.uniform4f(a.getUniformLocation(c,"uColorMultiplier"),this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier);a.uniform4f(a.getUniformLocation(c,"uColorOffset"),this.redOffset/255,this.greenOffset/255,this.blueOffset/255,this.alphaOffset/255)};d.toString=function(){return"[ColorFilter]"};d.clone=function(){return new f(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,
this.blueOffset,this.alphaOffset)};d._applyFilter=function(a){a=a.data;for(var b=a.length,c=0;c<b;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(f,"Filter")})();
(function(){function f(a,b,c,e){this.setColor(a,b,c,e)}var d=f.prototype;f.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];f.IDENTITY_MATRIX=
[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];f.LENGTH=f.IDENTITY_MATRIX.length;d.setColor=function(a,b,c,e){return this.reset().adjustColor(a,b,c,e)};d.reset=function(){return this.copy(f.IDENTITY_MATRIX)};d.adjustColor=function(a,b,c,e){this.adjustHue(e);this.adjustContrast(b);this.adjustBrightness(a);return this.adjustSaturation(c)};d.adjustBrightness=function(a){if(a==0||isNaN(a))return this;a=this._cleanValue(a,255);this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,
1]);return this};d.adjustContrast=function(a){if(a==0||isNaN(a))return this;a=this._cleanValue(a,100);if(a<0)var b=127+a/100*127;else b=a%1,b=b==0?f.DELTA_INDEX[a]:f.DELTA_INDEX[a<<0]*(1-b)+f.DELTA_INDEX[(a<<0)+1]*b,b=b*127+127;this._multiplyMatrix([b/127,0,0,0,.5*(127-b),0,b/127,0,0,.5*(127-b),0,0,b/127,0,.5*(127-b),0,0,0,1,0,0,0,0,0,1]);return this};d.adjustSaturation=function(a){if(a==0||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(a>0?3*a/100:a/100);this._multiplyMatrix([.3086*(1-a)+a,
.6094*(1-a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};d.adjustHue=function(a){if(a==0||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);this._multiplyMatrix([.213+b*.787+a*-.213,.715+b*-.715+a*-.715,.072+b*-.072+a*.928,0,0,.213+b*-.213+a*.143,.715+b*(1-.715)+a*.14,.072+b*-.072+a*-.283,0,0,.213+b*-.213+a*-.787,.715+b*-.715+a*.715,.072+b*.928+a*.072,0,0,0,0,0,1,0,0,0,0,
0,1]);return this};d.concat=function(a){a=this._fixMatrix(a);if(a.length!=f.LENGTH)return this;this._multiplyMatrix(a);return this};d.clone=function(){return(new f).copy(this)};d.toArray=function(){for(var a=[],b=0,c=f.LENGTH;b<c;b++)a[b]=this[b];return a};d.copy=function(a){for(var b=f.LENGTH,c=0;c<b;c++)this[c]=a[c];return this};d.toString=function(){return"[ColorMatrix]"};d._multiplyMatrix=function(a){var b,c,e,g=[];for(b=0;b<5;b++){for(c=0;c<5;c++)g[c]=this[c+b*5];for(c=0;c<5;c++){var h=0;for(e=
0;e<5;e++)h+=a[c+e*5]*g[e];this[c+b*5]=h}}};d._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};d._fixMatrix=function(a){a instanceof f&&(a=a.toArray());a.length<f.LENGTH?a=a.slice(0,a.length).concat(f.IDENTITY_MATRIX.slice(a.length,f.LENGTH)):a.length>f.LENGTH&&(a=a.slice(0,f.LENGTH));return a};createjs.ColorMatrix=f})();
(function(){function f(a){this.Filter_constructor();this.matrix=a;this.FRAG_SHADER_BODY="uniform mat4 uColorMatrix;uniform vec4 uColorMatrixOffset;void main(void) {vec4 color = texture2D(uSampler, vRenderCoord);mat4 m = uColorMatrix;vec4 newColor = vec4(0,0,0,0);newColor.r = color.r*m[0][0] + color.g*m[0][1] + color.b*m[0][2] + color.a*m[0][3];newColor.g = color.r*m[1][0] + color.g*m[1][1] + color.b*m[1][2] + color.a*m[1][3];newColor.b = color.r*m[2][0] + color.g*m[2][1] + color.b*m[2][2] + color.a*m[2][3];newColor.a = color.r*m[3][0] + color.g*m[3][1] + color.b*m[3][2] + color.a*m[3][3];gl_FragColor = newColor + uColorMatrixOffset;}"}var d=
createjs.extend(f,createjs.Filter);d.shaderParamSetup=function(a,b,c){b=this.matrix;var e=new Float32Array([b[0],b[1],b[2],b[3],b[5],b[6],b[7],b[8],b[10],b[11],b[12],b[13],b[15],b[16],b[17],b[18]]);a.uniformMatrix4fv(a.getUniformLocation(c,"uColorMatrix"),!1,e);a.uniform4f(a.getUniformLocation(c,"uColorMatrixOffset"),b[4]/255,b[9]/255,b[14]/255,b[19]/255)};d.toString=function(){return"[ColorMatrixFilter]"};d.clone=function(){return new f(this.matrix)};d._applyFilter=function(a){a=a.data;var b=a.length;
var c=this.matrix;for(var e=c[0],g=c[1],h=c[2],k=c[3],m=c[4],l=c[5],n=c[6],p=c[7],q=c[8],r=c[9],w=c[10],u=c[11],J=c[12],H=c[13],K=c[14],C=c[15],y=c[16],D=c[17],M=c[18],X=c[19],N=0;N<b;N+=4){c=a[N];var Y=a[N+1];var T=a[N+2];var L=a[N+3];a[N]=c*e+Y*g+T*h+L*k+m;a[N+1]=c*l+Y*n+T*p+L*q+r;a[N+2]=c*w+Y*u+T*J+L*H+K;a[N+3]=c*C+Y*y+T*D+L*M+X}return!0};createjs.ColorMatrixFilter=createjs.promote(f,"Filter")})();this.createjs=this.createjs||{};
(function(){function f(){throw"Touch cannot be instantiated";}f.isSupported=function(){return!!("ontouchstart"in window||window.MSPointerEvent&&window.navigator.msMaxTouchPoints>0||window.PointerEvent&&window.navigator.maxTouchPoints>0)};f.enable=function(d,a,b){if(!d||!d.canvas||!f.isSupported())return!1;if(d.__touch)return!0;d.__touch={pointers:{},multitouch:!a,preventDefault:!b,count:0};"ontouchstart"in window?f._IOS_enable(d):(window.PointerEvent||window.MSPointerEvent)&&f._IE_enable(d);return!0};
f.disable=function(d){d&&("ontouchstart"in window?f._IOS_disable(d):(window.PointerEvent||window.MSPointerEvent)&&f._IE_disable(d),delete d.__touch)};f._IOS_enable=function(d){var a=d.canvas,b=d.__touch.f=function(c){try{f._IOS_handleEvent(d,c)}catch(e){throw dblRecordError(e),e;}};a.addEventListener("touchstart",b,!1);a.addEventListener("touchmove",b,!1);a.addEventListener("touchend",b,!1);a.addEventListener("touchcancel",b,!1)};f._IOS_disable=function(d){var a=d.canvas;a&&(d=d.__touch.f,a.removeEventListener("touchstart",
d,!1),a.removeEventListener("touchmove",d,!1),a.removeEventListener("touchend",d,!1),a.removeEventListener("touchcancel",d,!1))};f._IOS_handleEvent=function(d,a){if(d){d.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var b=a.changedTouches,c=a.type,e=0,g=b.length;e<g;e++){var h=b[e],k=h.identifier;h.target==d.canvas&&(c==="touchstart"?this._handleStart(d,k,a,h.pageX,h.pageY):c==="touchmove"?this._handleMove(d,k,a,h.pageX,h.pageY):(c==="touchend"||c==="touchcancel")&&this._handleEnd(d,
k,a))}}};f._IE_enable=function(d){var a=d.canvas,b=d.__touch.f=function(c){try{f._IE_handleEvent(d,c)}catch(e){throw dblRecordError(e),e;}};window.PointerEvent===void 0?(a.addEventListener("MSPointerDown",b,!1),window.addEventListener("MSPointerMove",b,!1),window.addEventListener("MSPointerUp",b,!1),window.addEventListener("MSPointerCancel",b,!1),d.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",b,!1),window.addEventListener("pointermove",b,!1),window.addEventListener("pointerup",
b,!1),window.addEventListener("pointercancel",b,!1),d.__touch.preventDefault&&(a.style.touchAction="none"));d.__touch.activeIDs={}};f._IE_disable=function(d){var a=d.__touch.f;window.PointerEvent===void 0?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),d.canvas&&d.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
a,!1),window.removeEventListener("pointercancel",a,!1),d.canvas&&d.canvas.removeEventListener("pointerdown",a,!1))};f._IE_handleEvent=function(d,a){if(d){d.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var b=a.type,c=a.pointerId,e=d.__touch.activeIDs;if(b==="MSPointerDown"||b==="pointerdown")a.srcElement==d.canvas&&(e[c]=!0,this._handleStart(d,c,a,a.pageX,a.pageY));else if(e[c])if(b==="MSPointerMove"||b==="pointermove")this._handleMove(d,c,a,a.pageX,a.pageY);else if(b==="MSPointerUp"||
b==="MSPointerCancel"||b==="pointerup"||b==="pointercancel")delete e[c],this._handleEnd(d,c,a)}};f._handleStart=function(d,a,b,c,e){var g=d.__touch;if(g.multitouch||!g.count){var h=g.pointers;h[a]||(h[a]=!0,g.count++,d._handlePointerDown(a,b,c,e))}};f._handleMove=function(d,a,b,c,e){d.__touch.pointers[a]&&d._handlePointerMove(a,b,c,e)};f._handleEnd=function(d,a,b){var c=d.__touch,e=c.pointers;e[a]&&(c.count--,d._handlePointerUp(a,b,!0),delete e[a])};createjs.Touch=f})();
(function(){var f=createjs.EaselJS=createjs.EaselJS||{};f.version="1.0.0";f.buildDate="Thu, 12 Oct 2017 16:34:10 GMT"})();(function(){var f=createjs.PreloadJS=createjs.PreloadJS||{};f.version="1.0.0";f.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"})();(function(){createjs.proxy=function(f,d){var a=Array.prototype.slice.call(arguments,2);return function(){return f.apply(d,Array.prototype.slice.call(arguments,0).concat(a))}}})();
(function(){function f(d,a,b){this.Event_constructor("error");this.title=d;this.message=a;this.data=b}createjs.extend(f,createjs.Event).clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(f,"Event")})();
(function(f){function d(a,b){this.Event_constructor("progress");this.loaded=a;this.total=b==null?1:b;this.progress=b==0?0:this.loaded/this.total}createjs.extend(d,createjs.Event).clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(d,"Event")})(window);
(function(){function f(l,n){function p(t){if(p[t]!==D)return p[t];if(t=="bug-string-char-index")var v=!1;else if(t=="json")v=p("json-stringify")&&p("json-parse");else{var z;if(t=="json-stringify"){v=n.stringify;var F=typeof v=="function"&&M;if(F){(z=function(){return 1}).toJSON=z;try{F=v(0)==="0"&&v(new q)==="0"&&v(new r)=='""'&&v(C)===D&&v(D)===D&&v()===D&&v(z)==="1"&&v([z])=="[1]"&&v([D])=="[null]"&&v(null)=="null"&&v([D,C,null])=="[null,null,null]"&&v({a:[z,!0,!1,null,"\x00\b\n\f\r\t"]})=='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'&&
v(null,z)==="1"&&v([1,2],null,1)=="[\n 1,\n 2\n]"&&v(new u(-864E13))=='"-271821-04-20T00:00:00.000Z"'&&v(new u(864E13))=='"+275760-09-13T00:00:00.000Z"'&&v(new u(-621987552E5))=='"-000001-01-01T00:00:00.000Z"'&&v(new u(-1))=='"1969-12-31T23:59:59.999Z"'}catch(I){F=!1}}v=F}if(t=="json-parse"){v=n.parse;if(typeof v=="function")try{if(v("0")===0&&!v(!1)){z=v('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var G=z.a.length==5&&z.a[0]===1;if(G){try{G=!v('"\t"')}catch(I){}if(G)try{G=v("01")!==1}catch(I){}if(G)try{G=
v("1.")!==1}catch(I){}}}}catch(I){G=!1}v=G}}return p[t]=!!v}l||=c.Object();n||=c.Object();var q=l.Number||c.Number,r=l.String||c.String,w=l.Object||c.Object,u=l.Date||c.Date,J=l.SyntaxError||c.SyntaxError,H=l.TypeError||c.TypeError,K=l.Math||c.Math;l=l.JSON||c.JSON;typeof l=="object"&&l&&(n.stringify=l.stringify,n.parse=l.parse);w=w.prototype;var C=w.toString,y,D,M=new u(-0xc782b5b800cec);try{M=M.getUTCFullYear()==-109252&&M.getUTCMonth()===0&&M.getUTCDate()===1&&M.getUTCHours()==10&&M.getUTCMinutes()==
37&&M.getUTCSeconds()==6&&M.getUTCMilliseconds()==708}catch(t){}if(!p("json")){var X=p("bug-string-char-index");if(!M)var N=K.floor,Y=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(t,v){return Y[v]+365*(t-1970)+N((t-1969+(v=+(v>1)))/4)-N((t-1901+v)/100)+N((t-1601+v)/400)};(y=w.hasOwnProperty)||(y=function(t){var v={};if((v.__proto__=null,v.__proto__={toString:1},v).toString!=C)y=function(F){var G=this.__proto__;F=F in(this.__proto__=null,this);this.__proto__=G;return F};else{var z=v.constructor;
y=function(F){var G=(this.constructor||z).prototype;return F in this&&!(F in G&&this[F]===G[F])}}v=null;return y.call(this,t)});var L=function(t,v){var z=0,F,G;(F=function(){this.valueOf=0}).prototype.valueOf=0;var I=new F;for(G in I)y.call(I,G)&&z++;F=I=null;z?L=z==2?function(x,P){var A={},E=C.call(x)=="[object Function]",O;for(O in x)E&&O=="prototype"||y.call(A,O)||!(A[O]=1)||!y.call(x,O)||P(O)}:function(x,P){var A=C.call(x)=="[object Function]",E,O;for(E in x)A&&E=="prototype"||!y.call(x,E)||(O=
E==="constructor")||P(E);(O||y.call(x,E="constructor"))&&P(E)}:(I="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),L=function(x,P){var A=C.call(x)=="[object Function]",E,O=!A&&typeof x.constructor!="function"&&a[typeof x.hasOwnProperty]&&x.hasOwnProperty||y;for(E in x)A&&E=="prototype"||!O.call(x,E)||P(E);for(A=I.length;E=I[--A];O.call(x,E)&&P(E));});return L(t,v)};if(!p("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",
13:"\\r",9:"\\t"},Q=function(t,v){return("000000"+(v||0)).slice(-t)},V=function(t){for(var v='"',z=0,F=t.length,G=!X||F>10,I=G&&(X?t.split(""):t);z<F;z++){var x=t.charCodeAt(z);switch(x){case 8:case 9:case 10:case 12:case 13:case 34:case 92:v+=S[x];break;default:v=x<32?v+("\\u00"+Q(2,x.toString(16))):v+(G?I[z]:t.charAt(z))}}return v+'"'},U=function(t,v,z,F,G,I,x){var P;try{var A=v[t]}catch(da){}if(typeof A=="object"&&A){var E=C.call(A);if(E!="[object Date]"||y.call(A,"toJSON"))typeof A.toJSON=="function"&&
(E!="[object Number]"&&E!="[object String]"&&E!="[object Array]"||y.call(A,"toJSON"))&&(A=A.toJSON(t));else if(A>-1/0&&A<1/0){if(T){var O=N(A/864E5);for(E=N(O/365.2425)+1970-1;T(E+1,0)<=O;E++);for(P=N((O-T(E,0))/30.42);T(E,P+1)<=O;P++);O=1+O-T(E,P);var ba=(A%864E5+864E5)%864E5;var fa=N(ba/36E5)%24;var ha=N(ba/6E4)%60;var ia=N(ba/1E3)%60;ba%=1E3}else E=A.getUTCFullYear(),P=A.getUTCMonth(),O=A.getUTCDate(),fa=A.getUTCHours(),ha=A.getUTCMinutes(),ia=A.getUTCSeconds(),ba=A.getUTCMilliseconds();A=(E<=
0||E>=1E4?(E<0?"-":"+")+Q(6,E<0?-E:E):Q(4,E))+"-"+Q(2,P+1)+"-"+Q(2,O)+"T"+Q(2,fa)+":"+Q(2,ha)+":"+Q(2,ia)+"."+Q(3,ba)+"Z"}else A=null}z&&(A=z.call(v,t,A));if(A===null)return"null";E=C.call(A);if(E=="[object Boolean]")return""+A;if(E=="[object Number]")return A>-1/0&&A<1/0?""+A:"null";if(E=="[object String]")return V(""+A);if(typeof A=="object"){for(t=x.length;t--;)if(x[t]===A)throw H();x.push(A);var Z=[];v=I;I+=G;if(E=="[object Array]"){P=0;for(t=A.length;P<t;P++)E=U(P,A,z,F,G,I,x),Z.push(E===D?"null":
E);t=Z.length?G?"[\n"+I+Z.join(",\n"+I)+"\n"+v+"]":"["+Z.join(",")+"]":"[]"}else L(F||A,function(da){var ja=U(da,A,z,F,G,I,x);ja!==D&&Z.push(V(da)+":"+(G?" ":"")+ja)}),t=Z.length?G?"{\n"+I+Z.join(",\n"+I)+"\n"+v+"}":"{"+Z.join(",")+"}":"{}";x.pop();return t}};n.stringify=function(t,v,z){var F;if(a[typeof v]&&v)if((F=C.call(v))=="[object Function]")var G=v;else if(F=="[object Array]"){var I={};for(var x=0,P=v.length,A;x<P;A=v[x++],(F=C.call(A),F=="[object String]"||F=="[object Number]")&&(I[A]=1));
}if(z)if((F=C.call(z))=="[object Number]"){if((z-=z%1)>0){var E="";for(z>10&&(z=10);E.length<z;E+=" ");}}else F=="[object String]"&&(E=z.length<=10?z:z.slice(0,10));return U("",(A={},A[""]=t,A),G,I,E,"",[])}}if(!p("json-parse")){var W=r.fromCharCode,ma={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},B,ca,R=function(){B=ca=null;throw J();},aa=function(){for(var t=ca,v=t.length,z,F,G,I,x;B<v;)switch(x=t.charCodeAt(B),x){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return z=
X?t.charAt(B):t[B],B++,z;case 34:z="@";for(B++;B<v;)if(x=t.charCodeAt(B),x<32)R();else if(x==92)switch(x=t.charCodeAt(++B),x){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:z+=ma[x];B++;break;case 117:F=++B;for(G=B+4;B<G;B++)x=t.charCodeAt(B),x>=48&&x<=57||x>=97&&x<=102||x>=65&&x<=70||R();z+=W("0x"+t.slice(F,B));break;default:R()}else{if(x==34)break;x=t.charCodeAt(B);for(F=B;x>=32&&x!=92&&x!=34;)x=t.charCodeAt(++B);z+=t.slice(F,B)}if(t.charCodeAt(B)==34)return B++,z;R();default:F=
B;x==45&&(I=!0,x=t.charCodeAt(++B));if(x>=48&&x<=57){for(x==48&&(x=t.charCodeAt(B+1),x>=48&&x<=57)&&R();B<v&&(x=t.charCodeAt(B),x>=48&&x<=57);B++);if(t.charCodeAt(B)==46){for(G=++B;G<v&&(x=t.charCodeAt(G),x>=48&&x<=57);G++);G==B&&R();B=G}x=t.charCodeAt(B);if(x==101||x==69){x=t.charCodeAt(++B);x!=43&&x!=45||B++;for(G=B;G<v&&(x=t.charCodeAt(G),x>=48&&x<=57);G++);G==B&&R();B=G}return+t.slice(F,B)}I&&R();if(t.slice(B,B+4)=="true")return B+=4,!0;if(t.slice(B,B+5)=="false")return B+=5,!1;if(t.slice(B,B+
4)=="null")return B+=4,null;R()}return"$"},ea=function(t){var v,z;t=="$"&&R();if(typeof t=="string"){if((X?t.charAt(0):t[0])=="@")return t.slice(1);if(t=="["){for(v=[];;z||=!0){t=aa();if(t=="]")break;z&&(t==","?(t=aa(),t=="]"&&R()):R());t==","&&R();v.push(ea(t))}return v}if(t=="{"){for(v={};;z||=!0){t=aa();if(t=="}")break;z&&(t==","?(t=aa(),t=="}"&&R()):R());t!=","&&typeof t=="string"&&(X?t.charAt(0):t[0])=="@"&&aa()==":"||R();v[t.slice(1)]=ea(aa())}return v}R()}return t},la=function(t,v,z){z=ka(t,
v,z);z===D?delete t[v]:t[v]=z},ka=function(t,v,z){var F=t[v],G;if(typeof F=="object"&&F)if(C.call(F)=="[object Array]")for(G=F.length;G--;)la(F,G,z);else L(F,function(I){la(F,I,z)});return z.call(t,v,F)};n.parse=function(t,v){var z;B=0;ca=""+t;t=ea(aa());aa()!="$"&&R();B=ca=null;return v&&C.call(v)=="[object Function]"?ka((z={},z[""]=t,z),"",v):t}}}n.runInContext=f;return n}var d=typeof define==="function"&&define.amd,a={"function":!0,object:!0},b=a[typeof exports]&&exports&&!exports.nodeType&&exports,
c=a[typeof window]&&window||this,e=b&&a[typeof module]&&module&&!module.nodeType&&typeof global=="object"&&global;!e||e.global!==e&&e.window!==e&&e.self!==e||(c=e);if(b&&!d)f(c,b);else{var g=c.JSON,h=c.JSON3,k=!1,m=f(c,c.JSON3={noConflict:function(){k||(k=!0,c.JSON=g,c.JSON3=h,g=h=null);return m}});c.JSON={parse:m.parse,stringify:m.stringify}}d&&define(function(){return m})}).call(this);
(function(){var f={a:function(){return f.el("a")},svg:function(){return f.el("svg")},object:function(){return f.el("object")},image:function(){return f.el("image")},img:function(){return f.el("img")},style:function(){return f.el("style")},link:function(){return f.el("link")},script:function(){return f.el("script")},audio:function(){return f.el("audio")},video:function(){return f.el("video")},text:function(d){return document.createTextNode(d)},el:function(d){return document.createElement(d)}};createjs.Elements=
f})();
(function(){var f={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(d){var a={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(d==null)return a;var b=createjs.Elements.a();b.href=d;for(var c in a)c in b&&(a[c]=b[c]);b=d.indexOf("?");b>-1&&(d=d.substr(0,b));f.ABSOLUTE_PATT.test(d)?a.absolute=!0:f.RELATIVE_PATT.test(d)&&(a.relative=!0);if(d=d.match(f.EXTENSION_PATT))a.extension=d[1].toLowerCase();
return a},formatQueryString:function(d,a){if(d==null)throw Error("You must specify data.");var b=[],c;for(c in d)b.push(c+"="+escape(d[c]));a&&(b=b.concat(a));return b.join("&")},buildURI:function(d,a){if(a==null)return d;var b=[],c=d.indexOf("?");if(c!=-1){var e=d.slice(c+1);b=b.concat(e.split("&"))}return c!=-1?d.slice(0,c)+"?"+this.formatQueryString(a,b):d+"?"+this.formatQueryString(a,b)},isCrossDomain:function(d){var a=createjs.Elements.a();a.href=d.src;d=createjs.Elements.a();d.href=location.href;
return a.hostname!=""&&(a.port!=d.port||a.protocol!=d.protocol||a.hostname!=d.hostname)},isLocal:function(d){var a=createjs.Elements.a();a.href=d.src;return a.hostname==""&&a.protocol=="file:"}};createjs.URLUtils=f})();
(function(){var f={container:null,appendToHead:function(d){f.getHead().appendChild(d)},appendToBody:function(d){if(f.container==null){f.container=document.createElement("div");f.container.id="preloadjs-container";var a=f.container.style;a.visibility="hidden";a.position="absolute";a.width=f.container.style.height="10px";a.overflow="hidden";a.transform=a.msTransform=a.webkitTransform=a.oTransform="translate(-10px, -10px)";f.getBody().appendChild(f.container)}f.container.appendChild(d)},getHead:function(){return document.head||
document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(d){d.parent&&d.parent.removeChild(d)},isImageTag:function(d){return d instanceof HTMLImageElement},isAudioTag:function(d){return window.HTMLAudioElement?d instanceof HTMLAudioElement:!1},isVideoTag:function(d){return window.HTMLVideoElement?d instanceof HTMLVideoElement:!1}};createjs.DomUtils=f})();
(function(){createjs.DataUtils={parseXML:function(f){var d=null;try{window.DOMParser&&(d=(new DOMParser).parseFromString(f,"text/xml"))}catch(a){}if(!d)try{d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(f)}catch(a){d=null}return d},parseJSON:function(f){if(f==null)return null;try{return JSON.parse(f)}catch(d){throw d;}}}})();
(function(){createjs.Types={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"}})();(function(){createjs.Methods={POST:"POST",GET:"GET"}})();
(function(){function f(){this.id=this.type=this.src=null;this.maintainOrder=!1;this.data=this.callback=null;this.method=createjs.Methods.GET;this.headers=this.values=null;this.withCredentials=!1;this.crossOrigin=this.mimeType=null;this.loadTimeout=a.LOAD_TIMEOUT_DEFAULT}var d=f.prototype={},a=f;a.LOAD_TIMEOUT_DEFAULT=8E3;a.create=function(b){if(typeof b=="string"){var c=new f;c.src=b;return c}if(b instanceof a)return b;if(b instanceof Object&&b.src)return b.loadTimeout==null&&(b.loadTimeout=a.LOAD_TIMEOUT_DEFAULT),
b;throw Error("Type not recognized.");};d.set=function(b){for(var c in b)this[c]=b[c];return this};createjs.LoadItem=a})();
(function(){createjs.RequestUtils={isBinary:function(f){switch(f){case createjs.Types.IMAGE:case createjs.Types.BINARY:return!0;default:return!1}},isText:function(f){switch(f){case createjs.Types.TEXT:case createjs.Types.JSON:case createjs.Types.MANIFEST:case createjs.Types.XML:case createjs.Types.CSS:case createjs.Types.SVG:case createjs.Types.JAVASCRIPT:case createjs.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(f){if(f==null)return createjs.Types.TEXT;switch(f.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.Types.IMAGE;
case "ogg":case "mp3":case "webm":return createjs.Types.SOUND;case "mp4":case "webm":case "ts":return createjs.Types.VIDEO;case "json":return createjs.Types.JSON;case "xml":return createjs.Types.XML;case "css":return createjs.Types.CSS;case "js":return createjs.Types.JAVASCRIPT;case "svg":return createjs.Types.SVG;default:return createjs.Types.TEXT}}}})();
(function(){function f(a,b,c){this.EventDispatcher_constructor();this.canceled=this.loaded=!1;this.progress=0;this.type=c;this.resultFormatter=null;this._item=a?createjs.LoadItem.create(a):null;this._preferXHR=b;this._tag=this._tagSrcAttribute=this._loadedItems=this._rawResult=this._result=null}var d=createjs.extend(f,createjs.EventDispatcher);try{Object.defineProperties(f,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},
"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},
"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},
SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(a){}d.getItem=function(){return this._item};d.getResult=function(a){return a?this._rawResult:this._result};d.getTag=
function(){return this._tag};d.setTag=function(a){this._tag=a};d.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var a=new createjs.Event("initialize");a.loader=this._request;this.dispatchEvent(a);this._request.load()};d.cancel=function(){this.canceled=!0;this.destroy()};d.destroy=function(){this._request&&
(this._request.removeAllEventListeners(),this._request.destroy());this._loadItems=this._result=this._rawResult=this._item=this._request=null;this.removeAllEventListeners()};d.getLoadedItems=function(){return this._loadedItems};d._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};d._createTag=function(a){return null};d._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};
d._sendProgress=function(a){if(!this._isCanceled()){if(typeof a=="number"){this.progress=a;var b=new createjs.ProgressEvent(this.progress)}else if(b=a,this.progress=a.loaded/a.total,b.progress=this.progress,isNaN(this.progress)||this.progress==Infinity)this.progress=0;this.hasEventListener("progress")&&this.dispatchEvent(b)}};d._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var a=new createjs.Event("complete");a.rawResult=this._rawResult;this._result!=null&&(a.result=this._result);
this.dispatchEvent(a)}};d._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(a==null&&(a=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(a))};d._isCanceled=function(){return window.createjs==null||this.canceled?!0:!1};d.resultFormatter=null;d.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=a.target._response;a=this.resultFormatter&&this.resultFormatter(this);a instanceof Function?a.call(this,createjs.proxy(this._resultFormatSuccess,
this),createjs.proxy(this._resultFormatFailed,this)):(this._result=a||this._rawResult,this._sendComplete());break;case "progress":this._sendProgress(a);break;case "error":this._sendError(a);break;case "loadstart":this._sendLoadStart();break;case "abort":case "timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+a.type.toUpperCase()+"_ERROR"))}};d._resultFormatSuccess=function(a){this._result=a;this._sendComplete()};d._resultFormatFailed=function(a){this._sendError(a)};
d.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(f,"EventDispatcher")})();
(function(){function f(a,b,c){this.AbstractLoader_constructor(a,b,c);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.on("initialize",this._updateXHR,this)}var d=createjs.extend(f,createjs.AbstractLoader);d.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};d._createTag=function(){};d._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,
this._tag||this._createTag(),this._tagSrcAttribute)};d._updateXHR=function(a){a.loader.setResponseType&&a.loader.setResponseType("blob")};d._formatResult=function(a){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.onstalled=null;if(this._preferXHR){var b=window.URL||window.webkitURL,c=a.getResult(!0);a.getTag().src=b.createObjectURL(c)}return a.getTag()};createjs.AbstractMediaLoader=createjs.promote(f,"AbstractLoader")})();
(function(){var f=function(a){this._item=a},d=createjs.extend(f,createjs.EventDispatcher);d.load=function(){};d.destroy=function(){};d.cancel=function(){};createjs.AbstractRequest=createjs.promote(f,"EventDispatcher")})();
(function(){function f(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1}var d=createjs.extend(f,createjs.AbstractRequest);d.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var a=new createjs.Event("initialize");a.loader=
this._tag;this.dispatchEvent(a);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;this._tag.parentNode==null&&(createjs.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)};d.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};d._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;a.readyState!="loaded"&&a.readyState!="complete"||this._handleTagComplete()};
d._handleError=function(){this._clean();this.dispatchEvent("error")};d._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this.dispatchEvent("complete")};d._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};d._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&this._tag.parentNode!=null&&this._tag.parentNode.removeChild(this._tag);
clearTimeout(this._loadTimeout)};d._handleStalled=function(){};createjs.TagRequest=createjs.promote(f,"AbstractRequest")})();
(function(){function f(a,b,c){this.AbstractRequest_constructor(a);this._tag=b;this._tagSrcAttribute=c;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var d=createjs.extend(f,createjs.TagRequest);d.load=function(){var a=createjs.proxy(this._handleStalled,this);this._stalledCallback=a;var b=createjs.proxy(this._handleProgress,this);this._handleProgress=b;this._tag.addEventListener("stalled",a);this._tag.addEventListener("progress",b);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",
this._loadedHandler,!1);this.TagRequest_load()};d._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this._tag;a.readyState!="loaded"&&a.readyState!="complete"||this._handleTagComplete()};d._handleStalled=function(){};d._handleProgress=function(a){!a||a.loaded>0&&a.total==0||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};d._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",
this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(f,"TagRequest")})();
(function(){function f(a){this.AbstractRequest_constructor(a);this._loadTimeout=this._request=null;this._xhrLevel=1;this._rawResponse=this._response=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=
createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);this._createXHR(a)}var d=createjs.extend(f,createjs.AbstractRequest);f.ACTIVEX_VERSIONS="Msxml2.XMLHTTP.6.0 Msxml2.XMLHTTP.5.0 Msxml2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");d.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};d.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};d.load=function(){if(this._request==
null)this._handleError();else{this._request.addEventListener!=null?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",
this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);this._xhrLevel==1&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));
try{this._item.values?this._request.send(createjs.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(a){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,a))}}};d.setResponseType=function(a){a==="blob"&&(this._responseType=a=window.URL?"blob":"arraybuffer");this._request.responseType=a};d.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};d.getResponseHeader=function(a){return this._request.getResponseHeader instanceof
Function?this._request.getResponseHeader(a):null};d._handleProgress=function(a){!a||a.loaded>0&&a.total==0||(a=new createjs.ProgressEvent(a.loaded,a.total),this.dispatchEvent(a))};d._handleLoadStart=function(a){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};d._handleAbort=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,a))};d._handleError=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent(a.message))};d._handleReadyStateChange=
function(a){this._request.readyState==4&&this._handleLoad()};d._handleLoad=function(a){if(!this.loaded)if(this.loaded=!0,a=this._checkError())this._handleError(a);else{this._response=this._getResponse();if(this._responseType==="arraybuffer")try{this._response=new Blob([this._response])}catch(b){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,b.name==="TypeError"&&window.BlobBuilder&&(a=new BlobBuilder,a.append(this._response),this._response=
a.getBlob())}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};d._handleTimeout=function(a){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,a))};d._checkError=function(){var a=parseInt(this._request.status);return a>=400&&a<=599?Error(a):a==0?/^https?:/.test(location.protocol)?Error(0):null:null};d._getResponse=function(){if(this._response!=null)return this._response;if(this._request.response!=null)return this._request.response;try{if(this._request.responseText!=
null)return this._request.responseText}catch(a){}try{if(this._request.responseXML!=null)return this._request.responseXML}catch(a){}return null};d._createXHR=function(a){var b=createjs.URLUtils.isCrossDomain(a),c={},e=null;if(window.XMLHttpRequest)e=new XMLHttpRequest,b&&e.withCredentials===void 0&&window.XDomainRequest&&(e=new XDomainRequest);else{for(var g=0,h=s.ACTIVEX_VERSIONS.length;g<h;g++){var k=s.ACTIVEX_VERSIONS[g];try{e=new ActiveXObject(k);break}catch(l){}}if(e==null)return!1}a.mimeType==
null&&createjs.RequestUtils.isText(a.type)&&(a.mimeType="text/plain; charset=utf-8");a.mimeType&&e.overrideMimeType&&e.overrideMimeType(a.mimeType);this._xhrLevel=typeof e.responseType==="string"?2:1;g=a.method==createjs.Methods.GET?createjs.URLUtils.buildURI(a.src,a.values):a.src;e.open(a.method||createjs.Methods.GET,g,!0);b&&e instanceof XMLHttpRequest&&this._xhrLevel==1&&(c.Origin=location.origin);a.values&&a.method==createjs.Methods.POST&&(c["Content-Type"]="application/x-www-form-urlencoded");
b||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");if(a.headers)for(var m in a.headers)c[m]=a.headers[m];for(m in c)e.setRequestHeader(m,c[m]);e instanceof XMLHttpRequest&&a.withCredentials!==void 0&&(e.withCredentials=a.withCredentials);this._request=e;return!0};d._clean=function(){clearTimeout(this._loadTimeout);this._request.removeEventListener!=null?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),
this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=
null,this._request.onreadystatechange=null)};d.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(f,"AbstractRequest")})();
(function(){function f(a,b,c){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.FontLoader,createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,
createjs.VideoLoader,createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(a,b,c)}var d=createjs.extend(f,createjs.AbstractLoader);try{Object.defineProperties(f,{POST:{get:createjs.deprecate(function(){return createjs.Methods.POST},"AbstractLoader.POST")},GET:{get:createjs.deprecate(function(){return createjs.Methods.GET},"AbstractLoader.GET")},BINARY:{get:createjs.deprecate(function(){return createjs.Types.BINARY},"AbstractLoader.BINARY")},CSS:{get:createjs.deprecate(function(){return createjs.Types.CSS},
"AbstractLoader.CSS")},FONT:{get:createjs.deprecate(function(){return createjs.Types.FONT},"AbstractLoader.FONT")},FONTCSS:{get:createjs.deprecate(function(){return createjs.Types.FONTCSS},"AbstractLoader.FONTCSS")},IMAGE:{get:createjs.deprecate(function(){return createjs.Types.IMAGE},"AbstractLoader.IMAGE")},JAVASCRIPT:{get:createjs.deprecate(function(){return createjs.Types.JAVASCRIPT},"AbstractLoader.JAVASCRIPT")},JSON:{get:createjs.deprecate(function(){return createjs.Types.JSON},"AbstractLoader.JSON")},
JSONP:{get:createjs.deprecate(function(){return createjs.Types.JSONP},"AbstractLoader.JSONP")},MANIFEST:{get:createjs.deprecate(function(){return createjs.Types.MANIFEST},"AbstractLoader.MANIFEST")},SOUND:{get:createjs.deprecate(function(){return createjs.Types.SOUND},"AbstractLoader.SOUND")},VIDEO:{get:createjs.deprecate(function(){return createjs.Types.VIDEO},"AbstractLoader.VIDEO")},SPRITESHEET:{get:createjs.deprecate(function(){return createjs.Types.SPRITESHEET},"AbstractLoader.SPRITESHEET")},
SVG:{get:createjs.deprecate(function(){return createjs.Types.SVG},"AbstractLoader.SVG")},TEXT:{get:createjs.deprecate(function(){return createjs.Types.TEXT},"AbstractLoader.TEXT")},XML:{get:createjs.deprecate(function(){return createjs.Types.XML},"AbstractLoader.XML")}})}catch(a){}d.init=function(a,b,c){this._preferXHR=this.preferXHR=!0;this.setPreferXHR(a);this._paused=!1;this._basePath=b;this._crossOrigin=c;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];
this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._numItemsLoaded=this._numItems=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=NaN};d.registerLoader=function(a){if(!a||!a.canLoadItem)throw Error("loader is of an incorrect type.");if(this._availableLoaders.indexOf(a)!=-1)throw Error("loader already exists.");this._availableLoaders.unshift(a)};d.unregisterLoader=function(a){a=this._availableLoaders.indexOf(a);
a!=-1&&a<this._defaultLoaderLength-1&&this._availableLoaders.splice(a,1)};d.setPreferXHR=function(a){return this.preferXHR=a!=0&&window.XMLHttpRequest!=null};d.removeAll=function(){this.remove()};d.remove=function(a){var b=null;if(a&&!Array.isArray(a))b=[a];else if(a)b=a;else if(arguments.length>0)return;var c=!1;if(b){for(;b.length;){var e=b.pop(),g=this.getResult(e);for(h=this._loadQueue.length-1;h>=0;h--)if(k=this._loadQueue[h].getItem(),k.id==e||k.src==e){this._loadQueue.splice(h,1)[0].cancel();
break}for(h=this._loadQueueBackup.length-1;h>=0;h--)if(k=this._loadQueueBackup[h].getItem(),k.id==e||k.src==e){this._loadQueueBackup.splice(h,1)[0].cancel();break}if(g)this._disposeItem(this.getItem(e));else for(var h=this._currentLoads.length-1;h>=0;h--){var k=this._currentLoads[h].getItem();if(k.id==e||k.src==e){this._currentLoads.splice(h,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();for(e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);this.init(this.preferXHR,
this._basePath)}};d.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);a=[];for(var b=0,c=this._loadQueueBackup.length;b<c;b++)a.push(this._loadQueueBackup[b].getItem());this.loadManifest(a,!1)};d.installPlugin=function(a){if(a!=null&&a.getPreloadHandlers!=null){this._plugins.push(a);var b=a.getPreloadHandlers();b.scope=a;if(b.types!=null){a=0;for(var c=b.types.length;a<c;a++)this._typeCallbacks[b.types[a]]=b}if(b.extensions!=null)for(a=0,c=b.extensions.length;a<
c;a++)this._extensionCallbacks[b.extensions[a]]=b}};d.setMaxConnections=function(a){this._maxConnections=a;!this._paused&&this._loadQueue.length>0&&this._loadNext()};d.loadFile=function(a,b,c){a==null?(a=new createjs.ErrorEvent("PRELOAD_NO_FILE"),this._sendError(a)):(this._addItem(a,null,c),b!==!1?this.setPaused(!1):this.setPaused(!0))};d.reloadFile=function(a,b,c){var e=createjs.indexOf(this._scriptOrder,a);a=createjs.indexOf(this._currentLoads,a._loader);a!==-1&&this._currentLoads.splice(a,1);b=
this._prependItem(b);e!==-1&&(this._scriptOrder[e]=b);c!==!1?this.setPaused(!1):this.setPaused(!0)};d.loadManifest=function(a,b,c){var e=null,g=null;if(Array.isArray(a)){if(a.length==0){e=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");this._sendError(e);return}e=a}else if(typeof a==="string")e=[{src:a,type:f.MANIFEST}];else if(typeof a=="object")a.src!==void 0?(a.type==null?a.type=f.MANIFEST:a.type!=f.MANIFEST&&(e=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(e)),e=[a]):a.manifest!==
void 0&&(e=a.manifest,g=a.path);else{e=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");this._sendError(e);return}a=0;for(var h=e.length;a<h;a++)this._addItem(e[a],g,c);b!==!1?this.setPaused(!1):this.setPaused(!0)};d.load=function(){this.setPaused(!1)};d.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]};d.getResult=function(a,b){a=this._loadItemsById[a]||this._loadItemsBySrc[a];if(a==null)return null;a=a.id;return b&&this._loadedRawResults[a]?this._loadedRawResults[a]:this._loadedResults[a]};
d.getItems=function(a){var b=[],c;for(c in this._loadItemsById){var e=this._loadItemsById[c],g=this.getResult(c);a===!0&&g==null||b.push({item:e,result:g,rawResult:this.getResult(c,!0)})}return b};d.setPaused=function(a){(this._paused=a)||this._loadNext()};d.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=NaN};d._addItem=function(a,b,c){a=this._createLoadItem(a,
b,c);a!=null&&(b=this._createLoader(a),b!=null&&("plugins"in b&&(b.plugins=this._plugins),a._loader=b,this._loadQueue.push(b),this._loadQueueBackup.push(b),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT||a.maintainOrder===!0))&&(this._scriptOrder.push(a),this._loadedScripts.push(null))};d._prependItem=function(a,b,c){a=this._createLoadItem(a,b,c);if(a!=null)return b=this._createLoader(a),b!=null&&("plugins"in b&&(b.plugins=this._plugins),a._loader=
b,this._loadQueue.unshift(b),this._loadQueueBackup.unshift(b),this._numItems++,this._updateProgress()),a};d._createLoadItem=function(a,b,c){a=createjs.LoadItem.create(a);if(a==null)return null;var e="";c=c||this._basePath;if(a.src instanceof Object){if(!a.type)return null;if(b){e=b;var g=createjs.URLUtils.parseURI(b);c==null||g.absolute||g.relative||(e=c+e)}else c!=null&&(e=c)}else{g=createjs.URLUtils.parseURI(a.src);g.extension&&(a.ext=g.extension);a.type==null&&(a.type=createjs.RequestUtils.getTypeByExtension(a.ext));
var h=a.src;g.absolute||g.relative||(b?(e=b,g=createjs.URLUtils.parseURI(b),h=b+h,c==null||g.absolute||g.relative||(e=c+e)):c!=null&&(e=c));a.src=e+a.src}a.path=e;if(a.id===void 0||a.id===null||a.id==="")a.id=h;if(b=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext]){b=b.callback.call(b.scope,a,this);if(b===!1)return null;b!==!0&&b!=null&&(a._loader=b);g=createjs.URLUtils.parseURI(a.src);g.extension!=null&&(a.ext=g.extension)}this._loadItemsById[a.id]=a;this._loadItemsBySrc[a.src]=a;a.crossOrigin==
null&&(a.crossOrigin=this._crossOrigin);return a};d._createLoader=function(a){if(a._loader!=null)return a._loader;for(var b=this.preferXHR,c=0;c<this._availableLoaders.length;c++){var e=this._availableLoaders[c];if(e&&e.canLoadItem(a))return new e(a,b)}return null};d._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):
this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];this._canStartLoad(b)&&(this._loadQueue.splice(a,1),a--,this._loadItem(b))}}};d._loadItem=function(a){a.on("fileload",this._handleFileLoad,this);a.on("progress",this._handleProgress,this);a.on("complete",this._handleFileComplete,this);a.on("error",this._handleError,this);a.on("fileerror",this._handleFileError,this);this._currentLoads.push(a);this._sendFileStart(a.getItem());
a.load()};d._handleFileLoad=function(a){a.target=null;this.dispatchEvent(a)};d._handleFileError=function(a){try{var b=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,a.item);this._sendError(b)}catch(c){throw dblRecordError(c),c;}};d._handleError=function(a){try{var b=a.target;b.removeAllEventListeners();this._numItemsLoaded++;this._finishOrderedItem(b,!0);this._updateProgress();var c=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,b.getItem());this._sendError(c);this.stopOnError?this.setPaused(!0):
(this._removeLoadItem(b),this._cleanLoadItem(b),this._loadNext())}catch(e){throw dblRecordError(e),e;}};d._handleFileComplete=function(a){try{var b=a.target,c=b.getItem();b.removeAllEventListeners();this._numItemsLoaded++;var e=b.getResult();this._loadedResults[c.id]=e;var g=b.getResult(!0);g!=null&&g!==e&&(this._loadedRawResults[c.id]=g);this._saveLoadedItems(b);this._removeLoadItem(b);this._finishOrderedItem(b)||this._processFinishedLoad(c,b);this._cleanLoadItem(b);this._loadNext()}catch(h){throw dblRecordError(h),
h;}};d._saveLoadedItems=function(a){a=a.getLoadedItems();if(a!==null)for(var b=0;b<a.length;b++){var c=a[b].item;this._loadItemsBySrc[c.src]=c;this._loadItemsById[c.id]=c;this._loadedResults[c.id]=a[b].result;this._loadedRawResults[c.id]=a[b].rawResult}};d._finishOrderedItem=function(a,b){var c=a.getItem();if(this.maintainScriptOrder&&c.type==createjs.Types.JAVASCRIPT||c.maintainOrder){a instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);a=createjs.indexOf(this._scriptOrder,c);
if(a==-1)return!1;this._loadedScripts[a]=b===!0?null:c;this._checkScriptLoadOrder();return!0}return!1};d._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;b<a;b++){var c=this._loadedScripts[b];if(c===null)break;if(c!==!0){var e=this._loadedResults[c.id];c.type==createjs.Types.JAVASCRIPT&&createjs.DomUtils.appendToHead(e);this._processFinishedLoad(c,c._loader);this._loadedScripts[b]=!0}}};d._processFinishedLoad=function(a,b){if(!this.maintainScriptOrder&&a.type==createjs.Types.JAVASCRIPT){var c=
b.getTag();createjs.DomUtils.appendToHead(c)}this._updateProgress();this._sendFileComplete(a,b)};d._canStartLoad=function(a){if(!this.maintainScriptOrder||a._preferXHR)return!0;a=a.getItem();if(a.type!=createjs.Types.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;a=this._scriptOrder.indexOf(a);for(var b=0;b<a;){if(this._loadedScripts[b]==null)return!1;b++}return this._currentlyLoadingScript=!0};d._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;c<b;c++)if(this._currentLoads[c]==
a){this._currentLoads.splice(c,1);break}};d._cleanLoadItem=function(a){(a=a.getItem())&&delete a._loader};d._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};d._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,e=0,g=this._currentLoads.length;e<g;e++)c+=this._currentLoads[e].progress;a+=c/b*(b/this._numItems)}this._lastProgress!=a&&(this._sendProgress(a),this._lastProgress=
a)};d._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};d._sendFileProgress=function(a,b){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b;c.loaded=b;c.total=1;c.item=a;this.dispatchEvent(c)}};d._sendFileComplete=function(a,b){if(!this._isCanceled()&&!this._paused){var c=new createjs.Event("fileload");c.loader=
b;c.item=a;c.result=this._loadedResults[a.id];c.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(c);this.hasEventListener("fileload")&&this.dispatchEvent(c)}};d._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a;this.hasEventListener("filestart")&&this.dispatchEvent(b)};d.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(f,"AbstractLoader")})();
(function(){function f(d){this.AbstractLoader_constructor(d,!0,createjs.Types.TEXT)}createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(d){return d.type==createjs.Types.TEXT};createjs.TextLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a){this.AbstractLoader_constructor(a,!0,createjs.Types.BINARY);this.on("initialize",this._updateXHR,this)}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.BINARY};d._updateXHR=function(a){a.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=b?createjs.Elements.style():createjs.Elements.link();this._tag.rel="stylesheet";this._tag.type="text/css"}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.CSS};d._formatResult=function(a){if(this._preferXHR){var b=a.getTag();b.styleSheet?b.styleSheet.cssText=a.getResult(!0):(a=createjs.Elements.text(a.getResult(!0)),
b.appendChild(a))}else b=this._tag;createjs.DomUtils.appendToHead(b);return b};createjs.CSSLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,a.type);this._faces={};this._watched=[];this._count=0;this._loadTimeout=this._watchInterval=null;this._injectCSS=a.injectCSS===void 0?!0:a.injectCSS;this.dispatchEvent("initialize")}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.FONT||a.type==createjs.Types.FONTCSS};f.sampleText="abcdefghijklmnopqrstuvwxyz ABCDEFGHIJKLMNOPQRSTUVWXYZ";f._ctx=document.createElement("canvas").getContext("2d");
f._referenceFonts=["serif","monospace"];f.WEIGHT_REGEX=/[- ._]*(thin|normal|book|regular|medium|black|heavy|[1-9]00|(?:extra|ultra|semi|demi)?[- ._]*(?:light|bold))[- ._]*/ig;f.STYLE_REGEX=/[- ._]*(italic|oblique)[- ._]*/ig;f.FONT_FORMAT={woff2:"woff2",woff:"woff",ttf:"truetype",otf:"truetype"};f.FONT_WEIGHT={thin:100,extralight:200,ultralight:200,light:300,semilight:300,demilight:300,book:"normal",regular:"normal",semibold:600,demibold:600,extrabold:800,ultrabold:800,black:900,heavy:900};f.WATCH_DURATION=
10;d.load=function(){if(this.type==createjs.Types.FONTCSS){if(!this._watchCSS()){this.AbstractLoader_load();return}}else if(this._item.src instanceof Array)this._watchFontArray();else{var a=this._defFromSrc(this._item.src);this._watchFont(a);this._injectStyleTag(this._cssFromDef(a))}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this.dispatchEvent("loadstart")};d._handleTimeout=function(){this._stopWatching();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT"))};
d._createRequest=function(){return this._request};d.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=a.target._response;this._result=!0;this._parseCSS(this._rawResult);break;case "error":this._stopWatching(),this.AbstractLoader_handleEvent(a)}};d._watchCSS=function(){var a=this._item.src;a instanceof HTMLStyleElement&&(this._injectCSS&&!a.parentNode&&(document.head||document.getElementsByTagName("head")[0]).appendChild(a),this._injectCSS=!1,a="\n"+a.textContent);if(a.search(/\n|\r|@font-face/i)!==
-1)return this._parseCSS(a),!0;this._request=new createjs.XHRRequest(this._item);return!1};d._parseCSS=function(a){for(var b=/@font-face\s*\{([^}]+)}/g;;){var c=b.exec(a);if(!c)break;this._watchFont(this._parseFontFace(c[1]))}this._injectStyleTag(a)};d._watchFontArray=function(){for(var a=this._item.src,b="",c,e=a.length-1;e>=0;e--)c=a[e],c=typeof c==="string"?this._defFromSrc(c):this._defFromObj(c),this._watchFont(c),b+=this._cssFromDef(c)+"\n";this._injectStyleTag(b)};d._injectStyleTag=function(a){if(this._injectCSS){var b=
document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a));b.appendChild(c)}};d._parseFontFace=function(a){var b=this._getCSSValue(a,"font-family"),c=this._getCSSValue(a,"src");return b&&c?this._defFromObj({family:b,src:c,style:this._getCSSValue(a,"font-style"),weight:this._getCSSValue(a,"font-weight")}):null};d._watchFont=function(a){a&&!this._faces[a.id]&&(this._faces[a.id]=
a,this._watched.push(a),this._count++,this._calculateReferenceSizes(a),this._startWatching())};d._startWatching=function(){this._watchInterval==null&&(this._watchInterval=setInterval(createjs.proxy(this._watch,this),f.WATCH_DURATION))};d._stopWatching=function(){clearInterval(this._watchInterval);clearTimeout(this._loadTimeout);this._watchInterval=null};d._watch=function(){for(var a=this._watched,b=f._referenceFonts,c=a.length,e=c-1;e>=0;e--)for(var g=a[e],h=g.refs,k=h.length-1;k>=0;k--)if(this._getTextWidth(g.family+
","+b[k],g.weight,g.style)!=h[k]){h=new createjs.Event("fileload");g.type="font-family";h.item=g;this.dispatchEvent(h);a.splice(e,1);break}c!==a.length&&(h=new createjs.ProgressEvent(this._count-a.length,this._count),this.dispatchEvent(h));c===0&&(this._stopWatching(),this._sendComplete())};d._calculateReferenceSizes=function(a){for(var b=f._referenceFonts,c=a.refs=[],e=0;e<b.length;e++)c[e]=this._getTextWidth(b[e],a.weight,a.style)};d._defFromSrc=function(a){var b=/[- ._]+/g,c=a,e=null;var g=c.search(/[?#]/);
g!==-1&&(c=c.substr(0,g));g=c.lastIndexOf(".");g!==-1&&(e=c.substr(g+1),c=c.substr(0,g));g=c.lastIndexOf("/");g!==-1&&(c=c.substr(g+1));g=c;var h=g.match(f.WEIGHT_REGEX);h&&(h=h[0],g=g.replace(h,""),h=h.replace(b,"").toLowerCase());var k=c.match(f.STYLE_REGEX);k&&(g=g.replace(k[0],""),k="italic");g=g.replace(b,"");a="local('"+c.replace(b," ")+"'), url('"+a+"')";(e=f.FONT_FORMAT[e])&&(a+=" format('"+e+"')");return this._defFromObj({family:g,weight:f.FONT_WEIGHT[h]||h,style:k,src:a})};d._defFromObj=
function(a){a={family:a.family,src:a.src,style:a.style||"normal",weight:a.weight||"normal"};a.id=a.family+";"+a.style+";"+a.weight;return a};d._cssFromDef=function(a){return"@font-face {\n\tfont-family: '"+a.family+"';\n\tfont-style: "+a.style+";\n\tfont-weight: "+a.weight+";\n\tsrc: "+a.src+";\n}"};d._getTextWidth=function(a,b,c){var e=f._ctx;e.font=c+" "+b+" 72px "+a;return e.measureText(f.sampleText).width};d._getCSSValue=function(a,b){return(a=(new RegExp(b+":s*([^;}]+?)s*[;}]")).exec(a))&&a[1]?
a[1]:null};createjs.FontLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.DomUtils.isImageTag(a)?this._tag=a:createjs.DomUtils.isImageTag(a.src)?this._tag=a.src:createjs.DomUtils.isImageTag(a.tag)&&(this._tag=a.tag);this._tag!=null?this._preferXHR=!1:this._tag=createjs.Elements.img();this.on("initialize",this._updateXHR,this)}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==
createjs.Types.IMAGE};d.load=function(){if(this._tag.src!=""&&this._tag.complete)this._sendComplete();else{var a=this._item.crossOrigin;a==1&&(a="Anonymous");a==null||createjs.URLUtils.isLocal(this._item)||(this._tag.crossOrigin=a);this.AbstractLoader_load()}};d._updateXHR=function(a){a.loader.mimeType="text/plain; charset=x-user-defined-binary";a.loader.setResponseType&&a.loader.setResponseType("blob")};d._formatResult=function(a){return this._formatImage};d._formatImage=function(a,b){var c=this._tag,
e=window.URL||window.webkitURL;this._preferXHR&&(e?(e=e.createObjectURL(this.getResult(!0)),c.src=e,c.addEventListener("load",this._cleanUpURL,!1),c.addEventListener("error",this._cleanUpURL,!1)):c.src=this._item.src);c.complete?a(c):(c.onload=createjs.proxy(function(){a(this._tag);c.onload=c.onerror=null},this),c.onerror=createjs.proxy(function(g){b(new createjs.ErrorEvent("IMAGE_FORMAT",null,g));c.onload=c.onerror=null},this))};d._cleanUpURL=function(a){(window.URL||window.webkitURL).revokeObjectURL(a.target.src)};
createjs.ImageLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(createjs.Elements.script())}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.JAVASCRIPT};d._formatResult=function(a){var b=a.getTag();this._preferXHR&&(b.text=a.getResult(!0));return b};createjs.JavaScriptLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a){this.AbstractLoader_constructor(a,!0,createjs.Types.JSON);this.resultFormatter=this._formatResult}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.JSON};d._formatResult=function(a){var b=null;try{b=createjs.DataUtils.parseJSON(a.getResult(!0))}catch(c){return a=new createjs.ErrorEvent("JSON_FORMAT",null,c),this._sendError(a),c}return b};createjs.JSONLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a){this.AbstractLoader_constructor(a,!1,createjs.Types.JSONP);this.setTag(createjs.Elements.script());this.getTag().type="text/javascript"}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.JSONP};d.cancel=function(){this.AbstractLoader_cancel();this._dispose()};d.load=function(){if(this._item.callback==null)throw Error("callback is required for loading JSONP requests.");if(window[this._item.callback]!=null)throw Error("JSONP callback '"+
this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);createjs.DomUtils.appendToBody(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};d._handleLoad=function(a){this._result=this._rawResult=a;this._sendComplete();this._dispose()};d._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};
d._dispose=function(){createjs.DomUtils.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.MANIFEST);this._manifestQueue=this.plugins=null}var d=createjs.extend(f,createjs.AbstractLoader);f.MANIFEST_PROGRESS=.25;f.canLoadItem=function(a){return a.type==createjs.Types.MANIFEST};d.load=function(){this.AbstractLoader_load()};d._createRequest=function(){this._request=this._item.callback!=null?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};d.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=
a.target.getResult(!0);this._result=a.target.getResult();this._sendProgress(f.MANIFEST_PROGRESS);this._loadManifest(this._result);return;case "progress":a.loaded*=f.MANIFEST_PROGRESS;this.progress=a.loaded/a.total;if(isNaN(this.progress)||this.progress==Infinity)this.progress=0;this._sendProgress(a);return}this.AbstractLoader_handleEvent(a)};d.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};d._loadManifest=function(a){if(a&&a.manifest){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR);
b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("complete",this._handleManifestComplete,this,!0);b.on("error",this._handleManifestError,this,!0);for(var c=0,e=this.plugins.length;c<e;c++)b.installPlugin(this.plugins[c]);b.loadManifest(a)}else this._sendComplete()};d._handleManifestFileLoad=function(a){a.target=null;this.dispatchEvent(a)};d._handleManifestComplete=function(a){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
d._handleManifestProgress=function(a){this.progress=a.progress*(1-f.MANIFEST_PROGRESS)+f.MANIFEST_PROGRESS;this._sendProgress(this.progress)};d._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.ManifestLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractMediaLoader_constructor(a,b,createjs.Types.SOUND);createjs.DomUtils.isAudioTag(a)?this._tag=a:createjs.DomUtils.isAudioTag(a.src)?this._tag=a:createjs.DomUtils.isAudioTag(a.tag)&&(this._tag=createjs.DomUtils.isAudioTag(a)?a:a.src);this._tag!=null&&(this._preferXHR=!1)}var d=createjs.extend(f,createjs.AbstractMediaLoader);f.canLoadItem=function(a){return a.type==createjs.Types.SOUND};d._createTag=function(a){var b=createjs.Elements.audio();b.autoplay=!1;b.preload=
"none";b.src=a;return b};createjs.SoundLoader=createjs.promote(f,"AbstractMediaLoader")})();
(function(){function f(d,a){this.AbstractMediaLoader_constructor(d,a,createjs.Types.VIDEO);createjs.DomUtils.isVideoTag(d)||createjs.DomUtils.isVideoTag(d.src)?(this.setTag(createjs.DomUtils.isVideoTag(d)?d:d.src),this._preferXHR=!1):this.setTag(this._createTag())}createjs.extend(f,createjs.AbstractMediaLoader)._createTag=function(){return createjs.Elements.video()};f.canLoadItem=function(d){return d.type==createjs.Types.VIDEO};createjs.VideoLoader=createjs.promote(f,"AbstractMediaLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SPRITESHEET);this._manifestQueue=null}var d=createjs.extend(f,createjs.AbstractLoader);f.SPRITESHEET_PROGRESS=.25;f.canLoadItem=function(a){return a.type==createjs.Types.SPRITESHEET};d.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};d._createRequest=function(){this._request=this._item.callback!=null?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};d.handleEvent=function(a){switch(a.type){case "complete":this._rawResult=
a.target.getResult(!0);this._result=a.target.getResult();this._sendProgress(f.SPRITESHEET_PROGRESS);this._loadManifest(this._result);return;case "progress":a.loaded*=f.SPRITESHEET_PROGRESS;this.progress=a.loaded/a.total;if(isNaN(this.progress)||this.progress==Infinity)this.progress=0;this._sendProgress(a);return}this.AbstractLoader_handleEvent(a)};d._loadManifest=function(a){if(a&&a.images){var b=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);b.on("complete",
this._handleManifestComplete,this,!0);b.on("fileload",this._handleManifestFileLoad,this);b.on("progress",this._handleManifestProgress,this);b.on("error",this._handleManifestError,this,!0);b.loadManifest(a.images)}};d._handleManifestFileLoad=function(a){var b=a.result;if(b!=null){var c=this.getResult().images;a=c.indexOf(a.item.src);c[a]=b}};d._handleManifestComplete=function(a){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};
d._handleManifestProgress=function(a){this.progress=a.progress*(1-f.SPRITESHEET_PROGRESS)+f.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};d._handleManifestError=function(a){var b=new createjs.Event("fileerror");b.item=a.data;this.dispatchEvent(b)};createjs.SpriteSheetLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a,b){this.AbstractLoader_constructor(a,b,createjs.Types.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";b?this.setTag(createjs.Elements.svg()):(this.setTag(createjs.Elements.object()),this.getTag().type="image/svg+xml")}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.SVG};d._formatResult=function(a){var b=createjs.DataUtils.parseXML(a.getResult(!0));a=a.getTag();!this._preferXHR&&document.body.contains(a)&&
document.body.removeChild(a);return b.documentElement!=null?(b=b.documentElement,document.importNode&&(b=document.importNode(b,!0)),a.appendChild(b),a):b};createjs.SVGLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(a){this.AbstractLoader_constructor(a,!0,createjs.Types.XML);this.resultFormatter=this._formatResult}var d=createjs.extend(f,createjs.AbstractLoader);f.canLoadItem=function(a){return a.type==createjs.Types.XML};d._formatResult=function(a){return createjs.DataUtils.parseXML(a.getResult(!0))};createjs.XMLLoader=createjs.promote(f,"AbstractLoader")})();(function(){var f=createjs.SoundJS=createjs.SoundJS||{};f.version="1.0.0";f.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"})();
(function(){function f(){throw"BrowserDetect cannot be instantiated";}var d=f.agent=window.navigator.userAgent;f.isWindowPhone=d.indexOf("IEMobile")>-1||d.indexOf("Windows Phone")>-1;f.isFirefox=d.indexOf("Firefox")>-1;f.isOpera=window.opera!=null;f.isChrome=d.indexOf("Chrome")>-1;f.isIOS=(d.indexOf("iPod")>-1||d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1)&&!f.isWindowPhone;f.isAndroid=d.indexOf("Android")>-1&&!f.isWindowPhone;f.isBlackberry=d.indexOf("Blackberry")>-1;createjs.BrowserDetect=f})();
(function(){var f=function(){this.duration=this.startTime=this.pan=this.volume=this.loop=this.offset=this.delay=this.interrupt=null},d=f.prototype={};f.create=function(a){if(typeof a==="string")return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new createjs.PlayPropsConfig).set({interrupt:a});if(a==null||a instanceof f||a instanceof Object)return(new createjs.PlayPropsConfig).set(a);if(a==
null)throw Error("PlayProps configuration not recognized.");};d.set=function(a){if(a!=null)for(var b in a)this[b]=a[b];return this};d.toString=function(){return"[PlayPropsConfig]"};createjs.PlayPropsConfig=f})();
(function(){function f(){throw"Sound cannot be instantiated";}function d(b,c){this.init(b,c)}f.INTERRUPT_ANY="any";f.INTERRUPT_EARLY="early";f.INTERRUPT_LATE="late";f.INTERRUPT_NONE="none";f.PLAY_INITED="playInited";f.PLAY_SUCCEEDED="playSucceeded";f.PLAY_INTERRUPTED="playInterrupted";f.PLAY_FINISHED="playFinished";f.PLAY_FAILED="playFailed";f.SUPPORTED_EXTENSIONS="mp3 ogg opus mpeg wav m4a mp4 aiff wma mid".split(" ");f.EXTENSION_MAP={m4a:"mp4"};f.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;
f.defaultInterruptBehavior=f.INTERRUPT_NONE;f.alternateExtensions=[];f.activePlugin=null;f._masterVolume=1;f._getMasterVolume=function(){return this._masterVolume};f.getVolume=createjs.deprecate(f._getMasterVolume,"Sound.getVolume");f._setMasterVolume=function(b){if(Number(b)!=null&&(b=Math.max(0,Math.min(1,b)),f._masterVolume=b,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(b)))for(var c=this._instances,e=0,g=c.length;e<g;e++)c[e].setMasterVolume(b)};f.setVolume=createjs.deprecate(f._setMasterVolume,
"Sound.setVolume");f._masterMute=!1;f._getMute=function(){return this._masterMute};f.getMute=createjs.deprecate(f._getMute,"Sound.getMute");f._setMute=function(b){if(b!=null&&(this._masterMute=b,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(b)))for(var c=this._instances,e=0,g=c.length;e<g;e++)c[e].setMasterMute(b)};f.setMute=createjs.deprecate(f._setMute,"Sound.setMute");f._getCapabilities=function(){return f.activePlugin==null?null:f.activePlugin._capabilities};f.getCapabilities=
createjs.deprecate(f._getCapabilities,"Sound.getCapabilities");Object.defineProperties(f,{volume:{get:f._getMasterVolume,set:f._setMasterVolume},muted:{get:f._getMute,set:f._setMute},capabilities:{get:f._getCapabilities}});f._pluginsRegistered=!1;f._lastID=0;f._instances=[];f._idHash={};f._preloadHash={};f._defaultPlayPropsHash={};f.addEventListener=null;f.removeEventListener=null;f.removeAllEventListeners=null;f.dispatchEvent=null;f.hasEventListener=null;f._listeners=null;createjs.EventDispatcher.initialize(f);
f.getPreloadHandlers=function(){return{callback:createjs.proxy(f.initLoad,f),types:["sound"],extensions:f.SUPPORTED_EXTENSIONS}};f._handleLoadComplete=function(b){var c=b.target.getItem().src;if(f._preloadHash[c])for(var e=0,g=f._preloadHash[c].length;e<g;e++){var h=f._preloadHash[c][e];f._preloadHash[c][e]=!0;f.hasEventListener("fileload")&&(b=new createjs.Event("fileload"),b.src=h.src,b.id=h.id,b.data=h.data,b.sprite=h.sprite,f.dispatchEvent(b))}};f._handleLoadError=function(b){var c=b.target.getItem().src;
if(f._preloadHash[c])for(var e=0,g=f._preloadHash[c].length;e<g;e++){var h=f._preloadHash[c][e];f._preloadHash[c][e]=!1;f.hasEventListener("fileerror")&&(b=new createjs.Event("fileerror"),b.src=h.src,b.id=h.id,b.data=h.data,b.sprite=h.sprite,f.dispatchEvent(b))}};f._registerPlugin=function(b){return b.isSupported()?(f.activePlugin=new b,!0):!1};f.registerPlugins=function(b){f._pluginsRegistered=!0;for(var c=0,e=b.length;c<e;c++)if(f._registerPlugin(b[c]))return!0;return!1};f.initializeDefaultPlugins=
function(){return f.activePlugin!=null?!0:f._pluginsRegistered?!1:f.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};f.isReady=function(){return f.activePlugin!=null};f.initLoad=function(b){return b.type=="video"?!0:f._registerSound(b)};f._registerSound=function(b){if(!f.initializeDefaultPlugins())return!1;if(b.src instanceof Object){var c=f._parseSrc(b.src);c.src=b.path+c.src}else c=f._parsePath(b.src);if(c==null)return!1;b.src=c.src;b.type="sound";c=b.data;var e=null;if(c!=
null&&(isNaN(c.channels)?isNaN(c)||(e=parseInt(c)):e=parseInt(c.channels),c.audioSprite))for(var g,h=c.audioSprite.length;h--;)g=c.audioSprite[h],f._idHash[g.id]={src:b.src,startTime:parseInt(g.startTime),duration:parseInt(g.duration)},g.defaultPlayProps&&(f._defaultPlayPropsHash[g.id]=createjs.PlayPropsConfig.create(g.defaultPlayProps));b.id!=null&&(f._idHash[b.id]={src:b.src});g=f.activePlugin.register(b);d.create(b.src,e);c!=null&&isNaN(c)?b.data.channels=e||d.maxPerChannel():b.data=e||d.maxPerChannel();
g.type&&(b.type=g.type);b.defaultPlayProps&&(f._defaultPlayPropsHash[b.src]=createjs.PlayPropsConfig.create(b.defaultPlayProps));return g};f.registerSound=function(b,c,e,g,h){e={src:b,id:c,data:e,defaultPlayProps:h};b instanceof Object&&b.src&&(g=c,e=b);e=createjs.LoadItem.create(e);e.path=g;g==null||e.src instanceof Object||(e.src=g+e.src);b=f._registerSound(e);if(!b)return!1;f._preloadHash[e.src]||(f._preloadHash[e.src]=[]);f._preloadHash[e.src].push(e);if(f._preloadHash[e.src].length==1)b.on("complete",
this._handleLoadComplete,this),b.on("error",this._handleLoadError,this),f.activePlugin.preload(b);else if(f._preloadHash[e.src][0]==1)return!0;return e};f.registerSounds=function(b,c){var e=[];b.path&&(c=c?c+b.path:b.path,b=b.manifest);for(var g=0,h=b.length;g<h;g++)e[g]=createjs.Sound.registerSound(b[g].src,b[g].id,b[g].data,c,b[g].defaultPlayProps);return e};f.removeSound=function(b,c){if(f.activePlugin==null)return!1;b instanceof Object&&b.src&&(b=b.src);b instanceof Object?b=f._parseSrc(b):(b=
f._getSrcById(b).src,b=f._parsePath(b));if(b==null)return!1;b=b.src;c!=null&&(b=c+b);for(var e in f._idHash)f._idHash[e].src==b&&delete f._idHash[e];d.removeSrc(b);delete f._preloadHash[b];f.activePlugin.removeSound(b);return!0};f.removeSounds=function(b,c){var e=[];b.path&&(c=c?c+b.path:b.path,b=b.manifest);for(var g=0,h=b.length;g<h;g++)e[g]=createjs.Sound.removeSound(b[g].src,c);return e};f.removeAllSounds=function(){f._idHash={};f._preloadHash={};d.removeAll();f.activePlugin&&f.activePlugin.removeAllSounds()};
f.loadComplete=function(b){if(!f.isReady())return!1;var c=f._parsePath(b);b=c?f._getSrcById(c.src).src:f._getSrcById(b).src;return f._preloadHash[b]==void 0?!1:f._preloadHash[b][0]==1};f._parsePath=function(b){typeof b!="string"&&(b=b.toString());var c=b.match(f.FILE_PATTERN);if(c==null&&b.indexOf("/speak?")!=-1)return{name:"speak",src:b,extension:"mp3"};if(c==null)return!1;for(var e=c[4],g=c[5],h=f.capabilities,k=0;!h[g];)if(g=f.alternateExtensions[k++],k>f.alternateExtensions.length)return null;
b=b.replace("."+c[5],"."+g);return{name:e,src:b,extension:g}};f._parseSrc=function(b){var c={name:void 0,src:void 0,extension:void 0},e=f.capabilities,g;for(g in b)if(b.hasOwnProperty(g)&&e[g]){c.src=b[g];c.extension=g;break}if(!c.src)return!1;b=c.src.lastIndexOf("/");c.name=b!=-1?c.src.slice(b+1):c.src;return c};f.play=function(b,c){c=createjs.PlayPropsConfig.create(c);b=f.createInstance(b,c.startTime,c.duration);f._playInstance(b,c)||b._playFailed();return b};f.createInstance=function(b,c,e){if(!f.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(b,
c,e);var g=f._defaultPlayPropsHash[b];b=f._getSrcById(b);var h=f._parsePath(b.src);h!=null&&h.src!=null?(d.create(h.src),c==null&&(c=b.startTime),b=f.activePlugin.create(h.src,c,e||b.duration),(g=g||f._defaultPlayPropsHash[h.src])&&b.applyPlayProps(g)):b=new createjs.DefaultSoundInstance(b,c,e);b.uniqueId=f._lastID++;return b};f.stop=function(){for(var b=this._instances,c=b.length;c--;)b[c].stop()};f.setDefaultPlayProps=function(b,c){b=f._getSrcById(b);f._defaultPlayPropsHash[f._parsePath(b.src).src]=
createjs.PlayPropsConfig.create(c)};f.getDefaultPlayProps=function(b){b=f._getSrcById(b);return f._defaultPlayPropsHash[f._parsePath(b.src).src]};f._playInstance=function(b,c){var e=f._defaultPlayPropsHash[b.src]||{};c.interrupt==null&&(c.interrupt=e.interrupt||f.defaultInterruptBehavior);c.delay==null&&(c.delay=e.delay||0);c.offset==null&&(c.offset=b.position);c.loop==null&&(c.loop=b.loop);c.volume==null&&(c.volume=b.volume);c.pan==null&&(c.pan=b.pan);if(c.delay==0){if(!f._beginPlaying(b,c))return!1}else e=
setTimeout(function(){f._beginPlaying(b,c)},c.delay),b.delayTimeoutId=e;this._instances.push(b);return!0};f._beginPlaying=function(b,c){return d.add(b,c.interrupt)?b._beginPlaying(c)?!0:(b=createjs.indexOf(this._instances,b),b>-1&&this._instances.splice(b,1),!1):!1};f._getSrcById=function(b){return f._idHash[b]||{src:b}};f._playFinished=function(b){d.remove(b);b=createjs.indexOf(this._instances,b);b>-1&&this._instances.splice(b,1)};createjs.Sound=f;d.channels={};d.create=function(b,c){return d.get(b)==
null?(d.channels[b]=new d(b,c),!0):!1};d.removeSrc=function(b){var c=d.get(b);if(c==null)return!1;c._removeAll();delete d.channels[b];return!0};d.removeAll=function(){for(var b in d.channels)d.channels[b]._removeAll();d.channels={}};d.add=function(b,c){var e=d.get(b.src);return e==null?!1:e._add(b,c)};d.remove=function(b){var c=d.get(b.src);if(c==null)return!1;c._remove(b);return!0};d.maxPerChannel=function(){return a.maxDefault};d.get=function(b){return d.channels[b]};var a=d.prototype;a.constructor=
d;a.src=null;a.max=null;a.maxDefault=100;a.length=0;a.init=function(b,c){this.src=b;this.max=c||this.maxDefault;this.max==-1&&(this.max=this.maxDefault);this._instances=[]};a._get=function(b){return this._instances[b]};a._add=function(b,c){if(!this._getSlot(c,b))return!1;this._instances.push(b);this.length++;return!0};a._remove=function(b){b=createjs.indexOf(this._instances,b);if(b==-1)return!1;this._instances.splice(b,1);this.length--;return!0};a._removeAll=function(){for(var b=this.length-1;b>=
0;b--)this._instances[b].stop()};a._getSlot=function(b,c){if(b!=f.INTERRUPT_NONE){var e=this._get(0);if(e==null)return!0}for(var g=0,h=this.max;g<h;g++){c=this._get(g);if(c==null)return!0;if(c.playState==f.PLAY_FINISHED||c.playState==f.PLAY_INTERRUPTED||c.playState==f.PLAY_FAILED){e=c;break}b!=f.INTERRUPT_NONE&&(b==f.INTERRUPT_EARLY&&c.position<e.position||b==f.INTERRUPT_LATE&&c.position>e.position)&&(e=c)}return e!=null?(e._interrupt(),this._remove(e),!0):!1};a.toString=function(){return"[Sound SoundChannel]"}})();
(function(){var f=function(a,b,c,e){this.EventDispatcher_constructor();this.src=a;this.uniqueId=-1;this.delayTimeoutId=this.playState=null;this._volume=1;Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume});this.getVolume=createjs.deprecate(this._getVolume,"AbstractSoundInstance.getVolume");this.setVolume=createjs.deprecate(this._setVolume,"AbstractSoundInstance.setVolume");this._pan=0;Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan});this.getPan=createjs.deprecate(this._getPan,
"AbstractSoundInstance.getPan");this.setPan=createjs.deprecate(this._setPan,"AbstractSoundInstance.setPan");this._startTime=Math.max(0,b||0);Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime});this.getStartTime=createjs.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime");this.setStartTime=createjs.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime");this._duration=Math.max(0,c||0);Object.defineProperty(this,"duration",{get:this._getDuration,
set:this._setDuration});this.getDuration=createjs.deprecate(this._getDuration,"AbstractSoundInstance.getDuration");this.setDuration=createjs.deprecate(this._setDuration,"AbstractSoundInstance.setDuration");this._playbackResource=null;Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource});e!==!1&&e!==!0&&this._setPlaybackResource(e);this.getPlaybackResource=createjs.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource");
this.setPlaybackResource=createjs.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource");this._position=0;Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition});this.getPosition=createjs.deprecate(this._getPosition,"AbstractSoundInstance.getPosition");this.setPosition=createjs.deprecate(this._setPosition,"AbstractSoundInstance.setPosition");this._loop=0;Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop});this.getLoop=createjs.deprecate(this._getLoop,
"AbstractSoundInstance.getLoop");this.setLoop=createjs.deprecate(this._setLoop,"AbstractSoundInstance.setLoop");this._muted=!1;Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted});this.getMuted=createjs.deprecate(this._getMuted,"AbstractSoundInstance.getMuted");this.setMuted=createjs.deprecate(this._setMuted,"AbstractSoundInstance.setMuted");this._paused=!1;Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused});this.getPaused=createjs.deprecate(this._getPaused,
"AbstractSoundInstance.getPaused");this.setPaused=createjs.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},d=createjs.extend(f,createjs.EventDispatcher);d.play=function(a){a=createjs.PlayPropsConfig.create(a);if(this.playState==createjs.Sound.PLAY_SUCCEEDED)this.applyPlayProps(a),this._paused&&this._setPaused(!1);else return this._cleanUp(),createjs.Sound._playInstance(this,a),this};d.stop=function(){this._position=0;this._paused=!1;this._handleStop();this._cleanUp();this.playState=
createjs.Sound.PLAY_FINISHED;return this};d.destroy=function(){this._cleanUp();this.playbackResource=this.src=null;this.removeAllEventListeners()};d.applyPlayProps=function(a){a.offset!=null&&this._setPosition(a.offset);a.loop!=null&&this._setLoop(a.loop);a.volume!=null&&this._setVolume(a.volume);a.pan!=null&&this._setPan(a.pan);a.startTime!=null&&(this._setStartTime(a.startTime),this._setDuration(a.duration));return this};d.toString=function(){return"[AbstractSoundInstance]"};d._getPaused=function(){return this._paused};
d._setPaused=function(a){if(!(a!==!0&&a!==!1||this._paused==a||a==1&&this.playState!=createjs.Sound.PLAY_SUCCEEDED))return(this._paused=a)?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this};d._setVolume=function(a){if(a==this._volume)return this;this._volume=Math.max(0,Math.min(1,a));this._muted||this._updateVolume();return this};d._getVolume=function(){return this._volume};d._setMuted=function(a){if(a===!0||a===!1)return this._muted=a,this._updateVolume(),this};d._getMuted=function(){return this._muted};
d._setPan=function(a){if(a==this._pan)return this;this._pan=Math.max(-1,Math.min(1,a));this._updatePan();return this};d._getPan=function(){return this._pan};d._getPosition=function(){this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition());return this._position};d._setPosition=function(a){this._position=Math.max(0,a);this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition();return this};d._getStartTime=function(){return this._startTime};
d._setStartTime=function(a){if(a==this._startTime)return this;this._startTime=Math.max(0,a||0);this._updateStartTime();return this};d._getDuration=function(){return this._duration};d._setDuration=function(a){if(a==this._duration)return this;this._duration=Math.max(0,a||0);this._updateDuration();return this};d._setPlaybackResource=function(a){this._playbackResource=a;this._duration==0&&this._playbackResource&&this._setDurationFromSource();return this};d._getPlaybackResource=function(){return this._playbackResource};
d._getLoop=function(){return this._loop};d._setLoop=function(a){this._playbackResource!=null&&(this._loop!=0&&a==0?this._removeLooping(a):this._loop==0&&a!=0&&this._addLooping(a));this._loop=a};d._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};d._cleanUp=function(){clearTimeout(this.delayTimeoutId);this._handleCleanUp();this._paused=!1;createjs.Sound._playFinished(this)};d._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._sendEvent("interrupted")};
d._beginPlaying=function(a){this._setPosition(a.offset);this._setLoop(a.loop);this._setVolume(a.volume);this._setPan(a.pan);a.startTime!=null&&(this._setStartTime(a.startTime),this._setDuration(a.duration));if(this._playbackResource!=null&&this._position<this._duration)return this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0;this._playFailed();return!1};d._playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;
this._sendEvent("failed")};d._handleSoundComplete=function(a){this._position=0;this._loop!=0?(this._loop--,this._handleLoop(),this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete"))};d._handleSoundReady=function(){};d._updateVolume=function(){};d._updatePan=function(){};d._updateStartTime=function(){};d._updateDuration=function(){};d._setDurationFromSource=function(){};d._calculateCurrentPosition=function(){};d._updatePosition=function(){};
d._removeLooping=function(a){};d._addLooping=function(a){};d._pause=function(){};d._resume=function(){};d._handleStop=function(){};d._handleCleanUp=function(){};d._handleLoop=function(){};createjs.AbstractSoundInstance=createjs.promote(f,"EventDispatcher");createjs.DefaultSoundInstance=createjs.AbstractSoundInstance})();
(function(){var f=function(){this._capabilities=null;this._loaders={};this._audioSources={};this._soundInstances={};this._volume=1},d=f.prototype;f._capabilities=null;f.isSupported=function(){return!0};d.register=function(a){var b=this._loaders[a.src];if(b&&!b.canceled)return this._loaders[a.src];this._audioSources[a.src]=!0;this._soundInstances[a.src]=[];b=new this._loaderClass(a);b.on("complete",this._handlePreloadComplete,this);return this._loaders[a.src]=b};d.preload=function(a){a.on("error",
this._handlePreloadError,this);a.load()};d.isPreloadStarted=function(a){return this._audioSources[a]!=null};d.isPreloadComplete=function(a){return!(this._audioSources[a]==null||this._audioSources[a]==1)};d.removeSound=function(a){if(this._soundInstances[a]){for(var b=this._soundInstances[a].length;b--;)this._soundInstances[a][b].destroy();delete this._soundInstances[a];delete this._audioSources[a];this._loaders[a]&&this._loaders[a].destroy();delete this._loaders[a]}};d.removeAllSounds=function(){for(var a in this._audioSources)this.removeSound(a)};
d.create=function(a,b,c){this.isPreloadStarted(a)||this.preload(this.register(a));b=new this._soundInstanceClass(a,b,c,this._audioSources[a]);this._soundInstances[a]&&this._soundInstances[a].push(b);b.setMasterVolume&&b.setMasterVolume(createjs.Sound.volume);b.setMasterMute&&b.setMasterMute(createjs.Sound.muted);return b};d.setVolume=function(a){this._volume=a;this._updateVolume();return!0};d.getVolume=function(){return this._volume};d.setMute=function(a){this._updateVolume();return!0};d.toString=
function(){return"[AbstractPlugin]"};d._handlePreloadComplete=function(a){var b=a.target.getItem().src;this._audioSources[b]=a.result;a=0;for(var c=this._soundInstances[b].length;a<c;a++)this._soundInstances[b][a].playbackResource=this._audioSources[b]};d._handlePreloadError=function(a){};d._updateVolume=function(){};createjs.AbstractPlugin=f})();
(function(){function f(a){this.AbstractLoader_constructor(a,!0,createjs.Types.SOUND)}var d=createjs.extend(f,createjs.AbstractLoader);f.context=null;d.toString=function(){return"[WebAudioLoader]"};d._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1);this._request.setResponseType("arraybuffer")};d._sendComplete=function(a){f.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))};d._handleAudioDecoded=
function(a){this._result=a;this.AbstractLoader__sendComplete()};createjs.WebAudioLoader=createjs.promote(f,"AbstractLoader")})();
(function(){function f(b,c,e,g){this.AbstractSoundInstance_constructor(b,c,e,g);this.gainNode=a.context.createGain();this.panNode=a.context.createPanner();this.panNode.panningModel=a._panningModel;this.panNode.connect(this.gainNode);this._updatePan();this._sourceNodeNext=this._soundCompleteTimeout=this.sourceNode=null;this._playbackStartTime=0;this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var d=createjs.extend(f,createjs.AbstractSoundInstance),a=f;a.context=null;a._scratchBuffer=
null;a.destinationNode=null;a._panningModel="equalpower";d.destroy=function(){this.AbstractSoundInstance_destroy();this.panNode.disconnect(0);this.panNode=null;this.gainNode.disconnect(0);this.gainNode=null};d.toString=function(){return"[WebAudioSoundInstance]"};d._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)};d._removeLooping=function(b){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)};d._addLooping=function(b){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=
this._createAndPlayAudioNode(this._playbackStartTime,0))};d._setDurationFromSource=function(){this._duration=this.playbackResource.duration*1E3};d._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));this.gainNode.numberOfOutputs!=0&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0};d._cleanUpAudioNode=
function(b){if(b){b.stop(0);b.disconnect(0);if(createjs.BrowserDetect.isIOS)try{b.buffer=a._scratchBuffer}catch(c){}b=null}return b};d._handleSoundReady=function(b){this.gainNode.connect(a.destinationNode);b=this._duration*.001;var c=Math.min(Math.max(0,this._position)*.001,b);this.sourceNode=this._createAndPlayAudioNode(a.context.currentTime-b,c);this._playbackStartTime=this.sourceNode.startTime-c;this._soundCompleteTimeout=setTimeout(this._endedHandler,(b-c)*1E3);this._loop!=0&&(this._sourceNodeNext=
this._createAndPlayAudioNode(this._playbackStartTime,0))};d._createAndPlayAudioNode=function(b,c){var e=a.context.createBufferSource();e.buffer=this.playbackResource;e.connect(this.panNode);var g=this._duration*.001;e.startTime=b+g;e.start(e.startTime,c+this._startTime*.001,g-c);return e};d._pause=function(){this._position=(a.context.currentTime-this._playbackStartTime)*1E3;this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);this.gainNode.numberOfOutputs!=
0&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout)};d._resume=function(){this._handleSoundReady()};d._updateVolume=function(){var b=this._muted?0:this._volume;b!=this.gainNode.gain.value&&(this.gainNode.gain.value=b)};d._calculateCurrentPosition=function(){return(a.context.currentTime-this._playbackStartTime)*1E3};d._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout);
this._paused||this._handleSoundReady()};d._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode);this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)};d._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())};createjs.WebAudioSoundInstance=createjs.promote(f,
"AbstractSoundInstance")})();
(function(){function f(){this.AbstractPlugin_constructor();this._panningModel=a._panningModel;this.context=a.context;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode);createjs.WebAudioSoundInstance.destinationNode=this.gainNode;this._capabilities=a._capabilities;this._loaderClass=createjs.WebAudioLoader;this._soundInstanceClass=
createjs.WebAudioSoundInstance;this._addPropsToClasses()}var d=createjs.extend(f,createjs.AbstractPlugin),a=f;a._capabilities=null;a._panningModel="equalpower";a.context=null;a._scratchBuffer=null;a._unlocked=!1;a._resumed=!1;a.DEFAULT_SAMPLE_RATE=44100;a.isSupported=function(){var b=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;if(location.protocol=="file:"&&!b&&!this._isFileXHRSupported())return!1;a._generateCapabilities();return a.context==
null?!1:!0};a.playEmptySound=function(){if(a.context!=null){var b=a.context.createBufferSource();b.buffer=a._scratchBuffer;b.connect(a.context.destination);b.start(0,0,0)}};a._isFileXHRSupported=function(){var b=!0,c=new XMLHttpRequest;try{c.open("GET","WebAudioPluginTest.fail",!1)}catch(e){return b=!1}c.onerror=function(){b=!1};c.onload=function(){b=this.status==404||this.status==200||this.status==0&&this.response!=""};try{c.send()}catch(e){b=!1}return b};a._generateCapabilities=function(){if(a._capabilities==
null){var b=document.createElement("audio");if(b.canPlayType==null||a.context==null&&(a.context=a._createAudioContext(),a.context==null))return null;a._scratchBuffer==null&&(a._scratchBuffer=a.context.createBuffer(1,1,22050));a._compatibilitySetUp();"ontouchstart"in window&&a.context.state!="running"&&(a._unlock(),document.addEventListener("mousedown",a._unlock,!0),document.addEventListener("touchstart",a._unlock,!0),document.addEventListener("touchend",a._unlock,!0));a.context&&a.context.resume&&
a.context.state=="suspended"&&!a._resumed&&(document.addEventListener("mousedown",a._resume,!0),document.addEventListener("touchstart",a._resume,!0),document.addEventListener("touchend",a._resume,!0));a._capabilities={panning:!0,volume:!0,tracks:-1};for(var c=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,g=0,h=c.length;g<h;g++){var k=c[g],m=e[k]||k;a._capabilities[k]=b.canPlayType("audio/"+k)!="no"&&b.canPlayType("audio/"+k)!=""||b.canPlayType("audio/"+m)!="no"&&b.canPlayType("audio/"+
m)!=""}a.context.destination.numberOfChannels<2&&(a._capabilities.panning=!1)}};a._createAudioContext=function(){var b=window.AudioContext||window.webkitAudioContext;if(b==null)return null;var c=new b;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&c.sampleRate!==a.DEFAULT_SAMPLE_RATE){var e=c.createBuffer(1,1,a.DEFAULT_SAMPLE_RATE),g=c.createBufferSource();g.buffer=e;g.connect(c.destination);g.start(0);g.disconnect();c.close();c=new b}return c};a._compatibilitySetUp=function(){a._panningModel="equalpower";
if(!a.context.createGain){a.context.createGain=a.context.createGainNode;var b=a.context.createBufferSource();b.__proto__.start=b.__proto__.noteGrainOn;b.__proto__.stop=b.__proto__.noteOff;a._panningModel=0}};a._unlock=function(){a._unlocked||(a.playEmptySound(),a.context.state=="running"&&(document.removeEventListener("mousedown",a._unlock,!0),document.removeEventListener("touchend",a._unlock,!0),document.removeEventListener("touchstart",a._unlock,!0),a._unlocked=!0))};a._resume=function(){a.context.resume();
a._resumed=!0;document.removeEventListener("mousedown",a._resume,!0);document.removeEventListener("touchend",a._resume,!0);document.removeEventListener("touchstart",a._resume,!0)};d.toString=function(){return"[WebAudioPlugin]"};d._addPropsToClasses=function(){var b=this._soundInstanceClass;b.context=this.context;b._scratchBuffer=a._scratchBuffer;b.destinationNode=this.gainNode;b._panningModel=this._panningModel;this._loaderClass.context=this.context};d._updateVolume=function(){var b=createjs.Sound._masterMute?
0:this._volume;b!=this.gainNode.gain.value&&(this.gainNode.gain.value=b)};createjs.WebAudioPlugin=createjs.promote(f,"AbstractPlugin")})();
(function(){function f(){throw"HTMLAudioTagPool cannot be instantiated";}function d(b){this._tags=[]}f._tags={};f._tagPool=new d;f._tagUsed={};f.get=function(b){var c=f._tags[b];c==null?(c=f._tags[b]=f._tagPool.get(),c.src=b):f._tagUsed[b]?(c=f._tagPool.get(),c.src=b):f._tagUsed[b]=!0;return c};f.set=function(b,c){c==f._tags[b]?f._tagUsed[b]=!1:f._tagPool.set(c)};f.remove=function(b){var c=f._tags[b];if(c==null)return!1;f._tagPool.set(c);delete f._tags[b];delete f._tagUsed[b];return!0};f.getDuration=
function(b){b=f._tags[b];return b!=null&&b.duration?b.duration*1E3:0};createjs.HTMLAudioTagPool=f;var a=d.prototype;a.constructor=d;a.get=function(){var b=this._tags.length==0?this._createTag():this._tags.pop();b.parentNode==null&&document.body.appendChild(b);return b};a.set=function(b){createjs.indexOf(this._tags,b)==-1&&(this._tags.src=null,this._tags.push(b))};a.toString=function(){return"[TagPool]"};a._createTag=function(){var b=document.createElement("audio");b.autoplay=!1;b.preload="none";return b}})();
(function(){function f(a,b,c,e){this.AbstractSoundInstance_constructor(a,b,c,e);this._delayTimeoutId=this._audioSpriteStopTime=null;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleTagReady,this);this._stalledHandler=createjs.proxy(this._playFailed,this);this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this._loopHandler=createjs.proxy(this._handleSoundComplete,this);c?this._audioSpriteStopTime=(b+c)*.001:this._duration=
createjs.HTMLAudioTagPool.getDuration(this.src)}var d=createjs.extend(f,createjs.AbstractSoundInstance);d.setMasterVolume=function(a){this._updateVolume()};d.setMasterMute=function(a){this._updateVolume()};d.toString=function(){return"[HTMLAudioSoundInstance]"};d._removeLooping=function(){this._playbackResource!=null&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))};d._addLooping=function(){this._playbackResource==
null||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)};d._handleCleanUp=function(){var a=this._playbackResource;if(a!=null){a.pause();a.loop=!1;a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,
!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{a.currentTime=this._startTime}catch(b){}createjs.HTMLAudioTagPool.set(this.src,a);this._playbackResource=null}};d._beginPlaying=function(a){this._playbackResource=createjs.HTMLAudioTagPool.get(this.src);return this.AbstractSoundInstance__beginPlaying(a)};d._handleSoundReady=function(a){this._playbackResource.readyState!==
4?(a=this._playbackResource,a.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),a.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),a.preload="auto",a.load()):(this._updateVolume(),this._playbackResource.currentTime=(this._startTime+this._position)*.001,this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,
this._endedHandler,!1),this._loop!=0&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play())};d._handleTagReady=function(a){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1);this._handleSoundReady()};d._pause=function(){this._playbackResource.pause()};
d._resume=function(){this._playbackResource.play()};d._updateVolume=function(){if(this._playbackResource!=null){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;a!=this._playbackResource.volume&&(this._playbackResource.volume=a)}};d._calculateCurrentPosition=function(){return this._playbackResource.currentTime*1E3-this._startTime};d._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=(this._position+this._startTime)*.001}catch(a){this._handleSetPositionSeek(null)}};d._handleSetPositionSeek=function(a){this._playbackResource!=null&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1))};d._handleAudioSpriteLoop=function(a){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),this._loop==0?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=this._startTime*.001,this._paused||this._playbackResource.play(),this._sendEvent("loop")))};d._handleLoop=function(a){this._loop==0&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,
!1))};d._updateStartTime=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*.001;this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))};d._updateDuration=function(){this._audioSpriteStopTime=(this._startTime+this._duration)*.001;this.playState==createjs.Sound.PLAY_SUCCEEDED&&
(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))};d._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src);this._playbackResource=null};createjs.HTMLAudioSoundInstance=createjs.promote(f,"AbstractSoundInstance")})();
(function(){function f(){this.AbstractPlugin_constructor();this._capabilities=a._capabilities;this._loaderClass=createjs.SoundLoader;this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var d=createjs.extend(f,createjs.AbstractPlugin),a=f;a.MAX_INSTANCES=30;a._AUDIO_READY="canplaythrough";a._AUDIO_ENDED="ended";a._AUDIO_SEEKED="seeked";a._AUDIO_STALLED="stalled";a._TIME_UPDATE="timeupdate";a._capabilities=null;a.isSupported=function(){a._generateCapabilities();return a._capabilities!=null};a._generateCapabilities=
function(){if(a._capabilities==null){var b=document.createElement("audio");if(b.canPlayType==null)return null;a._capabilities={panning:!1,volume:!0,tracks:-1};for(var c=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,g=0,h=c.length;g<h;g++){var k=c[g],m=e[k]||k;a._capabilities[k]=b.canPlayType("audio/"+k)!="no"&&b.canPlayType("audio/"+k)!=""||b.canPlayType("audio/"+m)!="no"&&b.canPlayType("audio/"+m)!=""}}};d.register=function(b){var c=createjs.HTMLAudioTagPool.get(b.src);b=this.AbstractPlugin_register(b);
b.setTag(c);return b};d.removeSound=function(b){this.AbstractPlugin_removeSound(b);createjs.HTMLAudioTagPool.remove(b)};d.create=function(b,c,e){b=this.AbstractPlugin_create(b,c,e);b.playbackResource=null;return b};d.toString=function(){return"[HTMLAudioPlugin]"};d.setVolume=d.getVolume=d.setMute=null;createjs.HTMLAudioPlugin=createjs.promote(f,"AbstractPlugin")})();
(function(){function f(a){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.loop=0;this.bounce=this.reversed=this.useTicks=!1;this.timeScale=1;this.position=this.duration=0;this.rawPosition=-1;this._paused=!0;this._labelList=this._labels=this._parent=this._prev=this._next=null;a&&(this.useTicks=!!a.useTicks,this.ignoreGlobalPause=!!a.ignoreGlobalPause,this.loop=a.loop===!0?-1:a.loop||0,this.reversed=!!a.reversed,this.bounce=!!a.bounce,this.timeScale=a.timeScale||1,a.onChange&&this.addEventListener("change",
a.onChange),a.onComplete&&this.addEventListener("complete",a.onComplete))}var d=createjs.extend(f,createjs.EventDispatcher);d._setPaused=function(a){createjs.Tween._register(this,a);return this};d.setPaused=createjs.deprecate(d._setPaused,"AbstractTween.setPaused");d._getPaused=function(){return this._paused};d.getPaused=createjs.deprecate(d._getPaused,"AbstactTween.getPaused");d._getCurrentLabel=function(a){var b=this.getLabels();a==null&&(a=this.position);for(var c=0,e=b.length;c<e&&!(a<b[c].position);c++);
return c===0?null:b[c-1].label};d.getCurrentLabel=createjs.deprecate(d._getCurrentLabel,"AbstractTween.getCurrentLabel");try{Object.defineProperties(d,{paused:{set:d._setPaused,get:d._getPaused},currentLabel:{get:d._getCurrentLabel}})}catch(a){}d.advance=function(a,b){this.setPosition(this.rawPosition+a*this.timeScale,b)};d.setPosition=function(a,b,c,e){var g=this.duration,h=this.loop,k=this.rawPosition,m=0;a<0&&(a=0);if(g===0){var l=!0;if(k!==-1)return l}else{var n=a/g|0;m=a-n*g;(l=h!==-1&&a>=h*
g+g)&&(a=(m=g)*(n=h)+g);if(a===k)return l;!this.reversed!==!(this.bounce&&n%2)&&(m=g-m)}this.position=m;this.rawPosition=a;this._updatePosition(c,l);l&&(this.paused=!0);e&&e(this);b||this._runActions(k,a,c,!c&&k===-1);this.dispatchEvent("change");l&&this.dispatchEvent("complete")};d.calculatePosition=function(a){var b=this.duration,c=this.loop,e=0;if(b===0)return 0;c!==-1&&a>=c*b+b?(a=b,e=c):a<0?a=0:(e=a/b|0,a-=e*b);return!this.reversed!==!(this.bounce&&e%2)?b-a:a};d.getLabels=function(){var a=this._labelList;
if(!a){a=this._labelList=[];var b=this._labels,c;for(c in b)a.push({label:c,position:b[c]});a.sort(function(e,g){return e.position-g.position})}return a};d.setLabels=function(a){this._labels=a;this._labelList=null};d.addLabel=function(a,b){this._labels||(this._labels={});this._labels[a]=b;var c=this._labelList;if(c){for(var e=0,g=c.length;e<g&&!(b<c[e].position);e++);c.splice(e,0,{label:a,position:b})}};d.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};d.gotoAndStop=function(a){this.paused=
!0;this._goto(a)};d.resolve=function(a){var b=Number(a);isNaN(b)&&(b=this._labels&&this._labels[a]);return b};d.toString=function(){return"[AbstractTween]"};d.clone=function(){throw"AbstractTween can not be cloned.";};d._init=function(a){a&&a.paused||(this.paused=!1);a&&a.position!=null&&this.setPosition(a.position)};d._updatePosition=function(a,b){};d._goto=function(a){a=this.resolve(a);a!=null&&this.setPosition(a,!1,!0)};d._runActions=function(a,b,c,e){if(this._actionHead||this.tweens){var g=this.duration,
h=this.reversed,k=this.bounce,m=this.loop,l,n,p;if(g===0){var q=l=n=p=0;h=k=!1}else q=a/g|0,l=b/g|0,n=a-q*g,p=b-l*g;m!==-1&&(l>m&&(p=g,l=m),q>m&&(n=g,q=m));if(c)return this._runActionsRange(p,p,c,e);if(q!==l||n!==p||c||e){q===-1&&(q=n=0);a=a<=b;b=q;do{m=b===q?n:a?0:g;var r=b===l?p:a?g:0;!h!==!(k&&b%2)&&(m=g-m,r=g-r);if((!k||b===q||m!==r)&&this._runActionsRange(m,r,c,e||b!==q&&!k))return!0;e=!1}while(a&&++b<=l||!a&&--b>=l)}}};d._runActionsRange=function(a,b,c,e){};createjs.AbstractTween=createjs.promote(f,
"EventDispatcher")})();
(function(){function f(c,e){this.AbstractTween_constructor(e);this.pluginData=null;this.target=c;this.passive=!1;this._stepTail=this._stepHead=new d(null,0,0,{},null,!0);this._stepPosition=0;this._injected=this._pluginIds=this._plugins=this._actionTail=this._actionHead=null;e&&(this.pluginData=e.pluginData,e.override&&f.removeTweens(c));this.pluginData||(this.pluginData={});this._init(e)}function d(c,e,g,h,k,m){this.next=null;this.prev=c;this.t=e;this.d=g;this.props=h;this.ease=k;this.passive=m;this.index=
c?c.index+1:0}function a(c,e,g,h,k){this.next=null;this.prev=c;this.t=e;this.d=0;this.scope=g;this.funct=h;this.params=k}var b=createjs.extend(f,createjs.AbstractTween);f.IGNORE={};f._tweens=[];f._plugins=null;f._tweenHead=null;f._tweenTail=null;f.get=function(c,e){return new f(c,e)};f.tick=function(c,e){for(var g=f._tweenHead;g;){var h=g._next;e&&!g.ignoreGlobalPause||g._paused||g.advance(g.useTicks?1:c);g=h}};f.handleEvent=function(c){c.type==="tick"&&this.tick(c.delta,c.paused)};f.removeTweens=
function(c){if(c.tweenjs_count){for(var e=f._tweenHead;e;){var g=e._next;e.target===c&&f._register(e,!0);e=g}c.tweenjs_count=0}};f.removeAllTweens=function(){for(var c=f._tweenHead;c;){var e=c._next;c._paused=!0;c.target&&(c.target.tweenjs_count=0);c._next=c._prev=null;c=e}f._tweenHead=f._tweenTail=null};f.hasActiveTweens=function(c){return c?!!c.tweenjs_count:!!f._tweenHead};f._installPlugin=function(c){for(var e=c.priority=c.priority||0,g=f._plugins=f._plugins||[],h=0,k=g.length;h<k&&!(e<g[h].priority);h++);
g.splice(h,0,c)};f._register=function(c,e){var g=c.target;if(!e&&c._paused)g&&(g.tweenjs_count=g.tweenjs_count?g.tweenjs_count+1:1),(g=f._tweenTail)?(f._tweenTail=g._next=c,c._prev=g):f._tweenHead=f._tweenTail=c,!f._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",f),f._inited=!0);else if(e&&!c._paused){g&&g.tweenjs_count--;g=c._next;var h=c._prev;g?g._prev=h:f._tweenTail=h;h?h._next=g:f._tweenHead=g;c._next=c._prev=null}c._paused=e};b.wait=function(c,e){c>0&&this._addStep(+c,this._stepTail.props,
null,e);return this};b.to=function(c,e,g){if(e==null||e<0)e=0;e=this._addStep(+e,null,g);this._appendProps(c,e);return this};b.label=function(c){this.addLabel(c,this.duration);return this};b.call=function(c,e,g){return this._addAction(g||this.target,c,e||[this])};b.set=function(c,e){return this._addAction(e||this.target,this._set,[c])};b.play=function(c){return this._addAction(c||this,this._set,[{paused:!1}])};b.pause=function(c){return this._addAction(c||this,this._set,[{paused:!0}])};b.w=b.wait;
b.t=b.to;b.c=b.call;b.s=b.set;b.toString=function(){return"[Tween]"};b.clone=function(){throw"Tween can not be cloned.";};b._addPlugin=function(c){var e=this._pluginIds||(this._pluginIds={}),g=c.ID;if(g&&!e[g]){e[g]=!0;e=this._plugins||(this._plugins=[]);g=c.priority||0;for(var h=0,k=e.length;h<k;h++)if(g<e[h].priority){e.splice(h,0,c);return}e.push(c)}};b._updatePosition=function(c,e){c=this._stepHead.next;var g=this.position,h=this.duration;if(this.target&&c){for(var k=c.next;k&&k.t<=g;)c=c.next,
k=c.next;this._updateTargetProps(c,e?h===0?1:g/h:(g-c.t)/c.d,e)}this._stepPosition=c?g-c.t:0};b._updateTargetProps=function(c,e,g){if(!(this.passive=!!c.passive)){var h,k=c.prev.props,m=c.props;if(h=c.ease)e=h(e,0,1,1);h=this._plugins;var l;a:for(l in k){var n=k[l];var p=m[l];n=n!==p&&typeof n==="number"?n+(p-n)*e:e>=1?p:n;if(h){p=0;for(var q=h.length;p<q;p++){var r=h[p].change(this,c,l,n,e,g);if(r===f.IGNORE)continue a;r!==void 0&&(n=r)}}this.target[l]=n}}};b._runActionsRange=function(c,e,g,h){var k=
(g=c>e)?this._actionTail:this._actionHead,m=e,l=c;g&&(m=c,l=e);for(var n=this.position;k;){var p=k.t;if(p===e||p>l&&p<m||h&&p===c)if(k.funct.apply(k.scope,k.params),n!==this.position)return!0;k=g?k.prev:k.next}};b._appendProps=function(c,e,g){var h=this._stepHead.props,k=this.target,m=f._plugins,l,n,p=e.prev,q=p.props,r=e.props||(e.props=this._cloneProps(q)),w={};for(l in c)if(c.hasOwnProperty(l)&&(w[l]=r[l]=c[l],h[l]===void 0)){var u=void 0;if(m)for(n=m.length-1;n>=0;n--){var J=m[n].init(this,l,
u);J!==void 0&&(u=J);if(u===f.IGNORE){delete r[l];delete w[l];break}}u!==f.IGNORE&&(u===void 0&&(u=k[l]),q[l]=u===void 0?null:u)}for(l in w){var H;for(c=p;(H=c)&&(c=H.prev);)if(c.props!==H.props){if(c.props[l]!==void 0)break;c.props[l]=q[l]}}if(g!==!1&&(m=this._plugins))for(n=m.length-1;n>=0;n--)m[n].step(this,e,w);if(g=this._injected)this._injected=null,this._appendProps(g,e,!1)};b._injectProp=function(c,e){(this._injected||(this._injected={}))[c]=e};b._addStep=function(c,e,g,h){e=new d(this._stepTail,
this.duration,c,e,g,h||!1);this.duration+=c;return this._stepTail=this._stepTail.next=e};b._addAction=function(c,e,g){c=new a(this._actionTail,this.duration,c,e,g);this._actionTail?this._actionTail.next=c:this._actionHead=c;this._actionTail=c;return this};b._set=function(c){for(var e in c)this[e]=c[e]};b._cloneProps=function(c){var e={},g;for(g in c)e[g]=c[g];return e};createjs.Tween=createjs.promote(f,"AbstractTween")})();
(function(){function f(a){if(a instanceof Array||a==null&&arguments.length>1){var b=a;var c=arguments[1];a=arguments[2]}else a&&(b=a.tweens,c=a.labels);this.AbstractTween_constructor(a);this.tweens=[];b&&this.addTween.apply(this,b);this.setLabels(c);this._init(a)}var d=createjs.extend(f,createjs.AbstractTween);d.addTween=function(a){a._parent&&a._parent.removeTween(a);var b=arguments.length;if(b>1){for(var c=0;c<b;c++)this.addTween(arguments[c]);return arguments[b-1]}if(b===0)return null;this.tweens.push(a);
a._parent=this;a.paused=!0;b=a.duration;a.loop>0&&(b*=a.loop+1);b>this.duration&&(this.duration=b);this.rawPosition>=0&&a.setPosition(this.rawPosition);return a};d.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=!0,e=0;e<b;e++)c=c&&this.removeTween(arguments[e]);return c}if(b===0)return!0;b=this.tweens;for(e=b.length;e--;)if(b[e]===a)return b.splice(e,1),a._parent=null,a.duration>=this.duration&&this.updateDuration(),!0;return!1};d.updateDuration=function(){for(var a=this.duration=
0,b=this.tweens.length;a<b;a++){var c=this.tweens[a],e=c.duration;c.loop>0&&(e*=c.loop+1);e>this.duration&&(this.duration=e)}};d.toString=function(){return"[Timeline]"};d.clone=function(){throw"Timeline can not be cloned.";};d._updatePosition=function(a,b){b=this.position;for(var c=0,e=this.tweens.length;c<e;c++)this.tweens[c].setPosition(b,!0,a)};d._runActionsRange=function(a,b,c,e){for(var g=this.position,h=0,k=this.tweens.length;h<k;h++)if(this.tweens[h]._runActions(a,b,c,e),g!==this.position)return!0};
createjs.Timeline=createjs.promote(f,"AbstractTween")})();
(function(){function f(){throw"Ease cannot be instantiated.";}f.linear=function(d){return d};f.none=f.linear;f.get=function(d){d<-1?d=-1:d>1&&(d=1);return function(a){return d==0?a:d<0?a*(a*-d+1+d):a*((2-a)*d+(1-d))}};f.getPowIn=function(d){return function(a){return Math.pow(a,d)}};f.getPowOut=function(d){return function(a){return 1-Math.pow(1-a,d)}};f.getPowInOut=function(d){return function(a){return(a*=2)<1?.5*Math.pow(a,d):1-.5*Math.abs(Math.pow(2-a,d))}};f.quadIn=f.getPowIn(2);f.quadOut=f.getPowOut(2);
f.quadInOut=f.getPowInOut(2);f.cubicIn=f.getPowIn(3);f.cubicOut=f.getPowOut(3);f.cubicInOut=f.getPowInOut(3);f.quartIn=f.getPowIn(4);f.quartOut=f.getPowOut(4);f.quartInOut=f.getPowInOut(4);f.quintIn=f.getPowIn(5);f.quintOut=f.getPowOut(5);f.quintInOut=f.getPowInOut(5);f.sineIn=function(d){return 1-Math.cos(d*Math.PI/2)};f.sineOut=function(d){return Math.sin(d*Math.PI/2)};f.sineInOut=function(d){return-.5*(Math.cos(Math.PI*d)-1)};f.getBackIn=function(d){return function(a){return a*a*((d+1)*a-d)}};
f.backIn=f.getBackIn(1.7);f.getBackOut=function(d){return function(a){return--a*a*((d+1)*a+d)+1}};f.backOut=f.getBackOut(1.7);f.getBackInOut=function(d){d*=1.525;return function(a){return(a*=2)<1?a*a*((d+1)*a-d)*.5:.5*((a-=2)*a*((d+1)*a+d)+2)}};f.backInOut=f.getBackInOut(1.7);f.circIn=function(d){return-(Math.sqrt(1-d*d)-1)};f.circOut=function(d){return Math.sqrt(1- --d*d)};f.circInOut=function(d){return(d*=2)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)};f.bounceIn=function(d){return 1-
f.bounceOut(1-d)};f.bounceOut=function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375};f.bounceInOut=function(d){return d<.5?f.bounceIn(d*2)*.5:f.bounceOut(d*2-1)*.5+.5};f.getElasticIn=function(d,a){var b=Math.PI*2;return function(c){if(c==0||c==1)return c;var e=a/b*Math.asin(1/d);return-(d*Math.pow(2,10*--c)*Math.sin((c-e)*b/a))}};f.elasticIn=f.getElasticIn(1,.3);f.getElasticOut=function(d,a){var b=Math.PI*
2;return function(c){return c==0||c==1?c:d*Math.pow(2,-10*c)*Math.sin((c-a/b*Math.asin(1/d))*b/a)+1}};f.elasticOut=f.getElasticOut(1,.3);f.getElasticInOut=function(d,a){var b=Math.PI*2;return function(c){var e=a/b*Math.asin(1/d);return(c*=2)<1?-.5*(d*Math.pow(2,10*--c)*Math.sin((c-e)*b/a)):d*Math.pow(2,-10*--c)*Math.sin((c-e)*b/a)*.5+1}};f.elasticInOut=f.getElasticInOut(1,.3*1.5);createjs.Ease=f})();
(function(){function f(){throw"MotionGuidePlugin cannot be instantiated.";}f.priority=0;f.ID="MotionGuide";f.install=function(){createjs.Tween._installPlugin(f);return createjs.Tween.IGNORE};f.init=function(d,a,b){a=="guide"&&d._addPlugin(f)};f.step=function(d,a,b){for(var c in b)if(c==="guide"){var e=a.props.guide,g=f._solveGuideData(b.guide,e);e.valid=!g;var h=e.endData;d._injectProp("x",h.x);d._injectProp("y",h.y);if(g||!e.orient)break;e.startOffsetRot=(a.prev.props.rotation===void 0?d.target.rotation||
0:a.prev.props.rotation)-e.startData.rotation;if(e.orient=="fixed")e.endAbsRot=h.rotation+e.startOffsetRot,e.deltaRotation=0;else{g=b.rotation===void 0?d.target.rotation||0:b.rotation;h=g-e.endData.rotation-e.startOffsetRot;var k=h%360;e.endAbsRot=g;switch(e.orient){case "auto":e.deltaRotation=h;break;case "cw":e.deltaRotation=(k+360)%360+360*Math.abs(h/360|0);break;case "ccw":e.deltaRotation=(k-360)%360+-360*Math.abs(h/360|0)}}d._injectProp("rotation",e.endAbsRot)}};f.change=function(d,a,b,c,e,g){if((c=
a.props.guide)&&a.props!==a.prev.props&&c!==a.prev.props.guide){if(b==="guide"&&!c.valid||b=="x"||b=="y"||b==="rotation"&&c.orient)return createjs.Tween.IGNORE;f._ratioToPositionData(e,c,d.target)}};f.debug=function(d,a,b){d=d.guide||d;var c=f._findPathProblems(d);c&&console.error("MotionGuidePlugin Error found: \n"+c);if(!a)return c;var e,g=d.path,h=g.length;a.save();a.lineCap="round";a.lineJoin="miter";a.beginPath();a.moveTo(g[0],g[1]);for(e=2;e<h;e+=4)a.quadraticCurveTo(g[e],g[e+1],g[e+2],g[e+
3]);a.strokeStyle="black";a.lineWidth=4.5;a.stroke();a.strokeStyle="white";a.lineWidth=3;a.stroke();a.closePath();g=b.length;if(b&&g){h={};var k={};f._solveGuideData(d,h);for(e=0;e<g;e++)h.orient="fixed",f._ratioToPositionData(b[e],h,k),a.beginPath(),a.moveTo(k.x,k.y),a.lineTo(k.x+Math.cos(k.rotation*.0174533)*9,k.y+Math.sin(k.rotation*.0174533)*9),a.strokeStyle="black",a.lineWidth=4.5,a.stroke(),a.strokeStyle="red",a.lineWidth=3,a.stroke(),a.closePath()}a.restore();return c};f._solveGuideData=function(d,
a){var b;if(b=f.debug(d))return b;var c=a.path=d.path;a.orient=d.orient;a.subLines=[];a.totalLength=0;a.startOffsetRot=0;a.deltaRotation=0;a.startData={ratio:0};a.endData={ratio:1};a.animSpan=1;var e=c.length,g,h={};var k=c[0];var m=c[1];for(b=2;b<e;b+=4){var l=c[b];var n=c[b+1];var p=c[b+2];var q=c[b+3];var r={weightings:[],estLength:0,portion:0},w=k;var u=m;for(g=1;g<=10;g++)f._getParamsForCurve(k,m,l,n,p,q,g/10,!1,h),w=h.x-w,u=h.y-u,u=Math.sqrt(w*w+u*u),r.weightings.push(u),r.estLength+=u,w=h.x,
u=h.y;a.totalLength+=r.estLength;for(g=0;g<10;g++)u=r.estLength,r.weightings[g]/=u;a.subLines.push(r);k=p;m=q}u=a.totalLength;c=a.subLines.length;for(b=0;b<c;b++)a.subLines[b].portion=a.subLines[b].estLength/u;b=isNaN(d.start)?0:d.start;d=isNaN(d.end)?1:d.end;f._ratioToPositionData(b,a,a.startData);f._ratioToPositionData(d,a,a.endData);a.startData.ratio=b;a.endData.ratio=d;a.animSpan=a.endData.ratio-a.startData.ratio};f._ratioToPositionData=function(d,a,b){var c=a.subLines,e,g=0,h=d*a.animSpan+a.startData.ratio;
var k=c.length;for(e=0;e<k;e++){var m=c[e].portion;if(g+m>=h){var l=e;break}g+=m}l===void 0&&(l=k-1,g-=m);c=c[l].weightings;var n=m;k=c.length;for(e=0;e<k;e++){m=c[e]*n;if(g+m>=h)break;g+=m}l=l*4+2;k=a.path;f._getParamsForCurve(k[l-2],k[l-1],k[l],k[l+1],k[l+2],k[l+3],e/10+(h-g)/m*.1,a.orient,b);a.orient&&(b.rotation=d>=.99999&&d<=1.00001&&a.endAbsRot!==void 0?a.endAbsRot:b.rotation+(a.startOffsetRot+d*a.deltaRotation));return b};f._getParamsForCurve=function(d,a,b,c,e,g,h,k,m){var l=1-h;m.x=l*l*d+
2*l*h*b+h*h*e;m.y=l*l*a+2*l*h*c+h*h*g;k&&(m.rotation=57.2957795*Math.atan2((c-a)*l+(g-c)*h,(b-d)*l+(e-b)*h))};f._findPathProblems=function(d){var a=d.path,b=a&&a.length||0;if(b<6||(b-2)%4)return"\tCannot parse 'path' array due to invalid number of entries in path. There should be an odd number of points, at least 3 points, and 2 entries per point (x & y). See 'CanvasRenderingContext2D.quadraticCurveTo' for details as 'path' models a quadratic bezier.\n\nOnly [ "+(b+" ] values found. Expected: "+Math.max(Math.ceil((b-
2)/4)*4+2,6));for(var c=0;c<b;c++)if(isNaN(a[c]))return"All data in path array must be numeric";a=d.start;if(isNaN(a)&&a!==void 0)return"'start' out of bounds. Expected 0 to 1, got: "+a;a=d.end;if(isNaN(a)&&a!==void 0)return"'end' out of bounds. Expected 0 to 1, got: "+a;if((d=d.orient)&&d!="fixed"&&d!="auto"&&d!="cw"&&d!="ccw")return'Invalid orientation value. Expected ["fixed", "auto", "cw", "ccw", undefined], got: '+d};createjs.MotionGuidePlugin=f})();
(function(){var f=createjs.TweenJS=createjs.TweenJS||{};f.version="1.0.0";f.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"})();

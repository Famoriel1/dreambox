function $$(e){var t=arguments.length-1,i={},r=null,n=null;if("object"!=typeof arguments[t]||arguments[t].html||(i=arguments[t--]),n=/^([\w-]+)(#([\w-]+))?((\.[\w-]+)*)$/.exec(e)){r=jQuery(document.createElement(n[1]));for(var s in n[3]&&(r[0].id=n[3]),n[4]&&(r[0].className=n[4].replace(/\./g," ")),i)"hover"==s&&i[s]instanceof Array?r.hover(i[s][0],i[s][1]):jQuery.isFunction(i[s])?r.bind(s,i[s]):r.attr(s,i[s]);for(var o=1;o<=t;o++)r.append(arguments[o])}return r}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function setupTooltips(){var e=$("<span onmouseover=\"$(this).addClass('hover');\" onmouseout=\"$(this).removeClass('hover');\"></span>");$("span.tooltip").wrapInner(e)}function setupHelps(){function e(){$(".popup.visible").addClass("transitioning").removeClass("visible"),$("html").removeClass("overlay"),setTimeout((function(){$(".popup").removeClass("transitioning")}),200)}$(".help_button").click((function(){$("html").addClass("overlay");var e=$(this).attr("data-popup-target");$(e).addClass("visible")})),$(document).keyup((function(t){27==t.keyCode&&$("html").hasClass("overlay")&&e()})),$(".popup-exit").click((function(){e()})),$(".popup-overlay").click((function(){e()}))}function toggleReportTBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Tbody"),r=document.getElementById(e+"Description"),n=document.getElementById(e+"Completed"),s=document.getElementById(e+"Progress");"none"==i.style.display?(-1!=navigator.userAgent.indexOf("MSIE")?(i.style.display="block",n.style.display="block",r.style.display="block"):(i.style.display="table-row-group",n.style.display="table-cell",r.style.display="table-cell"),s.style.display="none",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",r.style.display="none",n.style.display="none",-1!=navigator.userAgent.indexOf("MSIE")?s.style.display="block":s.style.display="table-cell",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function update_classrooms(e){var t=$(".choose_asp_form #classroom");e&&e.length>0?(e.length>1&&(t.append($("<option />").val("-").text("-- Please select a classroom --")),t.show()),load_dd(".choose_asp_form #classroom",e),1==e.length?(t.after($("<b id='noDD' />").text(e[0][0])),t.parent("form").submit()):disableAjaxDropdownSpinners()):(t.after($("<b id='noDD' />").text("No classrooms to display")),disableAjaxDropdownSpinners())}function toggleReportBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Body");"none"==i.style.display?(i.style.display="block",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function toggleGamesetTBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Tbody");"none"==i.style.display?(-1!=navigator.userAgent.indexOf("MSIE")?i.style.display="block":i.style.display="table-row-group",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function toggleFoldableObject(e,t){var i=document.getElementById(e);"none"==i.style.display?(i.style.display="block",$("#"+t).text("hide")):(i.style.display="none",$("#"+t).text("show"))}function toggleFoldableObjectWithText(e,t,i,r){var n=document.getElementById(e);"none"==n.style.display?(n.style.display="block",$("#"+t).text(i)):(n.style.display="none",$("#"+t).text(r))}function enableAjaxDropdownSpinner(e){0==$(e).siblings(".ajaxspinner").length&&e.after('<img class="ajaxspinner" src="/assets/forms/ajax-loader-small-e611bd10da5752d2c77c75664d6ec0cc16491d9d1d85012a753624374ccfeeae.gif" style="position:relative; top:5px; left: 5px;"/>')}function disableAjaxDropdownSpinners(){$(".ajaxspinner").remove()}function expandCollapseMessage(e){$(e).toggleClass("iconCollapse iconExpand"),objMessage=$(e).parents("div"),$(e).hasClass("iconExpand")?($(e).text("+"),$(objMessage).addClass("collapsed"),Set_Cookie($(objMessage).attr("id"),1,270,"/")):($(e).text("-"),$(objMessage).removeClass("collapsed"),Set_Cookie($(objMessage).attr("id"),0,270,"/"))}function pluralize_term(e,t,i){return i=void 0===i||i,1===e?e+" "+t:i?e+" "+t+"s":e+" "+t+"es"}function bindRegionSelect(e,t,i){jQuery((function(r){var n=r("#"+e),s=r("#"+t);s.bind("change",(function(){var e=s.val(),t=n.val();n.html(""),i[e]?(n.append("<option>-- Please select --</option>"),r.each(i[e],(function(e,i){n.append('<option value="'+i[0]+'"'+(i[0]+""==t?' selected="selected"':"")+">"+i[1]+"</option>")}))):n.append('<option value="">-- Other --</option>')}))}))}function getWidth(){return $(window).width()}function getHeight(){return $(window).height()}function onWindowResized(e){var t=document.getElementById(e);try{t.onAppResize()}catch(e){}}function reloadWindow(){window.location.reload(!0)}function onDblSizeReport(e,t){flashHeight==t&&flashWidth==e||(flashHeight=t,flashWidth=e,onWindowResized(swfName,flashWidth,flashHeight))}function onPageLoaded(){}function closeWindow(){window.close()}function SVGsupported(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function call(e,t,i,r){if("active"==e&&(e="as"==asjsmode?"dreambox":"runtime"),"dreambox"==e||"topbar"==e||"bottombar"==e){var n=document.getElementById(swfName+("dreambox"==e?"":e));try{return n.callAS(e,t,i,r)}catch(e){}}else if(lrt4loaded)try{return callJS(e,t,i,r)}catch(e){try{document.getElementById(swfName).callAS("dreambox","call","onException",[e.message])}catch(e){}}}function canLoadHTML(){return-1===navigator.appVersion.indexOf("MSIE 10")&&function(){"use strict";return Function.prototype.bind&&!this}()}function loadHTML(e){if(lrt4loaded)run(e);else for(var t=["global","init","event","test"],i=t.length,r=0;r<t.length;r++){var n=e.substr(0,e.indexOf("/runtime/"))+"/runtime/runtime-"+t[r]+".js",s=document.createElement("script");document.body.appendChild(s),s.onload=function(){0==--i&&(lrt4loaded=!0,run(e))},s.onerror=function(){try{document.getElementById(swfName).callAS("dreambox","call","onLoadError",[n])}catch(e){}},s.src=n}}function TogglePopup(e,t,i){var r=$("#popup");if(__popupDefinition&&__popupDefinition.hide(),__popupSource!=t&&r.hide(),t!=r[0]){var n="above"==i?-55:t.offsetHeight,s=$(t).offset();r.css("left",s.left),r.css("top",s.top+n),$($("#popup_"+e)[0]).show(),r.toggle();var o=r.offset().left;gap=document.body.offsetLeft+document.body.offsetWidth-(o+r.width()),gap<0&&r.css("left",o+gap-5+"px"),__popupSource=t,__popupDefinition=$($("#popup_"+e)[0])}}function extractTruncatedStringFromVersionString(e,t){var i=e.split("."),r=i[0];if(i.length>1)for(var n=0;n<t;n++)if(i[n+1]){var s=".".concat(i[n+1]);r=r.concat(s)}return r}function extractDecimalNumberFromVersionString(e){var t=e.split("."),i=t[0];return i=1===t.length?i.concat(".0"):(i=i.concat(".")).concat(t[1]),parseFloat(i)}function checkCapabilities(e){var t=[];BrowserDetect.init();var i=e.userBrowserNameString(),r=e.userBrowserVersion(),n=e.userOSNameString()||BrowserDetect.OS||testResult.UNSUPPORTED_OS,s=e.userOSVersion()||AN_UNKNOWN_VERSION;(!i||i.match(/webkit/i)||i.match(/mozilla/i))&&(BrowserDetect.browser?(i=BrowserDetect.browser,r=BrowserDetect.version.toString()||AN_UNKNOWN_VERSION):(i=testResult.UNSUPPORTED_BROWSER,r=AN_UNKNOWN_VERSION));var o=i.split(" ").join().replace(",",""),a=n.split(" "),l=a[0];a[1]&&(a[1].match(/phone/i)||a[1].match(/mobile/i))&&(l=a[0].concat(a[1]));var d=testResult.WARN,c=testResult.WARN,u={Chrome:{min:76},Chromium:{min:77},Edge:{min:16},Firefox:{min:68},MobileSafari:{min:12},Safari:{min:12}},p={Chrome:{min:76,stableSet:[],decimals:1},iOS:{min:9.3,stableRegex:/^(9\.3(\.\d)?)|(1[0-3](\.\d(\.\d)?)?)$/,decimals:2},Windows:{min:7,stableSet:["7","8","8.1","10"],decimals:1},Mac:{min:10.1,stableRegex:/^10\.1[0-5](\.\d)?$/,decimals:2}};document.getElementById("msie-sound-restrictions").style.display="Explorer"===i||"IE"===i?"":"none";var h=p[l];if(h){if(s!==AN_UNKNOWN_VERSION&&(h.stableSet||h.stableRegex)){var f=this.extractTruncatedStringFromVersionString(s,h.decimals);if(h.stableSet&&h.stableSet.indexOf(f,0)>-1)d=testResult.PASS;else if(h.stableRegex&&h.stableRegex.test(f))d=testResult.PASS;else{var g=this.extractDecimalNumberFromVersionString(s);h.hasOwnProperty("min")&&(g<h.min?d=testResult.UPDATE:g-h.min>100?s=AN_UNKNOWN_VERSION:"Chrome"===h&&(d=testResult.PASS))}}}else d=testResult.UNSUPPORTED_OS;var m=u[o];if(m){if(r!==AN_UNKNOWN_VERSION&&m.hasOwnProperty("min")){h&&Object.keys(h).indexOf("iOS")>=0&&Object.keys(m).indexOf("Firefox")>=0&&(m.min=firefox_iOS_min_version);var v=extractDecimalNumberFromVersionString(r);v<m.min?c=testResult.UPDATE:v-m.min>100?r=AN_UNKNOWN_VERSION:c=testResult.PASS}}else c=testResult.UNSUPPORTED_BROWSER;t.push({id:"Browser",section:"browser",label:"Browser",value:i+" "+r,status:c}),t.push({id:"OperatingSystem",section:"operating-system",label:"Operating System",value:n+" "+s,status:d});var b=capabilities.supportsSessionCookies();t.push({id:"SessionCookies",section:"browser",label:"Session cookies",value:b,status:b?testResult.PASS:testResult.FAIL}),t.push({id:"UserAgent",section:"user-info",label:"User agent",value:navigator.userAgent,status:""});var _=screen.width,y=screen.height;if(t.push({id:"ScreenSize",section:"screen",label:"Screen",value:_+" x "+y,status:_>=1024&&y>=768||/^iOS|Mac$/.test(l)&&y>=1024&&_>=768?testResult.PASS:testResult.FAIL}),t.push({id:"ScreenTouch",section:"screen",label:"Touch",value:capabilities.supportsTouch(),status:""}),t.push({id:"ECMA5",section:"js-features",label:"ECMA5",value:capabilities.supportsECMA5(),status:""}),!capabilities.supportsECMA5()){var $=capabilities.supportedECMA5();for(var w in $)t.push({id:w,section:"js-features",label:w,value:$[w],status:""})}return t.push({id:"Touch",section:"js-features",label:"touch",value:capabilities.supportsTouch(),status:""}),t.push({id:"Performance",section:"js-features",label:"performance",value:capabilities.supportsPerformance(),status:""}),t.push({id:"LocalStorage",section:"js-features",label:"local storage",value:capabilities.supportsLocalStorage(),status:""}),t.push({id:"SessionStorage",section:"js-features",label:"session storage",value:capabilities.supportsSessionStorage(),status:""}),t.push({id:"Canvas",section:"js-features",label:"canvas",value:capabilities.supportsCanvas(),status:""}),t.push({id:"WebGL",section:"js-features",label:"webgl",value:capabilities.supportsWebGL(),status:""}),t.push({id:"Video",section:"js-features",label:"video",value:capabilities.supportsVideo(),status:""}),t.push({id:"H264Baseline",section:"js-features",label:"h264 Baseline",value:capabilities.supportsH264BaselineVideo(),status:""}),t.push({id:"OggTheora",section:"js-features",label:"Ogg Theora",value:capabilities.supportsOggTheoraVideo(),status:""}),t.push({id:"WebM",section:"js-features",label:"WebM",value:capabilities.supportsWebMVideo(),status:""}),t.push({id:"Web Audio",section:"js-features",label:"webaudio",value:capabilities.supportsWebAudio(),status:""}),t.push({id:"Audio",section:"js-features",label:"audio",value:capabilities.supportsAudio(),status:""}),t.push({id:"MP3",section:"js-features",label:"mp3",value:capabilities.supportsMP3Audio(),status:""}),t.push({id:"Wav",section:"js-features",label:"wav",value:capabilities.supportsWavAudio(),status:""}),t.push({id:"Ogg",section:"js-features",label:"ogg",value:capabilities.supportsOggAudio(),status:""}),t.push({id:"WebWorkers",section:"js-features",label:"web workers",value:capabilities.supportsWebWorkers(),status:""}),t.push({id:"AppCache",section:"js-features",label:"app cache",value:capabilities.supportsAppCache(),status:""}),t.push({id:"GeoLocation",section:"js-features",label:"geo-location",value:capabilities.supportsGeoLocation(),status:""}),t.push({id:"MicrodataApi",section:"js-features",label:"microdata API",value:capabilities.supportsMicrodataAPI(),status:""}),e&&(t.push({id:"DeviceType",section:"device-info",label:"Device Type",value:e.userDeviceType()||NO_INFO,status:""}),t.push({id:"DeviceVendor",section:"device-info",label:"Device Vendor",value:e.userDeviceVendor()||NO_INFO,status:""}),t.push({id:"DeviceModel",section:"device-info",label:"Device Model",value:e.userDeviceModel()||NO_INFO,status:""}),t.push({id:"CPU",section:"device-info",label:"CPU Architecture",value:e.userCPU()||NO_INFO,status:""})),t}function Get_Cookie(e){var t=document.cookie.split(";"),i="",r="",n=!1,s="";for(s=0;s<t.length;s++){if((i=t[s].split("="))[0].replace(/^\s+|\s+$/g,"")==e)return n=!0,i.length>1&&(r=unescape(i[1].replace(/^\s+|\s+$/g,""))),r;i=null,""}if(!n)return null}function Set_Cookie(e,t,i,r,n,s){var o=new Date;o.setTime(o.getTime()),i&&(i=1e3*i*60*60*24);var a=new Date(o.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+a.toGMTString():"")+(r?";path="+r:"")+(n?";domain="+n:"")+(s?";secure":"")}function Delete_Cookie(e,t,i){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}function getKeyInfoFromUAString(){var e=new UAParser,t=e.getResult(),i=e.getOS(),r=e.getDevice(),n=e.getCPU();return{userOSNameString:function(){return i.name},userOSVersion:function(){return i.version},userDeviceType:function(){return r.type},userDeviceModel:function(){return r.model},userDeviceVendor:function(){return r.vendor},userCPU:function(){return n.architecture},userBrowserNameString:function(){return t.browser.name},userBrowserVersion:function(){return t.browser.version}}}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function update_roster_ui_from_fragment(){ignoreHashChange?ignoreHashChange=!1:($("#roster_management").loading(),$("#roster_management").load("roster_management/index",{filter:$.deparam.fragment(),layout:!1},(function(e,t){"error"==t?$("#roster_management").html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t?$("#roster_management").html("<p class='error'>Timed out while retrieving the classroom and students list.</p>"):$("#roster_management").rosterManagementPage(hide_move_remove_button)})))}function highlightLearningGroups(e,t){$("a.assessed_moid_"+e).closest("tr").each((function(){var e=$(this).data("learning_group");e===t?$("a#"+e).addClass("highlight"):$("a#"+e).addClass("highlight_assessed")})),$("a.required_moid_"+e).closest("tr").each((function(){var e=$(this).data("learning_group");e===t?$("a#"+e).addClass("highlight"):$("a#"+e).addClass("highlight_required")}))}function evalDetailedViewCheckbox(){$("input:checkbox#detailed_view").is(":checked")?$(".detailed_view").removeClass("hidden"):$(".detailed_view").addClass("hidden")}var DateFormatter;original=document.location.href,i=original.indexOf("#constructor"),-1==i&&(i=original.indexOf("#__proto__")),j=original.indexOf("prototype",i),-1==j&&(j=original.indexOf("srcdoc",i)),-1!=i&&-1!=j&&i<j&&(stripped=original.substring(0,i),document.location.href=stripped),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";function i(e,t){var i=(t=t||Z).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function r(e){var t=!!e&&"length"in e&&e.length,i=pe.type(e);return"function"!==i&&!pe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(pe.isFunction(t))return pe.grep(e,(function(e,r){return!!t.call(e,r,e)!==i}));if(t.nodeType)return pe.grep(e,(function(e){return e===t!==i}));if("string"==typeof t){if(we.test(t))return pe.filter(t,e,i);t=pe.filter(t,e)}return pe.grep(e,(function(e){return ne.call(t,e)>-1!==i&&1===e.nodeType}))}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return pe.each(e.match(Ce)||[],(function(e,i){t[i]=!0})),t}function a(e){return e}function l(e){throw e}function d(e,t,i){var r;try{e&&pe.isFunction(r=e.promise)?r.call(e).done(t).fail(i):e&&pe.isFunction(r=e.then)?r.call(e,t,i):t.call(void 0,e)}catch(e){i.call(void 0,e)}}function c(){Z.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),pe.ready()}function u(){this.expando=pe.expando+u.uid++}function p(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(Oe,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Fe.test(i)?JSON.parse(i):i)}catch(e){}Me.set(e,t,i)}else i=void 0;return i}function h(e,t,i,r){var n,s=1,o=20,a=r?function(){return r.cur()}:function(){return pe.css(e,t,"")},l=a(),d=i&&i[3]||(pe.cssNumber[t]?"":"px"),c=(pe.cssNumber[t]||"px"!==d&&+l)&&Ne.exec(pe.css(e,t));if(c&&c[3]!==d){d=d||c[3],i=i||[],c=+l||1;do{c/=s=s||".5",pe.style(e,t,c+d)}while(s!==(s=a()/l)&&1!==s&&--o)}return i&&(c=+c||+l||0,n=i[1]?c+(i[1]+1)*i[2]:+i[2],r&&(r.unit=d,r.start=c,r.end=n)),n}function f(e){var t,i=e.ownerDocument,r=e.nodeName,n=ze[r];return n||(t=i.body.appendChild(i.createElement(r)),n=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),ze[r]=n,n)}function g(e,t){for(var i,r,n=[],s=0,o=e.length;s<o;s++)(r=e[s]).style&&(i=r.style.display,t?("none"===i&&(n[s]=Ae.get(r,"display")||null,n[s]||(r.style.display="")),""===r.style.display&&Re(r)&&(n[s]=f(r))):"none"!==i&&(n[s]="none",Ae.set(r,"display",i)));for(s=0;s<o;s++)null!=n[s]&&(e[s].style.display=n[s]);return e}function m(e,t){var i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],i):i}function v(e,t){for(var i=0,r=e.length;i<r;i++)Ae.set(e[i],"globalEval",!t||Ae.get(t[i],"globalEval"))}function b(e,t,i,r,n){for(var s,o,a,l,d,c,u=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((s=e[h])||0===s)if("object"===pe.type(s))pe.merge(p,s.nodeType?[s]:s);else if(Ye.test(s)){for(o=o||u.appendChild(t.createElement("div")),a=(Le.exec(s)||["",""])[1].toLowerCase(),l=Be[a]||Be._default,o.innerHTML=l[1]+pe.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;pe.merge(p,o.childNodes),(o=u.firstChild).textContent=""}else p.push(t.createTextNode(s));for(u.textContent="",h=0;s=p[h++];)if(r&&pe.inArray(s,r)>-1)n&&n.push(s);else if(d=pe.contains(s.ownerDocument,s),o=m(u.appendChild(s),"script"),d&&v(o),i)for(c=0;s=o[c++];)We.test(s.type||"")&&i.push(s);return u}function _(){return!0}function y(){return!1}function $(){try{return Z.activeElement}catch(e){}}function w(e,t,i,r,n,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(r=r||i,i=void 0),t)w(e,a,i,r,t[a],s);return e}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=y;else if(!n)return e;return 1===s&&(o=n,n=function(e){return pe().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=pe.guid++)),e.each((function(){pe.event.add(this,t,n,r,i)}))}function x(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function j(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var i,r,n,s,o,a,l,d;if(1===t.nodeType){if(Ae.hasData(e)&&(s=Ae.access(e),o=Ae.set(t,s),d=s.events))for(n in delete o.handle,o.events={},d)for(i=0,r=d[n].length;i<r;i++)pe.event.add(t,n,d[n][i]);Me.hasData(e)&&(a=Me.access(e),l=pe.extend({},a),Me.set(t,l))}}function C(e,t){var i=t.nodeName.toLowerCase();"input"===i&&He.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function S(e,t,r,n){t=ie.apply([],t);var s,o,a,l,d,c,u=0,p=e.length,h=p-1,f=t[0],g=pe.isFunction(f);if(g||p>1&&"string"==typeof f&&!ce.checkClone&&tt.test(f))return e.each((function(i){var s=e.eq(i);g&&(t[0]=f.call(this,i,s.html())),S(s,t,r,n)}));if(p&&(o=(s=b(t,e[0].ownerDocument,!1,e,n)).firstChild,1===s.childNodes.length&&(s=o),o||n)){for(l=(a=pe.map(m(s,"script"),j)).length;u<p;u++)d=s,u!==h&&(d=pe.clone(d,!0,!0),l&&pe.merge(a,m(d,"script"))),r.call(e[u],d,u);if(l)for(c=a[a.length-1].ownerDocument,pe.map(a,D),u=0;u<l;u++)d=a[u],We.test(d.type||"")&&!Ae.access(d,"globalEval")&&pe.contains(c,d)&&(d.src?pe._evalUrl&&pe._evalUrl(d.src):i(d.textContent.replace(rt,""),c))}return e}function I(e,t,i){for(var r,n=t?pe.filter(t,e):e,s=0;null!=(r=n[s]);s++)i||1!==r.nodeType||pe.cleanData(m(r)),r.parentNode&&(i&&pe.contains(r.ownerDocument,r)&&v(m(r,"script")),r.parentNode.removeChild(r));return e}function T(e,t,i){var r,n,s,o,a=e.style;return(i=i||ot(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||pe.contains(e.ownerDocument,e)||(o=pe.style(e,t)),!ce.pixelMarginRight()&&st.test(o)&&nt.test(t)&&(r=a.width,n=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=r,a.minWidth=n,a.maxWidth=s)),void 0!==o?o+"":o}function q(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function A(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=ct.length;i--;)if((e=ct[i]+t)in ut)return e}function M(e,t,i){var r=Ne.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function F(e,t,i,r,n){for(var s=i===(r?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=pe.css(e,i+Ee[s],!0,n)),r?("content"===i&&(o-=pe.css(e,"padding"+Ee[s],!0,n)),"margin"!==i&&(o-=pe.css(e,"border"+Ee[s]+"Width",!0,n))):(o+=pe.css(e,"padding"+Ee[s],!0,n),"padding"!==i&&(o+=pe.css(e,"border"+Ee[s]+"Width",!0,n)));return o}function O(e,t,i){var r,n=!0,s=ot(e),o="border-box"===pe.css(e,"boxSizing",!1,s);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(((r=T(e,t,s))<0||null==r)&&(r=e.style[t]),st.test(r))return r;n=o&&(ce.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+F(e,t,i||(o?"border":"content"),n,s)+"px"}function P(e,t,i,r,n){return new P.prototype.init(e,t,i,r,n)}function N(){ht&&(e.requestAnimationFrame(N),pe.fx.tick())}function E(){return e.setTimeout((function(){pt=void 0})),pt=pe.now()}function R(e,t){var i,r=0,n={height:e};for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=Ee[r])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function G(e,t,i){for(var r,n=(L.tweeners[t]||[]).concat(L.tweeners["*"]),s=0,o=n.length;s<o;s++)if(r=n[s].call(i,t,e))return r}function z(e,t,i){var r,n,s,o,a,l,d,c,u="width"in t||"height"in t,p=this,h={},f=e.style,m=e.nodeType&&Re(e),v=Ae.get(e,"fxshow");for(r in i.queue||(null==(o=pe._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,p.always((function(){p.always((function(){o.unqueued--,pe.queue(e,"fx").length||o.empty.fire()}))}))),t)if(n=t[r],ft.test(n)){if(delete t[r],s=s||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!v||void 0===v[r])continue;m=!0}h[r]=v&&v[r]||pe.style(e,r)}if((l=!pe.isEmptyObject(t))||!pe.isEmptyObject(h))for(r in u&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(d=v&&v.display)&&(d=Ae.get(e,"display")),"none"===(c=pe.css(e,"display"))&&(d?c=d:(g([e],!0),d=e.style.display||d,c=pe.css(e,"display"),g([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===pe.css(e,"float")&&(l||(p.done((function(){f.display=d})),null==d&&(c=f.display,d="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}))),l=!1,h)l||(v?"hidden"in v&&(m=v.hidden):v=Ae.access(e,"fxshow",{display:d}),s&&(v.hidden=!m),m&&g([e],!0),p.done((function(){for(r in m||g([e]),Ae.remove(e,"fxshow"),h)pe.style(e,r,h[r])}))),l=G(m?v[r]:0,r,p),r in v||(v[r]=l.start,m&&(l.end=l.start,l.start=0))}function H(e,t){var i,r,n,s,o;for(i in e)if(n=t[r=pe.camelCase(i)],s=e[i],pe.isArray(s)&&(n=s[1],s=e[i]=s[0]),i!==r&&(e[r]=s,delete e[i]),(o=pe.cssHooks[r])&&"expand"in o)for(i in s=o.expand(s),delete e[r],s)i in e||(e[i]=s[i],t[i]=n);else t[r]=n}function L(e,t,i){var r,n,s=0,o=L.prefilters.length,a=pe.Deferred().always((function(){delete l.elem})),l=function(){if(n)return!1;for(var t=pt||E(),i=Math.max(0,d.startTime+d.duration-t),r=1-(i/d.duration||0),s=0,o=d.tweens.length;s<o;s++)d.tweens[s].run(r);return a.notifyWith(e,[d,r,i]),r<1&&o?i:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},i),originalProperties:t,originalOptions:i,startTime:pt||E(),duration:i.duration,tweens:[],createTween:function(t,i){var r=pe.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(r),r},stop:function(t){var i=0,r=t?d.tweens.length:0;if(n)return this;for(n=!0;i<r;i++)d.tweens[i].run(1);return t?(a.notifyWith(e,[d,1,0]),a.resolveWith(e,[d,t])):a.rejectWith(e,[d,t]),this}}),c=d.props;for(H(c,d.opts.specialEasing);s<o;s++)if(r=L.prefilters[s].call(d,e,c,d.opts))return pe.isFunction(r.stop)&&(pe._queueHooks(d.elem,d.opts.queue).stop=pe.proxy(r.stop,r)),r;return pe.map(c,G,d),pe.isFunction(d.opts.start)&&d.opts.start.call(e,d),pe.fx.timer(pe.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function W(e){return e.getAttribute&&e.getAttribute("class")||""}function B(e,t,i,r){var n;if(pe.isArray(t))pe.each(t,(function(t,n){i||Ct.test(e)?r(e,n):B(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,r)}));else if(i||"object"!==pe.type(t))r(e,t);else for(n in t)B(e+"["+n+"]",t[n],i,r)}function U(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,s=t.toLowerCase().match(Ce)||[];if(pe.isFunction(i))for(;r=s[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function V(e,t,i,r){function n(a){var l;return s[a]=!0,pe.each(e[a]||[],(function(e,a){var d=a(t,i,r);return"string"!=typeof d||o||s[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),n(d),!1)})),l}var s={},o=e===Rt;return n(t.dataTypes[0])||!s["*"]&&n("*")}function Y(e,t){var i,r,n=pe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:r||(r={}))[i]=t[i]);return r&&pe.extend(!0,e,r),e}function K(e,t,i){for(var r,n,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){l.unshift(n);break}if(l[0]in i)s=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){s=n;break}o||(o=n)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function X(e,t,i,r){var n,s,o,a,l,d={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=d[l+" "+s]||d["* "+s]))for(n in d)if((a=n.split(" "))[1]===s&&(o=d[l+" "+a[0]]||d["* "+a[0]])){!0===o?o=d[n]:!0!==d[n]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function J(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Q=[],Z=e.document,ee=Object.getPrototypeOf,te=Q.slice,ie=Q.concat,re=Q.push,ne=Q.indexOf,se={},oe=se.toString,ae=se.hasOwnProperty,le=ae.toString,de=le.call(Object),ce={},ue="3.1.0",pe=function(e,t){return new pe.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^-ms-/,ge=/-([a-z])/g,me=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:ue,constructor:pe,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:re,sort:Q.sort,splice:Q.splice},pe.extend=pe.fn.extend=function(){var e,t,i,r,n,s,o=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[a]||{},a++),"object"==typeof o||pe.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(r=e[t])&&(d&&r&&(pe.isPlainObject(r)||(n=pe.isArray(r)))?(n?(n=!1,s=i&&pe.isArray(i)?i:[]):s=i&&pe.isPlainObject(i)?i:{},o[t]=pe.extend(d,s,r)):void 0!==r&&(o[t]=r));return o},pe.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==oe.call(e))&&(!(t=ee(e))||"function"==typeof(i=ae.call(t,"constructor")&&t.constructor)&&le.call(i)===de)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[oe.call(e)]||"object":typeof e},globalEval:function(e){i(e)},camelCase:function(e){return e.replace(fe,"ms-").replace(ge,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(r(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(r(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):re.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:ne.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;r<i;r++)e[n++]=t[r];return e.length=n,e},grep:function(e,t,i){for(var r=[],n=0,s=e.length,o=!i;n<s;n++)!t(e[n],n)!==o&&r.push(e[n]);return r},map:function(e,t,i){var n,s,o=0,a=[];if(r(e))for(n=e.length;o<n;o++)null!=(s=t(e[o],o,i))&&a.push(s);else for(o in e)null!=(s=t(e[o],o,i))&&a.push(s);return ie.apply([],a)},guid:1,proxy:function(e,t){var i,r,n;if("string"==typeof t&&(i=e[t],t=e,e=i),pe.isFunction(e))return r=te.call(arguments,2),n=function(){return e.apply(t||this,r.concat(te.call(arguments)))},n.guid=e.guid=e.guid||pe.guid++,n},now:Date.now,support:ce}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=Q[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){se["[object "+t+"]"]=t.toLowerCase()}));var ve=function(e){function t(e,t,i,r){var n,s,o,a,l,d,c,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return i;if(!r&&((t?t.ownerDocument||t:z)!==M&&A(t),t=t||M,O)){if(11!==f&&(l=ve.exec(e)))if(n=l[1]){if(9===f){if(!(o=t.getElementById(n)))return i;if(o.id===n)return i.push(o),i}else if(p&&(o=p.getElementById(n))&&R(t,o)&&o.id===n)return i.push(o),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((n=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(n)),i}if(w.qsa&&!U[e+" "]&&(!P||!P.test(e))){if(1!==f)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace($e,we):t.setAttribute("id",a=G),s=(d=k(e)).length;s--;)d[s]="#"+a+" "+h(d[s]);c=d.join(","),p=be.test(e)&&u(t.parentNode)||t}if(c)try{return Q.apply(i,p.querySelectorAll(c)),i}catch(e){}finally{a===G&&t.removeAttribute("id")}}}return S(e.replace(ae,"$1"),t,i,r)}function i(){function e(i,r){return t.push(i+" ")>x.cacheLength&&delete e[t.shift()],e[i+" "]=r}var t=[];return e}function r(e){return e[G]=!0,e}function n(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),r=i.length;r--;)x.attrHandle[i[r]]=t}function o(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){
var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!je(t))!==e)}}function c(e){return r((function(t){return t=+t,r((function(i,r){for(var n,s=e([],i.length,t),o=s.length;o--;)i[n=s[o]]&&(i[n]=!(r[n]=i[n]))}))}))}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function p(){}function h(e){for(var t=0,i=e.length,r="";t<i;t++)r+=e[t].value;return r}function f(e,t,i){var r=t.dir,n=t.next,s=n||r,o=i&&"parentNode"===s,a=L++;return t.first?function(t,i,n){for(;t=t[r];)if(1===t.nodeType||o)return e(t,i,n)}:function(t,i,l){var d,c,u,p=[H,a];if(l){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,i,l))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=(u=t[G]||(t[G]={}))[t.uniqueID]||(u[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[r]||t;else{if((d=c[s])&&d[0]===H&&d[1]===a)return p[2]=d[2];if(c[s]=p,p[2]=e(t,i,l))return!0}}}function g(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function m(e,i,r){for(var n=0,s=i.length;n<s;n++)t(e,i[n],r);return r}function v(e,t,i,r,n){for(var s,o=[],a=0,l=e.length,d=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,r,n)||(o.push(s),d&&t.push(a)));return o}function b(e,t,i,n,s,o){return n&&!n[G]&&(n=b(n)),s&&!s[G]&&(s=b(s,o)),r((function(r,o,a,l){var d,c,u,p=[],h=[],f=o.length,g=r||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!r&&t?g:v(g,p,e,a,l),_=i?s||(r?e:f||n)?[]:o:b;if(i&&i(b,_,a,l),n)for(d=v(_,h),n(d,[],a,l),c=d.length;c--;)(u=d[c])&&(_[h[c]]=!(b[h[c]]=u));if(r){if(s||e){if(s){for(d=[],c=_.length;c--;)(u=_[c])&&d.push(b[c]=u);s(null,_=[],d,l)}for(c=_.length;c--;)(u=_[c])&&(d=s?ee(r,u):p[c])>-1&&(r[d]=!(o[d]=u))}}else _=v(_===o?_.splice(f,_.length):_),s?s(null,o,_,l):Q.apply(o,_)}))}function _(e){for(var t,i,r,n=e.length,s=x.relative[e[0].type],o=s||x.relative[" "],a=s?1:0,l=f((function(e){return e===t}),o,!0),d=f((function(e){return ee(t,e)>-1}),o,!0),c=[function(e,i,r){var n=!s&&(r||i!==I)||((t=i).nodeType?l(e,i,r):d(e,i,r));return t=null,n}];a<n;a++)if(i=x.relative[e[a].type])c=[f(g(c),i)];else{if((i=x.filter[e[a].type].apply(null,e[a].matches))[G]){for(r=++a;r<n&&!x.relative[e[r].type];r++);return b(a>1&&g(c),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),i,a<r&&_(e.slice(a,r)),r<n&&_(e=e.slice(r)),r<n&&h(e))}c.push(i)}return g(c)}function y(e,i){var n=i.length>0,s=e.length>0,o=function(r,o,a,l,d){var c,u,p,h=0,f="0",g=r&&[],m=[],b=I,_=r||s&&x.find.TAG("*",d),y=H+=null==b?1:Math.random()||.1,$=_.length;for(d&&(I=o===M||o||d);f!==$&&null!=(c=_[f]);f++){if(s&&c){for(u=0,o||c.ownerDocument===M||(A(c),a=!O);p=e[u++];)if(p(c,o||M,a)){l.push(c);break}d&&(H=y)}n&&((c=!p&&c)&&h--,r&&g.push(c))}if(h+=f,n&&f!==h){for(u=0;p=i[u++];)p(g,m,o,a);if(r){if(h>0)for(;f--;)g[f]||m[f]||(m[f]=X.call(l));m=v(m)}Q.apply(l,m),d&&!r&&m.length>0&&h+i.length>1&&t.uniqueSort(l)}return d&&(H=y,I=b),g};return n?r(o):o}var $,w,x,j,D,k,C,S,I,T,q,A,M,F,O,P,N,E,R,G="sizzle"+1*new Date,z=e.document,H=0,L=0,W=i(),B=i(),U=i(),V=function(e,t){return e===t&&(q=!0),0},Y={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Q=K.push,Z=K.slice,ee=function(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ue=new RegExp(se),pe=new RegExp("^"+re+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ye=function(e,t,i){var r="0x"+t-65536;return r!=r||i?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},$e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){A()},je=f((function(e){return!0===e.disabled}),{dir:"parentNode",next:"legend"});try{Q.apply(K=Z.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(e){Q={apply:K.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}for($ in w=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,i,r=e?e.ownerDocument||e:z;return r!==M&&9===r.nodeType&&r.documentElement?(F=(M=r).documentElement,O=!D(M),z!==M&&(i=M.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xe,!1):i.attachEvent&&i.attachEvent("onunload",xe)),w.attributes=n((function(e){return e.className="i",!e.getAttribute("className")})),w.getElementsByTagName=n((function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length})),w.getElementsByClassName=me.test(M.getElementsByClassName),w.getById=n((function(e){return F.appendChild(e).id=G,!M.getElementsByName||!M.getElementsByName(G).length})),w.getById?(x.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var i=t.getElementById(e);return i?[i]:[]}},x.filter.ID=function(e){var t=e.replace(_e,ye);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(_e,ye);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,r=[],n=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[n++];)1===i.nodeType&&r.push(i);return r}return s},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},N=[],P=[],(w.qsa=me.test(M.querySelectorAll))&&(n((function(e){F.appendChild(e).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+G+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+G+"+*").length||P.push(".#.+[+~]")})),n((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ie+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),F.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")}))),(w.matchesSelector=me.test(E=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&n((function(e){w.disconnectedMatch=E.call(e,"*"),E.call(e,"[s!='']:x"),N.push("!=",se)})),P=P.length&&new RegExp(P.join("|")),N=N.length&&new RegExp(N.join("|")),t=me.test(F.compareDocumentPosition),R=t||me.test(F.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return q=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===M||e.ownerDocument===z&&R(z,e)?-1:t===M||t.ownerDocument===z&&R(z,t)?1:T?ee(T,e)-ee(T,t):0:4&i?-1:1)}:function(e,t){if(e===t)return q=!0,0;var i,r=0,n=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!n||!s)return e===M?-1:t===M?1:n?-1:s?1:T?ee(T,e)-ee(T,t):0;if(n===s)return o(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[r]===l[r];)r++;return r?o(a[r],l[r]):a[r]===z?-1:l[r]===z?1:0},M):M},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==M&&A(e),i=i.replace(ce,"='$1']"),w.matchesSelector&&O&&!U[i+" "]&&(!N||!N.test(i))&&(!P||!P.test(i)))try{var r=E.call(e,i);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(i,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&A(e);var i=x.attrHandle[t.toLowerCase()],r=i&&Y.call(x.attrHandle,t.toLowerCase())?i(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace($e,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],r=0,n=0;if(q=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(V),q){for(;t=e[n++];)t===e[n]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return T=null,e},j=t.getText=function(e){var t,i="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=j(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r++];)i+=j(t);return i},x=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&W(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,i,r){return function(n){var s=t.attr(n,e);return null==s?"!="===i:!i||(s+="","="===i?s===r:"!="===i?s!==r:"^="===i?r&&0===s.indexOf(r):"*="===i?r&&s.indexOf(r)>-1:"$="===i?r&&s.slice(-r.length)===r:"~="===i?(" "+s.replace(oe," ")+" ").indexOf(r)>-1:"|="===i&&(s===r||s.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,i,r,n){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var d,c,u,p,h,f,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,_=!1;if(m){if(s){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(_=(h=(d=(c=(u=(p=m)[G]||(p[G]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===H&&d[1])&&d[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(_=h=0)||f.pop();)if(1===p.nodeType&&++_&&p===t){c[e]=[H,h,_];break}}else if(b&&(_=h=(d=(c=(u=(p=t)[G]||(p[G]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]||[])[0]===H&&d[1]),!1===_)for(;(p=++h&&p&&p[g]||(_=h=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(b&&((c=(u=p[G]||(p[G]={}))[p.uniqueID]||(u[p.uniqueID]={}))[e]=[H,_]),p!==t)););return(_-=n)===r||_%r==0&&_/r>=0}}},PSEUDO:function(e,i){var n,s=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[G]?s(i):s.length>1?(n=[e,e,"",i],x.setFilters.hasOwnProperty(e.toLowerCase())?r((function(e,t){for(var r,n=s(e,i),o=n.length;o--;)e[r=ee(e,n[o])]=!(t[r]=n[o])})):function(e){return s(e,0,n)}):s}},pseudos:{not:r((function(e){var t=[],i=[],n=C(e.replace(ae,"$1"));return n[G]?r((function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}})),has:r((function(e){return function(i){return t(e,i).length>0}})),contains:r((function(e){return e=e.replace(_e,ye),function(t){return(t.textContent||t.innerText||j(t)).indexOf(e)>-1}})),lang:r((function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_e,ye).toLowerCase(),function(t){var i;do{if(i=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===F},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:d(!1),disabled:d(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c((function(){return[0]})),last:c((function(e,t){return[t-1]})),eq:c((function(e,t,i){return[i<0?i+t:i]})),even:c((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:c((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:c((function(e,t,i){for(var r=i<0?i+t:i;--r>=0;)e.push(r);return e})),gt:c((function(e,t,i){for(var r=i<0?i+t:i;++r<t;)e.push(r);return e}))}},x.pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[$]=a($);for($ in{submit:!0,reset:!0})x.pseudos[$]=l($);return p.prototype=x.filters=x.pseudos,x.setFilters=new p,k=t.tokenize=function(e,i){var r,n,s,o,a,l,d,c=B[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],d=x.preFilter;a;){for(o in r&&!(n=le.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(s=[])),r=!1,(n=de.exec(a))&&(r=n.shift(),s.push({value:r,type:n[0].replace(ae," ")}),a=a.slice(r.length)),x.filter)!(n=he[o].exec(a))||d[o]&&!(n=d[o](n))||(r=n.shift(),s.push({value:r,type:o,matches:n}),a=a.slice(r.length));if(!r)break}return i?a.length:a?t.error(e):B(e,l).slice(0)},C=t.compile=function(e,t){var i,r=[],n=[],s=U[e+" "];if(!s){for(t||(t=k(e)),i=t.length;i--;)(s=_(t[i]))[G]?r.push(s):n.push(s);(s=U(e,y(n,r))).selector=e}return s},S=t.select=function(e,t,i,r){var n,s,o,a,l,d="function"==typeof e&&e,c=!r&&k(e=d.selector||e);if(i=i||[],1===c.length){if((s=c[0]=c[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&w.getById&&9===t.nodeType&&O&&x.relative[s[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(_e,ye),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(n=he.needsContext.test(e)?0:s.length;n--&&(o=s[n],!x.relative[a=o.type]);)if((l=x.find[a])&&(r=l(o.matches[0].replace(_e,ye),be.test(s[0].type)&&u(t.parentNode)||t))){if(s.splice(n,1),!(e=r.length&&h(s)))return Q.apply(i,r),i;break}}return(d||C(e,c))(r,t,!O,i,!t||be.test(e)&&u(t.parentNode)||t),i},w.sortStable=G.split("").sort(V).join("")===G,w.detectDuplicates=!!q,A(),w.sortDetached=n((function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))})),n((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||s("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),w.attributes&&n((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||s("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),n((function(e){return null==e.getAttribute("disabled")}))||s(te,(function(e,t,i){var r;if(!i)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),t}(e);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains,pe.escapeSelector=ve.escape;var be=function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&pe(e).is(i))break;r.push(e)}return r},_e=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ye=pe.expr.match.needsContext,$e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,we=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?pe.find.matchesSelector(r,e)?[r]:[]:pe.find.matches(e,pe.grep(t,(function(e){return 1===e.nodeType})))},pe.fn.extend({find:function(e){var t,i,r=this.length,n=this;if("string"!=typeof e)return this.pushStack(pe(e).filter((function(){for(t=0;t<r;t++)if(pe.contains(n[t],this))return!0})));for(i=this.pushStack([]),t=0;t<r;t++)pe.find(e,n[t],i);return r>1?pe.uniqueSort(i):i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ye.test(e)?pe(e):e||[],!1).length}});var xe,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pe.fn.init=function(e,t,i){var r,n;if(!e)return this;if(i=i||xe,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),$e.test(r[1])&&pe.isPlainObject(t))for(r in t)pe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(n=Z.getElementById(r[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==i.ready?i.ready(e):e(pe):pe.makeArray(e,this)}).prototype=pe.fn,xe=pe(Z);var De=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(pe.contains(this,t[e]))return!0}))},closest:function(e,t){var i,r=0,n=this.length,s=[],o="string"!=typeof e&&pe(e);if(!ye.test(e))for(;r<n;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&pe.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?pe.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?ne.call(pe(e),this[0]):ne.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,i){return be(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,i){return be(e,"nextSibling",i)},prevUntil:function(e,t,i){return be(e,"previousSibling",i)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},(function(e,t){pe.fn[e]=function(i,r){var n=pe.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=pe.filter(r,n)),this.length>1&&(ke[e]||pe.uniqueSort(n),De.test(e)&&n.reverse()),this.pushStack(n)}}));var Ce=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,i,r,n,s=[],a=[],l=-1,d=function(){for(n=e.once,r=t=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),t=!1,n&&(s=i?[]:"")},c={add:function(){return s&&(i&&!t&&(l=s.length-1,a.push(i)),function t(i){pe.each(i,(function(i,r){pe.isFunction(r)?e.unique&&c.has(r)||s.push(r):r&&r.length&&"string"!==pe.type(r)&&t(r)}))}(arguments),i&&!t&&d()),this},remove:function(){return pe.each(arguments,(function(e,t){for(var i;(i=pe.inArray(t,s,i))>-1;)s.splice(i,1),i<=l&&l--})),this},has:function(e){return e?pe.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return n=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return n=a=[],i||t||(s=i=""),this},locked:function(){return!!n},fireWith:function(e,i){return n||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},pe.extend({Deferred:function(t){var i=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred((function(t){pe.each(i,(function(i,r){var n=pe.isFunction(e[r[4]])&&e[r[4]];s[r[1]]((function(){var e=n&&n.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,n?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,n){function s(t,i,r,n){return function(){var d=this,c=arguments,u=function(){var e,u;if(!(t<o)){if((e=r.apply(d,c))===i.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(u)?n?u.call(e,s(o,i,a,n),s(o,i,l,n)):(o++,u.call(e,s(o,i,a,n),s(o,i,l,n),s(o,i,a,i.notifyWith))):(r!==a&&(d=void 0,c=[e]),(n||i.resolveWith)(d,c))}},p=n?u:function(){try{u()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,p.stackTrace),t+1>=o&&(r!==l&&(d=void 0,c=[e]),i.rejectWith(d,c))}};t?p():(pe.Deferred.getStackHook&&(p.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(p))}}var o=0;return pe.Deferred((function(e){i[0][3].add(s(0,e,pe.isFunction(n)?n:a,e.notifyWith)),i[1][3].add(s(0,e,pe.isFunction(t)?t:a)),i[2][3].add(s(0,e,pe.isFunction(r)?r:l))})).promise()},promise:function(e){return null!=e?pe.extend(e,n):n}},s={};return pe.each(i,(function(e,t){var o=t[2],a=t[5];n[t[1]]=o.add,a&&o.add((function(){r=a}),i[3-e][2].disable,i[0][2].lock),o.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=o.fireWith})),n.promise(s),t&&t.call(s,s),s},when:function(e){var t=arguments.length,i=t,r=Array(i),n=te.call(arguments),s=pe.Deferred(),o=function(e){return function(i){r[e]=this,n[e]=arguments.length>1?te.call(arguments):i,--t||s.resolveWith(r,n)}};if(t<=1&&(d(e,s.done(o(i)).resolve,s.reject),"pending"===s.state()||pe.isFunction(n[i]&&n[i].then)))return s.then();for(;i--;)d(n[i],o(i),s.reject);return s.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&Se.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},pe.readyException=function(t){e.setTimeout((function(){throw t}))};var Ie=pe.Deferred();pe.fn.ready=function(e){return Ie.then(e).catch((function(e){pe.readyException(e)})),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||Ie.resolveWith(Z,[pe]))}}),pe.ready.then=Ie.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?e.setTimeout(pe.ready):(Z.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var Te=function(e,t,i,r,n,s,o){var a=0,l=e.length,d=null==i;if("object"===pe.type(i))for(a in n=!0,i)Te(e,t,a,i[a],!0,s,o);else if(void 0!==r&&(n=!0,pe.isFunction(r)||(o=!0),d&&(o?(t.call(e,r),t=null):(d=t,t=function(e,t,i){return d.call(pe(e),i)})),t))for(;a<l;a++)t(e[a],i,o?r:r.call(e[a],a,t(e[a],i)));return n?e:d?t.call(e):l?t(e[0],i):s},qe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};u.uid=1,u.prototype={cache:function(e){var t=e[this.expando];return t||(t={},qe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var r,n=this.cache(e);if("string"==typeof t)n[pe.camelCase(t)]=i;else for(r in t)n[pe.camelCase(r)]=t[r];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r=e[this.expando];if(void 0!==r){if(void 0!==t){i=(t=pe.isArray(t)?t.map(pe.camelCase):(t=pe.camelCase(t))in r?[t]:t.match(Ce)||[]).length;for(;i--;)delete r[t[i]]}(void 0===t||pe.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Ae=new u,Me=new u,Fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;pe.extend({hasData:function(e){return Me.hasData(e)||Ae.hasData(e)},data:function(e,t,i){return Me.access(e,t,i)},removeData:function(e,t){Me.remove(e,t)},_data:function(e,t,i){return Ae.access(e,t,i)},_removeData:function(e,t){Ae.remove(e,t)}}),pe.fn.extend({data:function(e,t){var i,r,n,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(n=Me.get(s),1===s.nodeType&&!Ae.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(r=o[i].name).indexOf("data-")&&(r=pe.camelCase(r.slice(5)),p(s,r,n[r]));Ae.set(s,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each((function(){Me.set(this,e)})):Te(this,(function(t){var i;if(s&&void 0===t)return void 0!==(i=Me.get(s,e))||void 0!==(i=p(s,e))?i:void 0;this.each((function(){Me.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Me.remove(this,e)}))}}),pe.extend({queue:function(e,t,i){var r;if(e)return t=(t||"fx")+"queue",r=Ae.get(e,t),i&&(!r||pe.isArray(i)?r=Ae.access(e,t,pe.makeArray(i)):r.push(i)),r||[]},dequeue:function(e,t){t=t||"fx";var i=pe.queue(e,t),r=i.length,n=i.shift(),s=pe._queueHooks(e,t),o=function(){pe.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete s.stop,n.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ae.get(e,i)||Ae.access(e,i,{empty:pe.Callbacks("once memory").add((function(){Ae.remove(e,[t+"queue",i])}))})}}),pe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?pe.queue(this[0],e):void 0===t?this:this.each((function(){var i=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&pe.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){pe.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=pe.Deferred(),s=this,o=this.length,a=function(){--r||n.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=Ae.get(s[o],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},Ge=function(e,t,i,r){var n,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in n=i.apply(e,r||[]),t)e.style[s]=o[s];return n},ze={};pe.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Re(this)?pe(this).show():pe(this).hide()}))}});var He=/^(?:checkbox|radio)$/i,Le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,We=/^$|\/(?:java|ecma)script/i,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td;var Ue,Ve,Ye=/<|&#?\w+;/;Ue=Z.createDocumentFragment().appendChild(Z.createElement("div")),(Ve=Z.createElement("input")).setAttribute("type","radio"),Ve.setAttribute("checked","checked"),Ve.setAttribute("name","t"),Ue.appendChild(Ve),ce.checkClone=Ue.cloneNode(!0).cloneNode(!0).lastChild.checked,Ue.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!Ue.cloneNode(!0).lastChild.defaultValue;var Ke=Z.documentElement,Xe=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,i,r,n){var s,o,a,l,d,c,u,p,h,f,g,m=Ae.get(e);if(m)for(i.handler&&(i=(s=i).handler,n=s.selector),n&&pe.find.matchesSelector(Ke,n),i.guid||(i.guid=pe.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return void 0!==pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(Ce)||[""]).length;d--;)h=g=(a=Qe.exec(t[d])||[])[1],f=(a[2]||"").split(".").sort(),h&&(u=pe.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,u=pe.event.special[h]||{},c=pe.extend({type:h,origType:g,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&pe.expr.match.needsContext.test(n),namespace:f.join(".")},s),(p=l[h])||((p=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,f,o)||e.addEventListener&&e.addEventListener(h,o)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),n?p.splice(p.delegateCount++,0,c):p.push(c),pe.event.global[h]=!0)},remove:function(e,t,i,r,n){var s,o,a,l,d,c,u,p,h,f,g,m=Ae.hasData(e)&&Ae.get(e);if(m&&(l=m.events)){for(d=(t=(t||"").match(Ce)||[""]).length;d--;)if(h=g=(a=Qe.exec(t[d])||[])[1],f=(a[2]||"").split(".").sort(),h){for(u=pe.event.special[h]||{},p=l[h=(r?u.delegateType:u.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)c=p[s],!n&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(s,1),c.selector&&p.delegateCount--,u.remove&&u.remove.call(e,c));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||pe.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)pe.event.remove(e,h+t[d],i,r,!0);pe.isEmptyObject(l)&&Ae.remove(e,"handle events")}},dispatch:function(e){var t,i,r,n,s,o,a=pe.event.fix(e),l=new Array(arguments.length),d=(Ae.get(this,"events")||{})[a.type]||[],c=pe.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(o=pe.event.handlers.call(this,a,d),t=0;(n=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,
i=0;(s=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(r=((pe.event.special[s.origType]||{}).handle||s.handler).apply(n.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,r,n,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],i=0;i<a;i++)void 0===r[n=(s=t[i]).selector+" "]&&(r[n]=s.needsContext?pe(n,this).index(l)>-1:pe.find(n,this,null,[l]).length),r[n]&&r.push(s);r.length&&o.push({elem:l,handlers:r})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==$()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===$()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_:y,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,s=e.handleObj;return n&&(n===r||pe.contains(r,n))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}})),pe.fn.extend({on:function(e,t,i,r){return w(this,e,t,i,r)},one:function(e,t,i,r){return w(this,e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,pe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=y),this.each((function(){pe.event.remove(this,e,i,t)}))}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,i){var r,n,s,o,a=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(o=m(a),r=0,n=(s=m(e)).length;r<n;r++)C(s[r],o[r]);if(t)if(i)for(s=s||m(e),o=o||m(a),r=0,n=s.length;r<n;r++)k(s[r],o[r]);else k(e,a);return(o=m(a,"script")).length>0&&v(o,!l&&m(e,"script")),a},cleanData:function(e){for(var t,i,r,n=pe.event.special,s=0;void 0!==(i=e[s]);s++)if(qe(i)){if(t=i[Ae.expando]){if(t.events)for(r in t.events)n[r]?pe.event.remove(i,r):pe.removeEvent(i,r,t.handle);i[Ae.expando]=void 0}i[Me.expando]&&(i[Me.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return I(this,e,!0)},remove:function(e){return I(this,e)},text:function(e){return Te(this,(function(e){return void 0===e?pe.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return S(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)}))},prepend:function(){return S(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return S(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return S(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return pe.clone(this,e,t)}))},html:function(e){return Te(this,(function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!et.test(e)&&!Be[(Le.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i<r;i++)1===(t=this[i]||{}).nodeType&&(pe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,(function(t){var i=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(m(this)),i&&i.replaceChild(t,this))}),e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){pe.fn[e]=function(e){for(var i,r=[],n=pe(e),s=n.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),pe(n[o])[t](i),re.apply(r,i.get());return this.pushStack(r)}}));var nt=/^margin/,st=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),ot=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ke.appendChild(o);var t=e.getComputedStyle(a);i="1%"!==t.top,s="2px"===t.marginLeft,r="4px"===t.width,a.style.marginRight="50%",n="4px"===t.marginRight,Ke.removeChild(o),a=null}}var i,r,n,s,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),pe.extend(ce,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),n},reliableMarginLeft:function(){return t(),s}}))}();var at=/^(none|table(?!-c[ea]).+)/,lt={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","Moz","ms"],ut=Z.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=T(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,s,o,a=pe.camelCase(t),l=e.style;if(t=pe.cssProps[a]||(pe.cssProps[a]=A(a)||a),o=pe.cssHooks[t]||pe.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(n=o.get(e,!1,r))?n:l[t];"string"===(s=typeof i)&&(n=Ne.exec(i))&&n[1]&&(i=h(e,t,n),s="number"),null!=i&&i==i&&("number"===s&&(i+=n&&n[3]||(pe.cssNumber[a]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,r))||(l[t]=i))}},css:function(e,t,i,r){var n,s,o,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=A(a)||a),(o=pe.cssHooks[t]||pe.cssHooks[a])&&"get"in o&&(n=o.get(e,!0,i)),void 0===n&&(n=T(e,t,r)),"normal"===n&&t in dt&&(n=dt[t]),""===i||i?(s=parseFloat(n),!0===i||isFinite(s)?s||0:n):n}}),pe.each(["height","width"],(function(e,t){pe.cssHooks[t]={get:function(e,i,r){if(i)return!at.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?O(e,t,r):Ge(e,lt,(function(){return O(e,t,r)}))},set:function(e,i,r){var n,s=r&&ot(e),o=r&&F(e,t,r,"border-box"===pe.css(e,"boxSizing",!1,s),s);return o&&(n=Ne.exec(i))&&"px"!==(n[3]||"px")&&(e.style[t]=i,i=pe.css(e,t)),M(e,i,o)}}})),pe.cssHooks.marginLeft=q(ce.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),pe.each({margin:"",padding:"",border:"Width"},(function(e,t){pe.cssHooks[e+t]={expand:function(i){for(var r=0,n={},s="string"==typeof i?i.split(" "):[i];r<4;r++)n[e+Ee[r]+t]=s[r]||s[r-2]||s[0];return n}},nt.test(e)||(pe.cssHooks[e+t].set=M)})),pe.fn.extend({css:function(e,t){return Te(this,(function(e,t,i){var r,n,s={},o=0;if(pe.isArray(t)){for(r=ot(e),n=t.length;o<n;o++)s[t[o]]=pe.css(e,t[o],!1,r);return s}return void 0!==i?pe.style(e,t,i):pe.css(e,t)}),e,t,arguments.length>1)}}),pe.Tween=P,P.prototype={constructor:P,init:function(e,t,i,r,n,s){this.elem=e,this.prop=i,this.easing=n||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(pe.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=P.prototype.init,pe.fx.step={};var pt,ht,ft=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;pe.Animation=pe.extend(L,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,Ne.exec(t),i),i}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var i,r=0,n=e.length;r<n;r++)i=e[r],L.tweeners[i]=L.tweeners[i]||[],L.tweeners[i].unshift(t)},prefilters:[z],prefilter:function(e,t){t?L.prefilters.unshift(e):L.prefilters.push(e)}}),pe.speed=function(e,t,i){var r=e&&"object"==typeof e?pe.extend({},e):{complete:i||!i&&t||pe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||Z.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in pe.fx.speeds?pe.fx.speeds[r.duration]:pe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){pe.isFunction(r.old)&&r.old.call(this),r.queue&&pe.dequeue(this,r.queue)},r},pe.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=pe.isEmptyObject(e),s=pe.speed(t,i,r),o=function(){var t=L(this,pe.extend({},e),s);(n||Ae.get(this,"finish"))&&t.stop(!0)};return o.finish=o,n||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,n=null!=e&&e+"queueHooks",s=pe.timers,o=Ae.get(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&gt.test(n)&&r(o[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));!t&&i||pe.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,i=Ae.get(this),r=i[e+"queue"],n=i[e+"queueHooks"],s=pe.timers,o=r?r.length:0;for(i.finish=!0,pe.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish}))}}),pe.each(["toggle","show","hide"],(function(e,t){var i=pe.fn[t];pe.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,r,n)}})),pe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){pe.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}})),pe.timers=[],pe.fx.tick=function(){var e,t=0,i=pe.timers;for(pt=pe.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||pe.fx.stop(),pt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(N):e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,i){return t=pe.fx&&pe.fx.speeds[t]||t,i=i||"fx",this.queue(i,(function(i,r){var n=e.setTimeout(i,t);r.stop=function(){e.clearTimeout(n)}}))},function(){var e=Z.createElement("input"),t=Z.createElement("select").appendChild(Z.createElement("option"));e.type="checkbox",ce.checkOn=""!==e.value,ce.optSelected=t.selected,(e=Z.createElement("input")).value="t",e.type="radio",ce.radioValue="t"===e.value}();var mt,vt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Te(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){pe.removeAttr(this,e)}))}}),pe.extend({attr:function(e,t,i){var r,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?pe.prop(e,t,i):(1===s&&pe.isXMLDoc(e)||(n=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?mt:void 0)),void 0!==i?null===i?void pe.removeAttr(e,t):n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):n&&"get"in n&&null!==(r=n.get(e,t))?r:null==(r=pe.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,r=0,n=t&&t.match(Ce);if(n&&1===e.nodeType)for(;i=n[r++];)e.removeAttribute(i)}}),mt={set:function(e,t,i){return!1===t?pe.removeAttr(e,i):e.setAttribute(i,i),i}},pe.each(pe.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=vt[t]||pe.find.attr;vt[t]=function(e,t,r){var n,s,o=t.toLowerCase();return r||(s=vt[o],vt[o]=n,n=null!=i(e,t,r)?o:null,vt[o]=s),n}}));var bt=/^(?:input|select|textarea|button)$/i,_t=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Te(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[pe.propFix[e]||e]}))}}),pe.extend({prop:function(e,t,i){var r,n,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,n=pe.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):bt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){pe.propFix[this.toLowerCase()]=this}));var yt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,i,r,n,s,o,a,l=0;if(pe.isFunction(e))return this.each((function(t){pe(this).addClass(e.call(this,t,W(this)))}));if("string"==typeof e&&e)for(t=e.match(Ce)||[];i=this[l++];)if(n=W(i),r=1===i.nodeType&&(" "+n+" ").replace(yt," ")){for(o=0;s=t[o++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");n!==(a=pe.trim(r))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,r,n,s,o,a,l=0;if(pe.isFunction(e))return this.each((function(t){pe(this).removeClass(e.call(this,t,W(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ce)||[];i=this[l++];)if(n=W(i),r=1===i.nodeType&&(" "+n+" ").replace(yt," ")){for(o=0;s=t[o++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");n!==(a=pe.trim(r))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each((function(i){pe(this).toggleClass(e.call(this,i,W(this),t),t)})):this.each((function(){var t,r,n,s;if("string"===i)for(r=0,n=pe(this),s=e.match(Ce)||[];t=s[r++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==e&&"boolean"!==i||((t=W(this))&&Ae.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ae.get(this,"__className__")||""))}))},hasClass:function(e){var t,i,r=0;for(t=" "+e+" ";i=this[r++];)if(1===i.nodeType&&(" "+W(i)+" ").replace(yt," ").indexOf(t)>-1)return!0;return!1}});var $t=/\r/g,wt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(e){var t,i,r,n=this[0];return arguments.length?(r=pe.isFunction(e),this.each((function(i){var n;1===this.nodeType&&(null==(n=r?e.call(this,i,pe(this).val()):e)?n="":"number"==typeof n?n+="":pe.isArray(n)&&(n=pe.map(n,(function(e){return null==e?"":e+""}))),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))}))):n?(t=pe.valHooks[n.type]||pe.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:"string"==typeof(i=n.value)?i.replace($t,""):null==i?"":i:void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(wt," ")}},select:{get:function(e){for(var t,i,r=e.options,n=e.selectedIndex,s="select-one"===e.type,o=s?null:[],a=s?n+1:r.length,l=n<0?a:s?n:0;l<a;l++)if(((i=r[l]).selected||l===n)&&!i.disabled&&(!i.parentNode.disabled||!pe.nodeName(i.parentNode,"optgroup"))){if(t=pe(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,r,n=e.options,s=pe.makeArray(t),o=n.length;o--;)((r=n[o]).selected=pe.inArray(pe.valHooks.option.get(r),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),pe.each(["radio","checkbox"],(function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},ce.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var xt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,i,r,n){var s,o,a,l,d,c,u,p=[r||Z],h=ae.call(t,"type")?t.type:t,f=ae.call(t,"namespace")?t.namespace.split("."):[];if(o=a=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!xt.test(h+pe.event.triggered)&&(h.indexOf(".")>-1&&(f=h.split("."),h=f.shift(),f.sort()),d=h.indexOf(":")<0&&"on"+h,(t=t[pe.expando]?t:new pe.Event(h,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:pe.makeArray(i,[t]),u=pe.event.special[h]||{},n||!u.trigger||!1!==u.trigger.apply(r,i))){if(!n&&!u.noBubble&&!pe.isWindow(r)){for(l=u.delegateType||h,xt.test(l+h)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(r.ownerDocument||Z)&&p.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=p[s++])&&!t.isPropagationStopped();)t.type=s>1?l:u.bindType||h,(c=(Ae.get(o,"events")||{})[t.type]&&Ae.get(o,"handle"))&&c.apply(o,i),(c=d&&o[d])&&c.apply&&qe(o)&&(t.result=c.apply(o,i),!1===t.result&&t.preventDefault());return t.type=h,n||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(p.pop(),i)||!qe(r)||d&&pe.isFunction(r[h])&&!pe.isWindow(r)&&((a=r[d])&&(r[d]=null),pe.event.triggered=h,r[h](),pe.event.triggered=void 0,a&&(r[d]=a)),t.result}},simulate:function(e,t,i){var r=pe.extend(new pe.Event,i,{type:e,isSimulated:!0});pe.event.trigger(r,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each((function(){pe.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return pe.event.trigger(e,t,i,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){pe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in e,ce.focusin||pe.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var r=this.ownerDocument||this,n=Ae.access(r,t);n||r.addEventListener(e,i,!0),Ae.access(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=Ae.access(r,t)-1;n?Ae.access(r,t,n):(r.removeEventListener(e,i,!0),Ae.remove(r,t))}}}));var jt=e.location,Dt=pe.now(),kt=/\?/;pe.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),i};var Ct=/\[\]$/,St=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var i,r=[],n=function(e,t){var i=pe.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,(function(){n(this.name,this.value)}));else for(i in e)B(i,e[i],t,n);return r.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&Tt.test(this.nodeName)&&!It.test(e)&&(this.checked||!He.test(e))})).map((function(e,t){var i=pe(this).val();return null==i?null:pe.isArray(i)?pe.map(i,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:i.replace(St,"\r\n")}})).get()}});var qt=/%20/g,At=/#.*$/,Mt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Nt=/^\/\//,Et={},Rt={},Gt="*/".concat("*"),zt=Z.createElement("a");zt.href=jt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:Ot.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,pe.ajaxSettings),t):Y(pe.ajaxSettings,e)},ajaxPrefilter:U(Et),ajaxTransport:U(Rt),ajax:function(t,i){function r(t,i,r,a){var d,p,h,y,$,w=i;c||(c=!0,l&&e.clearTimeout(l),n=void 0,o=a||"",x.readyState=t>0?4:0,d=t>=200&&t<300||304===t,r&&(y=K(f,x,r)),y=X(f,y,x,d),d?(f.ifModified&&(($=x.getResponseHeader("Last-Modified"))&&(pe.lastModified[s]=$),($=x.getResponseHeader("etag"))&&(pe.etag[s]=$)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=y.state,p=y.data,d=!(h=y.error))):(h=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(i||w)+"",d?v.resolveWith(g,[p,w,x]):v.rejectWith(g,[x,w,h]),x.statusCode(_),_=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[x,f,d?p:h]),b.fireWith(g,[x,w]),u&&(m.trigger("ajaxComplete",[x,f]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var n,s,o,a,l,d,c,u,p,h,f=pe.ajaxSetup({},i),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?pe(g):pe.event,v=pe.Deferred(),b=pe.Callbacks("once memory"),_=f.statusCode||{},y={},$={},w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Ft.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=$[e.toLowerCase()]=$[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)x.always(e[x.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),r(0,t),this}};if(v.promise(x),f.url=((t||f.url||jt.href)+"").replace(Nt,jt.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Ce)||[""],null==f.crossDomain){d=Z.createElement("a");try{d.href=f.url,d.href=d.href,f.crossDomain=zt.protocol+"//"+zt.host!=d.protocol+"//"+d.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pe.param(f.data,f.traditional)),V(Et,f,i,x),c)return x;for(p in(u=pe.event&&f.global)&&0==pe.active++&&pe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pt.test(f.type),s=f.url.replace(At,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(qt,"+")):(h=f.url.slice(s.length),f.data&&(s+=(kt.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(Mt,""),h=(kt.test(s)?"&":"?")+"_="+Dt+++h),f.url=s+h),f.ifModified&&(pe.lastModified[s]&&x.setRequestHeader("If-Modified-Since",pe.lastModified[s]),pe.etag[s]&&x.setRequestHeader("If-None-Match",pe.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Gt+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(g,x,f)||c))return x.abort();if(w="abort",b.add(f.complete),x.done(f.success),x.fail(f.error),n=V(Rt,f,i,x)){if(x.readyState=1,u&&m.trigger("ajaxSend",[x,f]),c)return x;f.async&&f.timeout>0&&(l=e.setTimeout((function(){x.abort("timeout")}),f.timeout));try{c=!1,n.send(y,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return x},getJSON:function(e,t,i){return pe.get(e,t,i,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],(function(e,t){pe[t]=function(e,i,r,n){return pe.isFunction(i)&&(n=n||r,r=i,i=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:n,data:i,success:r},pe.isPlainObject(e)&&e))}})),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each((function(t){pe(this).wrapInner(e.call(this,t))})):this.each((function(){var t=pe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=pe.isFunction(e);return this.each((function(i){pe(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){pe(this).replaceWith(this.childNodes)})),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Lt=pe.ajaxSettings.xhr();ce.cors=!!Lt&&"withCredentials"in Lt,ce.ajax=Lt=!!Lt,pe.ajaxTransport((function(t){var i,r;if(ce.cors||Lt&&!t.crossDomain)return{send:function(n,s){var o,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];for(o in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(o,n[o]);i=function(e){return function(){i&&(i=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ht[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),r=a.onerror=i("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){i&&r()}))},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}})),pe.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),pe.ajaxTransport("script",(function(e){var t,i;if(e.crossDomain)return{send:function(r,n){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){i&&i()}}}));var Wt,Bt=[],Ut=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||pe.expando+"_"+Dt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",(function(t,i,r){var n,s,o,a=!1!==t.jsonp&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ut,"$1"+n):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return o||pe.error(n+" was not called"),o[0]},t.dataTypes[0]="json",s=e[n],e[n]=function(){o=arguments},r.always((function(){void 0===s?pe(e).removeProp(n):e[n]=s,t[n]&&(t.jsonpCallback=i.jsonpCallback,Bt.push(n)),o&&pe.isFunction(s)&&s(o[0]),o=s=void 0})),"script"})),ce.createHTMLDocument=((Wt=Z.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),pe.parseHTML=function(e,t,i){
return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(ce.createHTMLDocument?((r=(t=Z.implementation.createHTMLDocument("")).createElement("base")).href=Z.location.href,t.head.appendChild(r)):t=Z),s=!i&&[],(n=$e.exec(e))?[t.createElement(n[1])]:(n=b([e],t,s),s&&s.length&&pe(s).remove(),pe.merge([],n.childNodes)));var r,n,s},pe.fn.load=function(e,t,i){var r,n,s,o=this,a=e.indexOf(" ");return a>-1&&(r=pe.trim(e.slice(a)),e=e.slice(0,a)),pe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),o.length>0&&pe.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done((function(e){s=arguments,o.html(r?pe("<div>").append(pe.parseHTML(e)).find(r):e)})).always(i&&function(e,t){o.each((function(){i.apply(this,s||[e.responseText,t,e])}))}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){pe.fn[t]=function(e){return this.on(t,e)}})),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,(function(t){return e===t.elem})).length},pe.offset={setOffset:function(e,t,i){var r,n,s,o,a,l,d=pe.css(e,"position"),c=pe(e),u={};"static"===d&&(e.style.position="relative"),a=c.offset(),s=pe.css(e,"top"),l=pe.css(e,"left"),("absolute"===d||"fixed"===d)&&(s+l).indexOf("auto")>-1?(o=(r=c.position()).top,n=r.left):(o=parseFloat(s)||0,n=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,i,pe.extend({},a))),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+n),"using"in t?t.using.call(e,u):c.css(u)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){pe.offset.setOffset(this,e,t)}));var t,i,r,n,s=this[0];return s?s.getClientRects().length?(r=s.getBoundingClientRect()).width||r.height?(i=J(n=s.ownerDocument),t=n.documentElement,{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],r={top:0,left:0};return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+pe.css(e[0],"borderTopWidth",!0),left:r.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-pe.css(i,"marginTop",!0),left:t.left-r.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||Ke}))}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;pe.fn[e]=function(r){return Te(this,(function(e,r,n){var s=J(e);if(void 0===n)return s?s[t]:e[r];s?s.scrollTo(i?s.pageXOffset:n,i?n:s.pageYOffset):e[r]=n}),e,r,arguments.length)}})),pe.each(["top","left"],(function(e,t){pe.cssHooks[t]=q(ce.pixelPosition,(function(e,i){if(i)return i=T(e,t),st.test(i)?pe(e).position()[t]+"px":i}))})),pe.each({Height:"height",Width:"width"},(function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,r){pe.fn[r]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),a=i||(!0===n||!0===s?"margin":"border");return Te(this,(function(t,i,n){var s;return pe.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?pe.css(t,i,a):pe.style(t,i,n,a)}),t,o?n:void 0,o)}}))})),pe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return pe}));var Vt=e.jQuery,Yt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Yt),t&&e.jQuery===pe&&(e.jQuery=Vt),pe},t||(e.jQuery=e.$=pe),pe})),function(e,t){"use strict";var i;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var r=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,r){var n=e.Event(i);return t.trigger(n,r),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(r){var n,s,o,a,l,d;if(i.fire(r,"ajax:before")){if(a=r.data("with-credentials")||null,l=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){n=r.data("ujs:submit-button-formmethod")||r.attr("method"),s=r.data("ujs:submit-button-formaction")||r.attr("action"),o=e(r[0]).serializeArray();var c=r.data("ujs:submit-button");c&&(o.push(c),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(i.inputChangeSelector)?(n=r.data("method"),s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(i.buttonClickSelector)?(n=r.data("method")||"get",s=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(n=r.data("method"),s=i.href(r),o=r.data("params")||null);return d={type:n||"GET",data:o,dataType:l,beforeSend:function(e,n){if(n.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+n.accepts.script),!i.fire(r,"ajax:beforeSend",[e,n]))return!1;r.trigger("ajax:send",e)},success:function(e,t,i){r.trigger("ajax:success",[e,t,i])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,i){r.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(s)},a&&(d.xhrFields={withCredentials:a}),s&&(d.url=s),i.ajax(d)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(e){return!0}},handleMethod:function(r){var n=i.href(r),s=r.data("method"),o=r.attr("target"),a=i.csrfToken(),l=i.csrfParam(),d=e('<form method="post" action="'+n+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l===t||a===t||i.isCrossDomain(n)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each((function(){i.disableFormElement(e(this))}))},disableFormElement:function(e){var i,r;i=e.is("button")?"html":"val",(r=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[i]()),e[i](r)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each((function(){i.enableFormElement(e(this))}))},enableFormElement:function(e){var i=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[i](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,r=e.data("confirm"),n=!1;if(!r)return!0;if(i.fire(e,"confirm")){try{n=i.confirm(r)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=i.fire(e,"confirm:complete",[n])}return n&&t},blankInputs:function(t,i,r){var n,s,o,a=e(),l=i||"input,textarea",d=t.find(l),c={};return d.each((function(){(n=e(this)).is("input[type=radio]")?(o=n.attr("name"),c[o]||(0===t.find('input[type=radio]:checked[name="'+o+'"]').length&&(s=t.find('input[type=radio][name="'+o+'"]'),a=a.add(s)),c[o]=o)):(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):!!n.val())===r&&(a=a.add(n))})),!!a.length&&a},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var r=e.data("disable-with");r!==t&&(e.data("ujs:enable-with",e.html()),e.html(r)),e.bind("click.railsDisable",(function(e){return i.stopEverything(e)})),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},i.fire(r,"rails:attachBindings")&&(e.ajaxPrefilter((function(e,t,r){e.crossDomain||i.CSRFProtection(r)})),e(window).on("pageshow.rails",(function(){e(e.rails.enableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)})),e(e.rails.linkDisableSelector).each((function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)}))})),r.delegate(i.linkDisableSelector,"ajax:complete",(function(){i.enableElement(e(this))})),r.delegate(i.buttonDisableSelector,"ajax:complete",(function(){i.enableFormElement(e(this))})),r.delegate(i.linkClickSelector,"click.rails",(function(t){var r=e(this),n=r.data("method"),s=r.data("params"),o=t.metaKey||t.ctrlKey;if(!i.allowAction(r))return i.stopEverything(t);if(!o&&r.is(i.linkDisableSelector)&&i.disableElement(r),i.isRemote(r)){if(o&&(!n||"GET"===n)&&!s)return!0;var a=i.handleRemote(r);return!1===a?i.enableElement(r):a.fail((function(){i.enableElement(r)})),!1}return n?(i.handleMethod(r),!1):void 0})),r.delegate(i.buttonClickSelector,"click.rails",(function(t){var r=e(this);if(!i.allowAction(r)||!i.isRemote(r))return i.stopEverything(t);r.is(i.buttonDisableSelector)&&i.disableFormElement(r);var n=i.handleRemote(r);return!1===n?i.enableFormElement(r):n.fail((function(){i.enableFormElement(r)})),!1})),r.delegate(i.inputChangeSelector,"change.rails",(function(t){var r=e(this);return i.allowAction(r)&&i.isRemote(r)?(i.handleRemote(r),!1):i.stopEverything(t)})),r.delegate(i.formSubmitSelector,"submit.rails",(function(r){var n,s,o=e(this),a=i.isRemote(o);if(!i.allowAction(o))return i.stopEverything(r);if(o.attr("novalidate")===t)if(o.data("ujs:formnovalidate-button")===t){if((n=i.blankInputs(o,i.requiredInputSelector,!1))&&i.fire(o,"ajax:aborted:required",[n]))return i.stopEverything(r)}else o.data("ujs:formnovalidate-button",t);if(a){if(s=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout((function(){i.disableFormElements(o)}),13);var l=i.fire(o,"ajax:aborted:file",[s]);return l||setTimeout((function(){i.enableFormElements(o)}),13),l}return i.handleRemote(o),!1}setTimeout((function(){i.disableFormElements(o)}),13)})),r.delegate(i.formInputClickSelector,"click.rails",(function(t){var r=e(this);if(!i.allowAction(r))return i.stopEverything(t);var n=r.attr("name"),s=n?{name:n,value:r.val()}:null,o=r.closest("form");0===o.length&&(o=e("#"+r.attr("form"))),o.data("ujs:submit-button",s),o.data("ujs:formnovalidate-button",r.attr("formnovalidate")),o.data("ujs:submit-button-formaction",r.attr("formaction")),o.data("ujs:submit-button-formmethod",r.attr("formmethod"))})),r.delegate(i.formSubmitSelector,"ajax:send.rails",(function(t){this===t.target&&i.disableFormElements(e(this))})),r.delegate(i.formSubmitSelector,"ajax:complete.rails",(function(t){this===t.target&&i.enableFormElements(e(this))})),e((function(){i.refreshCSRFTokens()})))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}function i(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,(function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",i,s)}function s(){e.datepicker._isDisabledDatepicker(y.inline?y.dpDiv.parent()[0]:y.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,i){for(var r in e.extend(t,i),i)null==i[r]&&(t[r]=i[r]);return t}function a(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{};e.ui.version="1.12.0";var l,d=0,c=Array.prototype.slice;e.cleanData=(l=e.cleanData,function(t){var i,r,n;for(n=0;null!=(r=t[n]);n++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}l(t)}),e.widget=function(t,i,r){var n,s,o,a={},l=t.split(".")[0],d=l+"-"+(t=t.split(".")[1]);return r||(r=i,i=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[l]=e[l]||{},n=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,n,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(o=new i).options=e.widget.extend({},o.options),e.each(r,(function(t,r){e.isFunction(r)?a[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=n,t=r.apply(this,arguments),this._super=i,this._superApply=s,t}}():a[t]=r})),s.prototype=e.widget.extend(o,{widgetEventPrefix:n&&o.widgetEventPrefix||t},a,{constructor:s,namespace:l,widgetName:t,widgetFullName:d}),n?(e.each(n._childConstructors,(function(t,i){var r=i.prototype;e.widget(r.namespace+"."+r.widgetName,s,i._proto)})),delete n._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,r,n=c.call(arguments,1),s=0,o=n.length;s<o;s++)for(i in n[s])r=n[s][i],n[s].hasOwnProperty(i)&&void 0!==r&&(e.isPlainObject(r)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],r):e.widget.extend({},r):t[i]=r);return t},e.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;e.fn[t]=function(n){var s="string"==typeof n,o=c.call(arguments,1),a=this;return s?this.each((function(){var i,s=e.data(this,r);return"instance"===n?(a=s,!1):s?e.isFunction(s[n])&&"_"!==n.charAt(0)?(i=s[n].apply(s,o))!==s&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")})):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each((function(){var t=e.data(this,r);t?(t.option(n||{}),t._init&&t._init()):e.data(this,r,new i(n,this))}))),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=d++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,(function(e,i){t._removeClass(i,e)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var r,n,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(n=o[t]=e.widget.extend({},this.options[t]),s=0;s<r.length-1;s++)n[r[s]]=n[r[s]]||{},n=n[r[s]];if(t=r.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,r,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(r=e(n.get()),this._removeClass(n,i),r.addClass(this._classes({element:r,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var o,a;for(a=0;a<i.length;a++)o=n.classesElementLookup[i[a]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),n.classesElementLookup[i[a]]=o,r.push(i[a]),s&&t.classes[i[a]]&&r.push(t.classes[i[a]])}var r=[],n=this;return(t=e.extend({element:this.element,classes:this.options.classes||{}},t)).keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),r.join(" ")},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,r){r="boolean"==typeof r?r:i;var n="string"==typeof e||null===e,s={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:r};return s.element.toggleClass(this._classes(s),r),this},_on:function(t,i,r){var n,s=this;"boolean"!=typeof t&&(r=i,i=t,t=!1),r?(i=n=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,n=this.widget()),e.each(r,(function(r,o){function a(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?s[o]:o).apply(s,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),d=l[1]+s.eventNamespace,c=l[2];c?n.on(d,c,a):i.on(d,a)}))},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var n,s,o=this.options[t];if(r=r||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(n in s)n in i||(i[n]=s[n]);return this.element.trigger(i,r),!(e.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(r))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,i){e.Widget.prototype["_"+t]=function(r,n,s){var o;"string"==typeof n&&(n={effect:n});var a=n?!0===n||"number"==typeof n?i:n.effect||i:t;"number"==typeof(n=n||{})&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=s,n.delay&&r.delay(n.delay),o&&e.effects&&e.effects.effect[a]?r[t](n):a!==t&&r[a]?r[a](n.duration,n.easing,s):r.queue((function(i){e(this)[t](),s&&s.call(r[0]),i()}))}}));e.widget;!function(){function t(e,t,i){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function r(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,s,o=Math.max,a=Math.abs,l=Math.round,d=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,h=/%$/,f=e.fn.position;s=function(){var t=e("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),i=1.5===t.offset().top;return t.remove(),s=function(){return i},i},e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),t===(i=s.offsetWidth)&&(i=r[0].clientWidth),r.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),r=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:n,offset:!r&&!n?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var h,g,m,v,b,_,y=e(n.of),$=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo($),x=(n.collision||"flip").split(" "),j={};return _=r(y),y[0].preventDefault&&(n.at="left top"),g=_.width,m=_.height,v=_.offset,b=e.extend({},v),e.each(["my","at"],(function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=d.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=d.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),j[this]=[e?e[0]:0,t?t[0]:0],n[this]=[p.exec(i[0])[0],p.exec(i[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===n.at[0]?b.left+=g:"center"===n.at[0]&&(b.left+=g/2),"bottom"===n.at[1]?b.top+=m:"center"===n.at[1]&&(b.top+=m/2),h=t(j.at,g,m),b.left+=h[0],b.top+=h[1],this.each((function(){var r,d,c=e(this),u=c.outerWidth(),p=c.outerHeight(),f=i(this,"marginLeft"),_=i(this,"marginTop"),D=u+f+i(this,"marginRight")+w.width,k=p+_+i(this,"marginBottom")+w.height,C=e.extend({},b),S=t(j.my,c.outerWidth(),c.outerHeight());"right"===n.my[0]?C.left-=u:"center"===n.my[0]&&(C.left-=u/2),"bottom"===n.my[1]?C.top-=p:"center"===n.my[1]&&(C.top-=p/2),C.left+=S[0],C.top+=S[1],s()||(C.left=l(C.left),C.top=l(C.top)),r={marginLeft:f,marginTop:_},e.each(["left","top"],(function(t,i){e.ui.position[x[t]]&&e.ui.position[x[t]][i](C,{targetWidth:g,targetHeight:m,elemWidth:u,elemHeight:p,collisionPosition:r,collisionWidth:D,collisionHeight:k,offset:[h[0]+S[0],h[1]+S[1]],my:n.my,at:n.at,within:$,elem:c})})),n.using&&(d=function(e){var t=v.left-C.left,i=t+g-u,r=v.top-C.top,s=r+m-p,l={target:{element:y,left:v.left,top:v.top,width:g,height:m},element:{element:c,left:C.left,top:C.top,width:u,height:p},horizontal:i<0?"left":t>0?"right":"center",vertical:s<0?"top":r>0?"bottom":"middle"};g<u&&a(t+i)<g&&(l.horizontal="center"),m<p&&a(r+s)<m&&(l.vertical="middle"),o(a(t),a(i))>o(a(r),a(s))?l.important="horizontal":l.important="vertical",n.using.call(this,e,l)}),c.offset(e.extend(C,{using:d}))}))},e.ui.position={fit:{left:function(e,t){var i,r=t.within,n=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=e.left-t.collisionPosition.marginLeft,l=n-a,d=a+t.collisionWidth-s-n;t.collisionWidth>s?l>0&&d<=0?(i=e.left+l+t.collisionWidth-s-n,e.left+=l-i):e.left=d>0&&l<=0?n:l>d?n+s-t.collisionWidth:n:l>0?e.left+=l:d>0?e.left-=d:e.left=o(e.left-a,e.left)},top:function(e,t){var i,r=t.within,n=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=n-a,d=a+t.collisionHeight-s-n;t.collisionHeight>s?l>0&&d<=0?(i=e.top+l+t.collisionHeight-s-n,e.top+=l-i):e.top=d>0&&l<=0?n:l>d?n+s-t.collisionHeight:n:l>0?e.top+=l:d>0?e.top-=d:e.top=o(e.top-a,e.top)}},flip:{left:function(e,t){var i,r,n=t.within,s=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,u=d+t.collisionWidth-o-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+p+h+f+t.collisionWidth-o-s)<0||i<a(c))&&(e.left+=p+h+f):u>0&&((r=e.left-t.collisionPosition.marginLeft+p+h+f-l)>0||a(r)<u)&&(e.left+=p+h+f)},top:function(e,t){var i,r,n=t.within,s=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,u=d+t.collisionHeight-o-l,p="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];c<0?((r=e.top+p+h+f+t.collisionHeight-o-s)<0||r<a(c))&&(e.top+=p+h+f):u>0&&((i=e.top-t.collisionPosition.marginTop+p+h+f-l)>0||a(i)<u)&&(e.top+=p+h+f)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,r){return!!e.data(t,r[3])}}),e.fn.extend({disableSelection:(u="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(u+".ui-disableSelection",(function(e){e.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var u,p,h="ui-effects-",f="ui-effects-style",g="ui-effects-animated",m=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var r=u[t.type]||{};return null==e?i||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function r(t){var i=d(),r=i._rgba=[];return t=t.toLowerCase(),f(l,(function(e,n){var s,o=n.re.exec(t),a=o&&n.parse(o),l=n.space||"rgba";if(a)return s=i[l](a),i[c[l].cache]=s[c[l].cache],r=i._rgba=s._rgba,!1})),r.length?("0,0,0,0"===r.join()&&e.extend(r,s.transparent),i):s[t]}function n(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=e.Color=function(t,i,r,n){return new e.Color.fn.parse(t,i,r,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=d.support={},h=e("<p>")[0],f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(c,(function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}})),d.fn=e.extend(d.prototype,{parse:function(n,o,a,l){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var u=this,p=e.type(n),h=this._rgba=[];return o!==t&&(n=[n,o,a,l],p="array"),"string"===p?this.parse(r(n)||s._default):"array"===p?(f(c.rgba.props,(function(e,t){h[t.idx]=i(n[t.idx],t)})),this):"object"===p?(f(c,n instanceof d?function(e,t){
n[t.cache]&&(u[t.cache]=n[t.cache].slice())}:function(t,r){var s=r.cache;f(r.props,(function(e,t){if(!u[s]&&r.to){if("alpha"===e||null==n[e])return;u[s]=r.to(u._rgba)}u[s][t.idx]=i(n[e],t,!0)})),u[s]&&e.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,r.from&&(u._rgba=r.from(u[s])))}),this):void 0},is:function(e){var t=d(e),i=!0,r=this;return f(c,(function(e,n){var s,o=t[n.cache];return o&&(s=r[n.cache]||n.to&&n.to(r._rgba)||[],f(n.props,(function(e,t){if(null!=o[t.idx])return i=o[t.idx]===s[t.idx]}))),i})),i},_space:function(){var e=[],t=this;return f(c,(function(i,r){t[r.cache]&&e.push(i)})),e.pop()},transition:function(e,t){var r=d(e),n=r._space(),s=c[n],o=0===this.alpha()?d("transparent"):this,a=o[s.cache]||s.to(o._rgba),l=a.slice();return r=r[s.cache],f(s.props,(function(e,n){var s=n.idx,o=a[s],d=r[s],c=u[n.type]||{};null!==d&&(null===o?l[s]=d:(c.mod&&(d-o>c.mod/2?o+=c.mod:o-d>c.mod/2&&(o-=c.mod)),l[s]=i((d-o)*t+o,n)))})),this[n](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),r=i.pop(),n=d(t)._rgba;return d(e.map(i,(function(e,t){return(1-r)*n[t]+r*e})))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,(function(e,t){return null==e?t>2?1:0:e}));return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),(function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e}));return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+e.map(i,(function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,r=e[0]/255,n=e[1]/255,s=e[2]/255,o=e[3],a=Math.max(r,n,s),l=Math.min(r,n,s),d=a-l,c=a+l,u=.5*c;return t=l===a?0:r===a?60*(n-s)/d+360:n===a?60*(s-r)/d+120:60*(r-n)/d+240,i=0===d?0:u<=.5?d/c:d/(2-c),[Math.round(t)%360,i,u,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],r=e[2],s=e[3],o=r<=.5?r*(1+i):r+i-r*i,a=2*r-o;return[Math.round(255*n(a,o,t+1/3)),Math.round(255*n(a,o,t)),Math.round(255*n(a,o,t-1/3)),s]},f(c,(function(r,n){var s=n.props,o=n.cache,l=n.to,c=n.from;d.fn[r]=function(r){if(l&&!this[o]&&(this[o]=l(this._rgba)),r===t)return this[o].slice();var n,a=e.type(r),u="array"===a||"object"===a?r:arguments,p=this[o].slice();return f(s,(function(e,t){var r=u["object"===a?e:t.idx];null==r&&(r=p[t.idx]),p[t.idx]=i(r,t)})),c?((n=d(c(p)))[o]=p,n):d(p)},f(s,(function(t,i){d.fn[t]||(d.fn[t]=function(n){var s,o=e.type(n),l="alpha"===t?this._hsla?"hsla":"rgba":r,d=this[l](),c=d[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(s=a.exec(n))&&(n=c+parseFloat(s[2])*("+"===s[1]?1:-1)),d[i.idx]=n,this[l](d)))})}))})),d.hook=function(t){var i=t.split(" ");f(i,(function(t,i){e.cssHooks[i]={set:function(t,n){var s,o,a="";if("transparent"!==n&&("string"!==e.type(n)||(s=r(n)))){if(n=d(s||n),!p.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(e){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(e){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=d(t.elem,i),t.end=d(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}}))},d.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],(function(i,r){t["border"+r+"Color"]=e})),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(m),function(){function t(t){var i,r,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(r=n.length;r--;)"string"==typeof n[i=n[r]]&&(s[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(s[i]=n[i]);return s}function i(t,i){var r,s,o={};for(r in i)s=i[r],t[r]!==s&&(n[r]||!e.fx.step[r]&&isNaN(parseFloat(s))||(o[r]=s));return o}var r=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(m.style(e.elem,i,e.end),e.setAttr=!0)}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,s,o,a){var l=e.speed(s,o,a);return this.queue((function(){var s,o=e(this),a=o.attr("class")||"",d=l.children?o.find("*").addBack():o;d=d.map((function(){return{el:e(this),start:t(this)}})),(s=function(){e.each(r,(function(e,t){n[t]&&o[t+"Class"](n[t])}))})(),d=d.map((function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this})),o.attr("class",a),d=d.map((function(){var t=this,i=e.Deferred(),r=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,r),i.promise()})),e.when.apply(e,d.get()).done((function(){s(),e.each(arguments,(function(){var t=this.el;e.each(this.diff,(function(e){t.css(e,"")}))})),l.complete.call(o[0])}))}))},e.fn.extend({addClass:function(t){return function(i,r,n,s){return r?e.effects.animateClass.call(this,{add:i},r,n,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,r,n,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},r,n,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,r,n,s,o){return"boolean"==typeof r||void 0===r?n?e.effects.animateClass.call(this,r?{add:i}:{remove:i},n,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},r,n,s)}}(e.fn.toggleClass),switchClass:function(t,i,r,n,s){return e.effects.animateClass.call(this,{add:i,remove:t},r,n,s)}})}(),function(){function t(t,i,r,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,r=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=r,r=i,i={}),e.isFunction(r)&&(n=r,r=null),i&&e.extend(t,i),r=r||i.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function r(e,t){var i=t.outerWidth(),r=t.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,i,r,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?r:parseFloat(n[3]),left:parseFloat(n[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(i){return!!e(i).data(g)||t(i)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var i=0,r=t.length;i<r;i++)null!==t[i]&&e.data(h+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,r=0,n=t.length;r<n;r++)null!==t[r]&&(i=e.data(h+t[r]),e.css(t[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(e){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).trigger("focus"),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],(function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")})),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.0",define:function(t,i,r){return r||(r=i,i="effect"),e.effects.effect[t]=r,e.effects.effect[t].mode=i,r},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,n="vertical"!==i?(t||100)/100:1;return{height:e.height()*n,width:e.width()*r,outerHeight:e.outerHeight()*n,outerWidth:e.outerWidth()*r}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var r=e.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(f,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(f)||"",e.removeData(f)},mode:function(e,t){var i=e.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var i,r;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(h+"placeholder",i)),t.css({position:r,left:n.left,top:n.top}),i},removePlaceholder:function(e){var t=h+"placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,i,r,n){return n=n||{},e.each(i,(function(e,i){var s=t.cssUnit(i);s[0]>0&&(n[i]=s[0]*r+s[1])})),n}}),e.fn.extend({effect:function(){function i(t){function i(){a.removeData(g),e.effects.cleanUp(a),"hide"===r.mode&&a.hide(),o()}function o(){e.isFunction(l)&&l.call(a[0]),e.isFunction(t)&&t()}var a=e(this);r.mode=c.shift(),!1===e.uiBackCompat||s?"none"===r.mode?(a[d](),o()):n.call(a[0],r,i):(a.is(":hidden")?"hide"===d:"show"===d)?(a[d](),o()):n.call(a[0],r,o)}var r=t.apply(this,arguments),n=e.effects.effect[r.effect],s=n.mode,o=r.queue,a=o||"fx",l=r.complete,d=r.mode,c=[],u=function(t){var i=e(this),r=e.effects.mode(i,d)||s;i.data(g,!0),c.push(r),s&&("show"===r||r===s&&"hide"===r)&&i.show(),s&&"none"===r||e.effects.saveStyle(i),e.isFunction(t)&&t()};return e.fx.off||!n?d?this[d](r.duration,l):this.each((function(){l&&l.call(this)})):!1===o?this.each(u).each(i):this.queue(a,u).queue(a,i)},show:function(e){return function(r){if(i(r))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(r){if(i(r))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(r){if(i(r)||"boolean"==typeof r)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return e.each(["em","px","%","pt"],(function(e,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])})),r},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var r=e(this),n=e(t.to),s="fixed"===n.css("position"),o=e("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,d=n.offset(),c={top:d.top-a,left:d.left-l,height:n.innerHeight(),width:n.innerWidth()},u=r.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(c,t.duration,t.easing,(function(){p.remove(),e.isFunction(i)&&i()}))}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),p={},e.each(["Quad","Cubic","Quart","Quint","Expo"],(function(e,t){p[t]=function(t){return Math.pow(t,e+2)}})),e.extend(p,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(p,(function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?i(2*e)/2:1-i(-2*e+2)/2}}));e.effects,e.effects.define("blind","hide",(function(t,i){var r={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=e(this),s=t.direction||"up",o=n.cssClip(),a={clip:e.extend({},o)},l=e.effects.createPlaceholder(n);a.clip[r[s][0]]=a.clip[r[s][1]],"show"===t.mode&&(n.cssClip(a.clip),l&&l.css(e.effects.clipToBox(a)),a.clip=o),l&&l.animate(e.effects.clipToBox(a),t.duration,t.easing),n.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define("bounce",(function(t,i){var r,n,s,o=e(this),a=t.mode,l="hide"===a,d="show"===a,c=t.direction||"up",u=t.distance,p=t.times||5,h=2*p+(d||l?1:0),f=t.duration/h,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,b=0,_=o.queue().length;for(e.effects.createPlaceholder(o),s=o.css(m),u||(u=o["top"===m?"outerHeight":"outerWidth"]()/3),d&&((n={opacity:1})[m]=s,o.css("opacity",0).css(m,v?2*-u:2*u).animate(n,f,g)),l&&(u/=Math.pow(2,p-1)),(n={})[m]=s;b<p;b++)(r={})[m]=(v?"-=":"+=")+u,o.animate(r,f,g).animate(n,f,g),u=l?2*u:u/2;l&&((r={opacity:0})[m]=(v?"-=":"+=")+u,o.animate(r,f,g)),o.queue(i),e.effects.unshift(o,_,h+1)})),e.effects.define("clip","hide",(function(t,i){var r,n={},s=e(this),o=t.direction||"vertical",a="both"===o,l=a||"horizontal"===o,d=a||"vertical"===o;r=s.cssClip(),n.clip={top:d?(r.bottom-r.top)/2:r.top,right:l?(r.right-r.left)/2:r.right,bottom:d?(r.bottom-r.top)/2:r.bottom,left:l?(r.right-r.left)/2:r.left},e.effects.createPlaceholder(s),"show"===t.mode&&(s.cssClip(n.clip),n.clip=r),s.animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define("drop","hide",(function(t,i){var r,n=e(this),s="show"===t.mode,o=t.direction||"left",a="up"===o||"down"===o?"top":"left",l="up"===o||"left"===o?"-=":"+=",d="+="===l?"-=":"+=",c={opacity:0};e.effects.createPlaceholder(n),r=t.distance||n["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+r,s&&(n.css(c),c[a]=d+r,c.opacity=1),n.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define("explode","hide",(function(t,i){function r(){b.push(this),b.length===u*p&&n()}function n(){h.css({visibility:"visible"}),e(b).remove(),i()}var s,o,a,l,d,c,u=t.pieces?Math.round(Math.sqrt(t.pieces)):3,p=u,h=e(this),f="show"===t.mode,g=h.show().css("visibility","hidden").offset(),m=Math.ceil(h.outerWidth()/p),v=Math.ceil(h.outerHeight()/u),b=[];for(s=0;s<u;s++)for(l=g.top+s*v,c=s-(u-1)/2,o=0;o<p;o++)a=g.left+o*m,d=o-(p-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*m,top:-s*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:v,left:a+(f?d*m:0),top:l+(f?c*v:0),opacity:f?0:1}).animate({left:a+(f?0:d*m),top:l+(f?0:c*v),opacity:f?1:0},t.duration||500,t.easing,r)})),e.effects.define("fade","toggle",(function(t,i){var r="show"===t.mode;e(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define("fold","hide",(function(t,i){var r=e(this),n=t.mode,s="show"===n,o="hide"===n,a=t.size||15,l=/([0-9]+)%/.exec(a),d=!!t.horizFirst?["right","bottom"]:["bottom","right"],c=t.duration/2,u=e.effects.createPlaceholder(r),p=r.cssClip(),h={clip:e.extend({},p)},f={clip:e.extend({},p)},g=[p[d[0]],p[d[1]]],m=r.queue().length;l&&(a=parseInt(l[1],10)/100*g[o?0:1]),h.clip[d[0]]=a,f.clip[d[0]]=a,f.clip[d[1]]=0,s&&(r.cssClip(f.clip),u&&u.css(e.effects.clipToBox(f)),f.clip=p),r.queue((function(i){u&&u.animate(e.effects.clipToBox(h),c,t.easing).animate(e.effects.clipToBox(f),c,t.easing),i()})).animate(h,c,t.easing).animate(f,c,t.easing).queue(i),e.effects.unshift(r,m,4)})),e.effects.define("highlight","show",(function(t,i){var r=e(this),n={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(n.opacity=0),e.effects.saveStyle(r),r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:i})})),e.effects.define("size",(function(t,i){var r,n,s,o=e(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.mode,u="effect"!==c,p=t.scale||"both",h=t.origin||["middle","center"],f=o.css("position"),g=o.position(),m=e.effects.scaledDimensions(o),v=t.from||m,b=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),"show"===c&&(s=v,v=b,b=s),n={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==p&&"both"!==p||(n.from.y!==n.to.y&&(v=e.effects.setTransition(o,l,n.from.y,v),b=e.effects.setTransition(o,l,n.to.y,b)),n.from.x!==n.to.x&&(v=e.effects.setTransition(o,d,n.from.x,v),b=e.effects.setTransition(o,d,n.to.x,b))),"content"!==p&&"both"!==p||n.from.y!==n.to.y&&(v=e.effects.setTransition(o,a,n.from.y,v),b=e.effects.setTransition(o,a,n.to.y,b)),h&&(r=e.effects.getBaseline(h,m),v.top=(m.outerHeight-v.outerHeight)*r.y+g.top,v.left=(m.outerWidth-v.outerWidth)*r.x+g.left,b.top=(m.outerHeight-b.outerHeight)*r.y+g.top,b.left=(m.outerWidth-b.outerWidth)*r.x+g.left),o.css(v),"content"!==p&&"both"!==p||(l=l.concat(["marginTop","marginBottom"]).concat(a),d=d.concat(["marginLeft","marginRight"]),o.find("*[width]").each((function(){var i=e(this),r=e.effects.scaledDimensions(i),s={height:r.height*n.from.y,width:r.width*n.from.x,outerHeight:r.outerHeight*n.from.y,outerWidth:r.outerWidth*n.from.x},o={height:r.height*n.to.y,width:r.width*n.to.x,outerHeight:r.height*n.to.y,outerWidth:r.width*n.to.x};n.from.y!==n.to.y&&(s=e.effects.setTransition(i,l,n.from.y,s),o=e.effects.setTransition(i,l,n.to.y,o)),n.from.x!==n.to.x&&(s=e.effects.setTransition(i,d,n.from.x,s),o=e.effects.setTransition(i,d,n.to.x,o)),u&&e.effects.saveStyle(i),i.css(s),i.animate(o,t.duration,t.easing,(function(){u&&e.effects.restoreStyle(i)}))}))),o.animate(b,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===b.opacity&&o.css("opacity",v.opacity),u||(o.css("position","static"===f?"relative":f).offset(t),e.effects.saveStyle(o)),i()}})})),e.effects.define("scale",(function(t,i){var r=e(this),n=t.mode,s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==n?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(r),to:e.effects.scaledDimensions(r,s,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,i)})),e.effects.define("puff","hide",(function(t,i){var r=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,r,i)})),e.effects.define("pulsate","show",(function(t,i){var r=e(this),n=t.mode,s="show"===n,o=s||"hide"===n,a=2*(t.times||5)+(o?1:0),l=t.duration/a,d=0,c=1,u=r.queue().length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),d=1);c<a;c++)r.animate({opacity:d},l,t.easing),d=1-d;r.animate({opacity:d},l,t.easing),r.queue(i),e.effects.unshift(r,u,a+1)})),e.effects.define("shake",(function(t,i){var r=1,n=e(this),s=t.direction||"left",o=t.distance||20,a=t.times||3,l=2*a+1,d=Math.round(t.duration/l),c="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s,p={},h={},f={},g=n.queue().length;for(e.effects.createPlaceholder(n),p[c]=(u?"-=":"+=")+o,h[c]=(u?"+=":"-=")+2*o,f[c]=(u?"-=":"+=")+2*o,n.animate(p,d,t.easing);r<a;r++)n.animate(h,d,t.easing).animate(f,d,t.easing);n.animate(h,d,t.easing).animate(p,d/2,t.easing).queue(i),e.effects.unshift(n,g,l+1)})),e.effects.define("slide","show",(function(t,i){var r,n,s=e(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u=t.distance||s["top"===d?"outerHeight":"outerWidth"](!0),p={};e.effects.createPlaceholder(s),r=s.cssClip(),n=s.position()[d],p[d]=(c?-1:1)*u+n,p.clip=s.cssClip(),p.clip[o[l][1]]=p.clip[o[l][0]],"show"===a&&(s.cssClip(p.clip),s.css(d,p[d]),p.clip=r,p[d]=n),s.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:i})}));!1!==e.uiBackCompat&&e.effects.define("transfer",(function(t,i){e(this).transfer(t,i)}));e.ui.focusable=function(i,r){var n,s,o,a,l,d=i.nodeName.toLowerCase();return"area"===d?(s=(n=i.parentNode).name,!(!i.href||!s||"map"!==n.nodeName.toLowerCase())&&((o=e("img[usemap='#"+s+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(d)?(a=!i.disabled)&&(l=e(i).closest("fieldset")[0])&&(a=!l.disabled):a="a"===d&&i.href||r,a&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout((function(){var i=t.data("ui-form-reset-instances");e.each(i,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],(function(t,i){function r(t,i,r,s){return e.each(n,(function(){i-=parseFloat(e.css(t,"padding"+this))||0,r&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)})),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each((function(){e(this).css(s,r(this,t)+"px")}))},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each((function(){e(this).css(s,r(this,t,!0,n)+"px")}))}})),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});var v,b;e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=(v=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(v,"\\$1")}),e.fn.labels=function(){var t,i,r,n,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(r=this.attr("id"))&&(s=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(r)+"']",n=n.add(s.find(i).addBack(i))),this.pushStack(n))},e.fn.scrollParent=function(t){var i=this.css("position"),r="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter((function(){var t=e(this);return(!r||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&e.ui.focusable(t,r)}}),e.fn.extend({uniqueId:(b=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++b)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,i,r=this.options.icons;r&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+r.header),t.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,r.header)._addClass(i,null,r.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,r=this.headers.length,n=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(n+1)%r];break;case i.LEFT:case i.UP:s=this.headers[(n-1+r)%r];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[r-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),e(s).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var t=e(this),i=t.uniqueId().attr("id"),r=t.next(),n=r.uniqueId().attr("id");t.attr("aria-controls",n),r.attr("aria-labelledby",i)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===r?(t=n.height(),this.element.siblings(":visible").each((function(){var i=e(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))})),this.headers.each((function(){t-=e(this).outerHeight(!0)})),this.headers.next().each((function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each((function(){var i=e(this).is(":visible");i||e(this).show(),t=Math.max(t,e(this).css("height","").height()),i||e(this).hide()})).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i,r,n=this.options,s=this.active,o=e(t.currentTarget),a=o[0]===s[0],l=a&&n.collapsible,d=l?e():o.next(),c=s.next(),u={oldHeader:s,oldPanel:c,newHeader:l?e():o,newPanel:d};t.preventDefault(),a&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!l&&this.headers.index(o),this.active=a?e():o,this._toggle(u),this._removeClass(s,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(r=o.children(".ui-accordion-header-icon"),this._removeClass(r,null,n.icons.header)._addClass(r,null,n.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=r,this.options.animate?this._animate(i,r,t):(r.hide(),i.show(),this._toggleComplete(t)),r.attr({"aria-hidden":"true"}),r.prev().attr({"aria-selected":"false","aria-expanded":"false"}),
i.length&&r.length?r.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter((function(){return 0===parseInt(e(this).attr("tabIndex"),10)})).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var r,n,s,o=this,a=0,l=e.css("box-sizing"),d=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},u=d&&c.down||c,p=function(){o._toggleComplete(i)};return"number"==typeof u&&(s=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,s=s||u.duration||c.duration,t.length?e.length?(r=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:n,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:n,complete:p,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(r-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,s,n,p):e.animate(this.showProps,s,n,p)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),r=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),r=e(t.currentTarget);i[0]===r[0]&&(this._removeClass(r.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,r))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay((function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each((function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()}))},_keydown:function(t){var i,r,n,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,r=this.previousFilter||"",n=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),n===r?s=!0:n=r+n,i=this._filterMenuItems(n),(i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,r,n,s=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),i=t.prev(),r=e("<span>").data("ui-menu-submenu-caret",!0);s._addClass(r,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))})),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")})),n=(r=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,r,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,r,n,s,o,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),n<0?this.activeMenu.scrollTop(s+n):n+a>o&&this.activeMenu.scrollTop(s+n-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay((function(){var r=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this._removeClass(r.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=r}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(i,r)},nextPage:function(t){var i,r,n;this.active?this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-r-n<0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var i,r,n;this.active?this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(i=e(this)).offset().top-r+n>0})),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return r.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))}))}});e.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,n=this.element[0].nodeName.toLowerCase(),s="textarea"===n,o="input"===n;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,r=!0,void(i=!0);t=!1,r=!1,i=!1;var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",n);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case s.UP:t=!0,this._keyEvent("previous",n);break;case s.DOWN:t=!0,this._keyEvent("next",n);break;case s.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case s.TAB:this.menu.active&&this.menu.select(n);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(r){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||r.preventDefault());if(!i){var n=e.ui.keyCode;switch(r.keyCode){case n.PAGE_UP:this._move("previousPage",r);break;case n.PAGE_DOWN:this._move("nextPage",r);break;case n.UP:this._keyEvent("previous",r);break;case n.DOWN:this._keyEvent("next",r)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(t,i){var r,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}));n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(r=i.item.attr("aria-label")||n.value)&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion))},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n,this.selectedItem=r}))),!1!==this._trigger("select",t,{item:r})&&this._value(r.value),this.term=this._value(),this.close(t),this.selectedItem=r}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,r){r(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;e.each(i,(function(e,i){r._renderItemData(t,i)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,(function(e){return r.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});e.ui.autocomplete;var _=/ui-corner-([a-z]){2,6}/g;e.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,(function(r,n){var s,o={};if(n)return"controlgroupLabel"===r?((s=t.element.find(n)).each((function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),t._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(e.fn[r]&&(t["_"+r+"Options"]&&(o=t["_"+r+"Options"]("middle")),t.element.find(n).each((function(){var n=e(this),s=n[r]("instance"),a=e.widget.extend({},o);if("button"!==r||!n.parent(".ui-spinner").length){s||(s=n[r]()[r]("instance")),s&&(a.classes=t._resolveClassesValues(a.classes,s)),n[r](a);var l=n[r]("widget");e.data(l[0],"ui-controlgroup-data",s||n[r]("instance")),i.push(l[0])}}))))})),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each((function(){var i=e(this).data("ui-controlgroup-data");i&&i[t]&&i[t]()}))},_updateCornerClass:function(e,t){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",r=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,i),this._addClass(e,null,r)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],r},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,i){var r={};return e.each(t,(function(e){var n=i.options.classes[e]||"";n=n.replace(_,"").trim(),r[e]=(n+" "+t[e]).replace(/\s+/g," ")})),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],(function(e,r){var n=t[r]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var s=i["_"+n.widgetName+"Options"](1===t.length?"only":r);s.classes=i._resolveClassesValues(s.classes,n),n.element[n.widgetName](s)}else i._updateCornerClass(t[r](),r)})),this._callChildMethod("refresh"))}});e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,r=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=e(i[i.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each((function(){r.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML})),this.originalLabel&&(n.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(n.disabled=t),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,i="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(i):e(i).filter((function(){return 0===e(this).form().length}))).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each((function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);e.ui.checkboxradio;e.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var r="iconPosition"!==t,n=r?this.options.iconPosition:i,s="top"===n||"bottom"===n;this.icon?r&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),r&&this._addClass(this.icon,null,i),this._attachIcon(n),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var y;e.ui.button;e.extend(e.ui,{datepicker:{version:"1.12.0"}}),e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var r,n,s;n="div"===(r=t.nodeName.toLowerCase())||"span"===r,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(s=this._newInst(e(t),n)).settings=e.extend({},i||{}),
"input"===r?this._connectDatepicker(t,s):n&&this._inlineDatepicker(t,s)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=e(t);i.append=e([]),i.trigger=e([]),r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var r,n,s,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](i.append)),t.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(r=this._get(i,"showOn"))&&"both"!==r||t.on("focus",this._showDatepicker),"button"!==r&&"both"!==r||(n=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:n,title:n}):n)),t[a?"before":"after"](i.trigger),i.trigger.on("click",(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1})))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,r,n,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,r=0,n=0;n<e.length;n++)e[n].length>i&&(i=e[n].length,r=n);return r},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var r=e(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,n,s){var a,l,d,c,u,p=this._dialogInst;return p||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(p=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",p)),o(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,d=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,d/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",p),this},_destroyDatepicker:function(t){var i,r=e(t),n=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),r.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||r.removeClass(this.markerClassName).empty(),y===n&&(y=null))},_enableDatepicker:function(t){var i,r,n=e(t),s=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!1,s.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((r=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})))},_disableDatepicker:function(t){var i,r,n=e(t),s=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(i=t.nodeName.toLowerCase())?(t.disabled=!0,s.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((r=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e})),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,r){var n,s,a,l,d=this._getInst(t);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?e.extend({},e.datepicker._defaults):d?"all"===i?e.extend({},d.settings):this._get(d,i):null;n=i||{},"string"==typeof i&&((n={})[i]=r),d&&(this._curInst===d&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(d,"min"),l=this._getMinMaxDate(d,"max"),o(d.settings,n),null!==a&&void 0!==n.dateFormat&&void 0===n.minDate&&(d.settings.minDate=this._formatDate(d,a)),null!==l&&void 0!==n.dateFormat&&void 0===n.maxDate&&(d.settings.maxDate=this._formatDate(d,l)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),d),this._autoSize(d),this._setDate(d,s),this._updateAlternate(d),this._updateDatepicker(d))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,r,n,s=e.datepicker._getInst(t.target),o=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv))[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,n[0]),(i=e.datepicker._get(s,"onSelect"))?(r=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[r,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,n=e.datepicker._getInst(t.target);if(e.datepicker._get(n,"constrainInput"))return i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){var r,n,s,a,l,d,c;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(r=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==r&&(e.datepicker._curInst.dpDiv.stop(!0,!0),r&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(s=(n=e.datepicker._get(r,"beforeShow"))?n.apply(t,[t,r]):{})&&(o(r.settings,s),r.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(r),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each((function(){return!(a|="fixed"===e(this).css("position"))})),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,r.dpDiv.empty(),r.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(r),l=e.datepicker._checkOffset(r,l,a),r.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),r.inline||(d=e.datepicker._get(r,"showAnim"),c=e.datepicker._get(r,"duration"),r.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[d]?r.dpDiv.show(d,e.datepicker._get(r,"showOptions"),c):r.dpDiv[d||"show"](d?c:null),e.datepicker._shouldFocusInput(r)&&r.input.trigger("focus"),e.datepicker._curInst=r)))},_updateDatepicker:function(t){this.maxRows=4,y=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,r=this._getNumberOfMonths(t),n=r[1],o=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&s.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",o*n+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(i=t.yearshtml,setTimeout((function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null}),0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,r){var n=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(r?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=r&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>l&&l>n?Math.abs(i.left+n-l):0),i.top-=Math.min(i.top,i.top+s>d&&d>s?Math.abs(s+a):0),i},_findPos:function(t){for(var i,r=this._getInst(t),n=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return[(i=e(t).offset()).left,i.top]},_hideDatepicker:function(t){var i,r,n,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),r=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),r,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?r:null,n),i||n(),this._datepickerShowing=!1,(s=this._get(o,"onClose"))&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),r=e.datepicker._getInst(i[0]);(i[0].id===e.datepicker._mainDivId||0!==i.parents("#"+e.datepicker._mainDivId).length||i.hasClass(e.datepicker.markerClassName)||i.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!i.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===r)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var n=e(t),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,i+("M"===r?this._get(s,"showCurrentAtPos"):0),r),this._updateDatepicker(s))},_gotoToday:function(t){var i,r=e(t),n=this._getInst(r[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(r)},_selectMonthYear:function(t,i,r){var n=e(t),s=this._getInst(n[0]);s["selected"+("M"===r?"Month":"Year")]=s["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(t,i,r,n){var s,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((s=this._getInst(o[0])).selectedDay=s.currentDay=e("a",n).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=r,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var r,n=e(t),s=this._getInst(n[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),(r=this._get(s,"onSelect"))?r.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,n,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),n=this.formatDate(i,r,this._getFormatConfig(t)),e(s).val(n))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var n,s,o,a,l=0,d=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),u=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,p=(r?r.dayNames:null)||this._defaults.dayNames,h=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,f=(r?r.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,_=!1,y=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},$=function(e){var t=y(e),r="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{"+("y"===e?r:1)+","+r+"}"),s=i.substring(l).match(n);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(t,r,n){var s=-1,o=e.map(y(t)?n:r,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));if(e.each(o,(function(e,t){var r=t[1];if(i.substr(l,r.length).toLowerCase()===r.toLowerCase())return s=t[0],l+=r.length,!1})),-1!==s)return s+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==t.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<t.length;n++)if(_)"'"!==t.charAt(n)||y("'")?x():_=!1;else switch(t.charAt(n)){case"d":v=$("d");break;case"D":w("D",u,p);break;case"o":b=$("o");break;case"m":m=$("m");break;case"M":m=w("M",h,f);break;case"y":g=$("y");break;case"@":g=(a=new Date($("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date(($("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":y("'")?x():_=!0;break;default:x()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),b>-1)for(m=1,v=b;;){if(v<=(s=this._getDaysInMonth(g,m-1)))break;m++,v-=s}if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";var r,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},d=function(e,t,i){var r=""+t;if(l(e))for(;r.length<i;)r="0"+r;return r},c=function(e,t,i,r){return l(e)?r[t]:i[t]},u="",p=!1;if(t)for(r=0;r<e.length;r++)if(p)"'"!==e.charAt(r)||l("'")?u+=e.charAt(r):p=!1;else switch(e.charAt(r)){case"d":u+=d("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),n,s);break;case"o":u+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=d("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),o,a);break;case"y":u+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":p=!0;break;default:u+=e.charAt(r)}return u},_possibleChars:function(e){var t,i="",r=!1,n=function(i){var r=t+1<e.length&&e.charAt(t+1)===i;return r&&t++,r};for(t=0;t<e.length;t++)if(r)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):r=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":r=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),s=n,o=this._getFormatConfig(e);try{s=this.parseDate(i,r,o)||n}catch(e){r=t?"":r}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=r?s.getDate():0,e.currentMonth=r?s.getMonth():0,e.currentYear=r?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,r){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(e){}for(var r=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=r.getFullYear(),s=r.getMonth(),o=r.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":s+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,s));break;case"y":case"Y":n+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,s))}l=a.exec(i)}return new Date(n,s,o)},o=null==i||""===i?r:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?r:n(i):new Date(i.getTime());return(o=o&&"Invalid Date"===o.toString()?r:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var r=!t,n=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(r,-i,"M")},next:function(){e.datepicker._adjustDate(r,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){return e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(r,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(r,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,i,r,n,s,o,a,l,d,c,u,p,h,f,g,m,v,b,_,y,$,w,x,j,D,k,C,S,I,T,q,A,M,F,O,P,N,E,R,G=new Date,z=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth(),G.getDate())),H=this._get(e,"isRTL"),L=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-Y,1)),this._getFormatConfig(e)):i,r=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=B?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z+Y,1)),this._getFormatConfig(e)):n,s=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:z,o=B?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=L?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(e,"showWeek"),p=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),y="",w=0;w<U[0];w++){for(x="",this.maxRows=4,j=0;j<U[1];j++){if(D=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),k=" ui-corner-all",C="",K){if(C+="<div class='ui-datepicker-group",U[1]>1)switch(j){case 0:C+=" ui-datepicker-group-first",k=" ui-corner-"+(H?"right":"left");break;case U[1]-1:C+=" ui-datepicker-group-last",k=" ui-corner-"+(H?"left":"right");break;default:C+=" ui-datepicker-group-middle",k=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===w?H?s:r:"")+(/all|right/.test(k)&&0===w?H?r:s:"")+this._generateMonthYearHeader(e,Z,ee,J,Q,w>0||j>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",$=0;$<7;$++)S+="<th scope='col'"+(($+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[I=($+c)%7]+"'>"+h[I]+"</span></th>";for(C+=S+"</tr></thead><tbody>",T=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,T)),q=(this._getFirstDayOfMonth(ee,Z)-c+7)%7,A=Math.ceil((q+T)/7),M=K&&this.maxRows>A?this.maxRows:A,this.maxRows=M,F=this._daylightSavingAdjust(new Date(ee,Z,1-q)),O=0;O<M;O++){for(C+="<tr>",P=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",$=0;$<7;$++)N=m?m.apply(e.input?e.input[0]:null,[F]):[!0,""],R=(E=F.getMonth()!==Z)&&!b||!N[0]||J&&F<J||Q&&F>Q,P+="<td class='"+(($+c+6)%7>=5?" ui-datepicker-week-end":"")+(E?" ui-datepicker-other-month":"")+(F.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||_.getTime()===F.getTime()&&_.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(E&&!v?"":" "+N[1]+(F.getTime()===X.getTime()?" "+this._currentClass:"")+(F.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(E&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(E&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===z.getTime()?" ui-state-highlight":"")+(F.getTime()===X.getTime()?" ui-state-active":"")+(E?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);C+=P+"</tr>"}++Z>11&&(Z=0,ee++),x+=C+="</tbody></table>"+(K?"</div>"+(U[0]>0&&j===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=d,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,r,n,s,o,a){var l,d,c,u,p,h,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(s||!m)y+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=r&&r.getFullYear()===i,d=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=r.getMonth())&&(!d||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");y+="</select>"}if(b||(_+=y+(!s&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),h=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t},f=h(u[0]),g=Math.max(f,h(u[1]||"")),f=r?Math.max(f,r.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),b&&(_+=(!s&&m&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(e,t,i){var r=e.selectedYear+("Y"===i?t:0),n=e.selectedMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,n,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),n=i&&t<i?i:t;return r&&n>r?r:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,r){var n=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,r+(t<0?t:n[0]*n[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,r,n=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),r=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=r),i[1].match(/[+\-].*/)&&(a+=r)),(!n||t.getTime()>=n.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)})):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.0";e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var $=!1;e(document).on("mouseup",(function(){$=!1}));e.widget("ui.mouse",{
version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!$){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){i.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),$=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,$=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,i,r){var n,s=e.ui[t].prototype;for(n in r)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([i,r[n]])},call:function(e,t,i,r){var n,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};e.widget("ui.draggable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map((function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]),r=e(t.target);this._getHandle(t)&&r.closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===e(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==i._trigger("stop",t)&&i._clear()})):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper),n=r?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),r&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options,s=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(r=(i=e(n.containment))[0])&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=n.containment:this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,r,n,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),i=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,d=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var n=e.extend({},i,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each((function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))}))},stop:function(t,i,r){var n=e.extend({},i,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,(function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))}))},drag:function(t,i,r){e.each(r.sortables,(function(){var n=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(n=!0,e.each(r.sortables,(function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(n=!1),n}))),n?(s.isOver||(s.isOver=1,r._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,(function(){this.refreshPositions()})),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,(function(){this.refreshPositions()})))}))}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var n=e("body"),s=r.options;n.css("cursor")&&(s._cursor=n.css("cursor")),n.css("cursor",s.cursor)},stop:function(t,i,r){var n=r.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var n=e(i.helper),s=r.options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i,r){var n=r.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var n=r.options,s=!1,o=r.scrollParentNotHidden[0],a=r.document[0];o!==a&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(r.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=s=o.scrollTop+n.scrollSpeed:t.pageY-r.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(r.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+n.scrollSpeed:t.pageX-r.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(a).scrollTop()<n.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<n.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(a).scrollLeft()<n.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<n.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+n.scrollSpeed)))),!1!==s&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,r){var n=r.options;r.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each((function(){var t=e(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})}))},drag:function(t,i,r){var n,s,o,a,l,d,c,u,p,h,f=r.options,g=f.snapTolerance,m=i.offset.left,v=m+r.helperProportions.width,b=i.offset.top,_=b+r.helperProportions.height;for(p=r.snapElements.length-1;p>=0;p--)d=(l=r.snapElements[p].left-r.margins.left)+r.snapElements[p].width,u=(c=r.snapElements[p].top-r.margins.top)+r.snapElements[p].height,v<l-g||m>d+g||_<c-g||b>u+g||!e.contains(r.snapElements[p].item.ownerDocument,r.snapElements[p].item)?(r.snapElements[p].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(c-_)<=g,s=Math.abs(u-b)<=g,o=Math.abs(l-v)<=g,a=Math.abs(d-m)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),s&&(i.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d}).left)),h=n||s||o||a,"outer"!==f.snapMode&&(n=Math.abs(c-b)<=g,s=Math.abs(u-_)<=g,o=Math.abs(l-m)<=g,a=Math.abs(d-v)<=g,n&&(i.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),o&&(i.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left)),!r.snapElements[p].snapping&&(n||s||o||a||h)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[p].item})),r.snapElements[p].snapping=n||s||o||a||h)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,r){var n,s=r.options,o=e.makeArray(e(s.stack)).sort((function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)}));o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each((function(t){e(this).css("zIndex",n+t)})),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var n=e(i.helper),s=r.options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i,r){var n=r.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[r]>0||(t[r]=1,n=t[r]>0,t[r]=0,n)},_create:function(){var t,i=this.options,r=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",(function(){i.disabled||(r._removeClass("ui-resizable-autohide"),r._handles.show())})).on("mouseleave",(function(){i.disabled||r.resizing||(r._addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){if(this._super(e,t),"handles"===e)this._removeHandles(),this._setupHandles()},_setupHandles:function(){var t,i,r,n,s,o=this.options,a=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),r=this.handles.split(","),this.handles={},i=0;i<r.length;i++)n="ui-resizable-"+(t=e.trim(r[i])),s=e("<div>"),this._addClass(s,"ui-resizable-handle "+n),s.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(s);this._renderAxis=function(t){var i,r,n,s;for(i in t=t||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")})),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,r,n=!1;for(i in this.handles)((r=e(this.handles[i])[0])===t.target||e.contains(r,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,r,n,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,n=this.originalMousePosition,s=this.axis,o=t.pageX-n.left||0,a=t.pageY-n.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,r,n,s,o,a,l,d=this.options,c=this;return this._helper&&(n=(r=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,s=r?0:c.sizeDiff.width,o={width:c.helper.width()-s,height:c.helper.height()-n},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,d.animate||this.element.css(e.extend(o,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,r,n,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,n=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),i<s.maxWidth&&(s.maxWidth=i),n<s.maxHeight&&(s.maxHeight=n)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),s&&d&&(e.left=a-t.minWidth),r&&d&&(e.left=a-t.maxWidth),o&&c&&(e.top=l-t.minHeight),n&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var r=this.originalSize;return{top:this.originalPosition.top+i,height:r.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){
return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),r=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),o=s&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},d=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&d?{top:c,left:d}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:r.width,height:r.height}),i._updateCache(r),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,r,n,s,o,a,l=e(this).resizable("instance"),d=l.options,c=l.element,u=d.containment,p=u instanceof e?u.get(0):/parent/.test(u)?c.parent().get(0):u;p&&(l.containerElement=e(p),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),i=[],e(["Top","Right","Left","Bottom"]).each((function(e,r){i[e]=l._num(t.css("padding"+r))})),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},r=l.containerOffset,n=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(p,"left")?p.scrollWidth:s,a=l._hasScroll(p)?p.scrollHeight:n,l.parentData={element:p,left:r.left,top:r.top,width:o,height:a}))},resize:function(t){var i,r,n,s,o=e(this).resizable("instance"),a=o.options,l=o.containerOffset,d=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},p=o.containerElement,h=!0;p[0]!==document&&/static/.test(p.css("position"))&&(u=l),d.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,h=!1),o.position.left=a.helper?l.left:0),d.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,h=!1),o.position.top=o._helper?l.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),n&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio,h=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,c&&(o.size.width=o.size.height*o.aspectRatio,h=!1)),h||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,r=t.containerOffset,n=t.containerPosition,s=t.containerElement,o=e(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,d=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-n.left-r.left,width:l,height:d}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-n.left-r.left,width:l,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each((function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})}))},resize:function(t,i){var r=e(this).resizable("instance"),n=r.options,s=r.originalSize,o=r.originalPosition,a={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0};e(n.alsoResize).each((function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),n={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,(function(e,t){var i=(r[t]||0)+(a[t]||0);i&&i>=0&&(n[t]=i||null)})),t.css(n)}))},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),r=i.options,n=i.size,s=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,d=l[0]||1,c=l[1]||1,u=Math.round((n.width-s.width)/d)*d,p=Math.round((n.height-s.height)/c)*c,h=s.width+u,f=s.height+p,g=r.maxWidth&&r.maxWidth<h,m=r.maxHeight&&r.maxHeight<f,v=r.minWidth&&r.minWidth>h,b=r.minHeight&&r.minHeight>f;r.grid=l,v&&(h+=d),b&&(f+=c),g&&(h-=d),m&&(f-=c),/^(se|s|e)$/.test(a)?(i.size.width=h,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=h,i.size.height=f,i.position.top=o.top-p):/^(sw)$/.test(a)?(i.size.width=h,i.size.height=f,i.position.left=o.left-u):((f-c<=0||h-d<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=o.top-p):(f=c-t.height,i.size.height=f,i.position.top=o.top+s.height-f),h-d>0?(i.size.width=h,i.position.left=o.left-u):(h=d-t.width,i.size.width=h,i.position.left=o.left+s.width-h))}});e.ui.resizable;e.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){i._trigger("close",t)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,n=this.uiDialog.siblings(".ui-front:visible").map((function(){return+e(this).css("z-index")})).get(),s=Math.max.apply(null,n);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){t._focusTabbable(),t._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay((function(){n.trigger("focus")})),t.preventDefault()):(this._delay((function(){r.trigger("focus")})),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,(function(i,r){var n,s;r=e.isFunction(r)?{click:r,text:i}:r,r=e.extend({type:"button"},r),n=r.click,s={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel},delete r.click,delete r.icon,delete r.iconPosition,delete r.showLabel,e("<button></button>",r).button(s).appendTo(t.uiButtonSet).on("click",(function(){n.apply(t.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,n){i._addClass(e(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",r,t(n))},drag:function(e,r){i._trigger("drag",e,t(r))},stop:function(n,s){var o=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();r.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:i.window},i._removeClass(e(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,r=this.options,n=r.resizable,s=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:o,start:function(r,n){i._addClass(e(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",r,t(n))},resize:function(e,r){i._trigger("resize",e,t(r))},stop:function(n,s){var o=i.uiDialog.offset(),a=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();r.height=i.uiDialog.height(),r.width=i.uiDialog.width(),r.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(e(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,n={};e.each(t,(function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(r=!0),e in i.resizableRelatedOptions&&(n[e]=t)})),r&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,i){var r,n,s=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((r=s.is(":data(ui-draggable)"))&&!i&&s.draggable("destroy"),!r&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=s.is(":data(ui-resizable)"))&&!i&&s.resizable("destroy"),n&&"string"==typeof i&&s.resizable("option","handles",i),n||!1===i||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),r.minWidth>r.width&&(r.width=r.minWidth),e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight(),t=Math.max(0,r.minHeight-e),i="number"==typeof r.maxHeight?Math.max(0,r.maxHeight-e):"none","auto"===r.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,r.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay((function(){t=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});e.ui.dialog;e.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||e.ui.ddmanager.current,n=!1;return!(!r||(r.currentItem||r.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var i=e(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&w(r,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return n=!0,!1})),!n&&(!!this.accept.call(this.element[0],r.currentItem||r.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var w=e.ui.intersect=function(){function e(e,t,i){return e>=t&&e<t+i}return function(t,i,r,n){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=o+t.helperProportions.height,d=i.offset.left,c=i.offset.top,u=d+i.proportions().width,p=c+i.proportions().height;switch(r){case"fit":return d<=s&&a<=u&&c<=o&&l<=p;case"intersect":return d<s+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&c<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":return e(n.pageY,c,i.proportions().height)&&e(n.pageX,d,i.proportions().width);case"touch":return(o>=c&&o<=p||l>=c&&l<=p||o<c&&l>p)&&(s>=d&&s<=u||a>=d&&a<=u||s<d&&a>u);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var r,n,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++)if(!(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))){for(n=0;n<a.length;n++)if(a[n]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible="none"!==s[r].element.css("display"),s[r].visible&&("mousedown"===o&&s[r]._activate.call(s[r],i),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&w(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))})),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",(function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}))},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,n,s,o=w(t,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(n=this.options.scope,(s=this.element.parents(":data(ui-droppable)").filter((function(){return e(this).droppable("instance").options.scope===n}))).length&&((r=e(s[0]).droppable("instance")).greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}}))},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each((function(){var i=e(this),r=i.offset(),n={left:r.left-t.elementPos.left,top:r.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))})),e(t.target).parents().addBack().each((function(){var r,n=e.data(this,"selectable-item");if(n)return r=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,r?"ui-unselecting":"ui-selected")._addClass(n.$element,r?"ui-selecting":"ui-unselecting"),n.unselecting=!r,n.selecting=r,n.selected=r,r?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1})))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,r=this,n=this.options,s=this.opos[0],o=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:s,top:o,width:a-s,height:l-o}),this.selectees.each((function(){var i=e.data(this,"selectable-item"),d=!1,c={};i&&i.element!==r.element[0]&&(c.left=i.left+r.elementPos.left,c.right=i.right+r.elementPos.left,c.top=i.top+r.elementPos.top,c.bottom=i.bottom+r.elementPos.top,"touch"===n.tolerance?d=!(c.left>a||c.right<s||c.top>l||c.bottom<o):"fit"===n.tolerance&&(d=c.left>s&&c.right<a&&c.top>o&&c.bottom<l),d?(i.selected&&(r._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(r._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(r._addClass(i.$element,"ui-selecting"),i.selecting=!0,r._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(r._removeClass(i.$element,"ui-selecting"),i.selecting=!1,r._addClass(i.$element,"ui-selected"),i.selected=!0):(r._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(r._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),r._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(r._removeClass(i.$element,"ui-selected"),i.selected=!1,r._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,r._trigger("unselecting",t,{unselecting:i.element})))))})),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})})),e(".ui-selecting",this.element[0]).each((function(){var r=e.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})})),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){
var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(r).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){i._rendered||i._refreshMenu()}))},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",e,{item:r}),t.isOpen||t._select(r,e)),t.focusIndex=r.index,t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=e("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,n="";e.each(i,(function(i,s){var o;s.optgroup!==n&&(o=e("<li>",{text:s.optgroup}),r._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(t),n=s.optgroup),r._renderItemData(t,s)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=e("<li>"),n=e("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(n,i.label),r.append(n).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,r,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(r="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0)).length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var i=this,r=[];t.each((function(t,n){r.push(i._parseOption(e(n),t))})),this.items=r},_parseOption:function(e,t){var i=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,r=this.options,n=this.element.find(".ui-slider-handle"),s="<span tabindex='0'></span>",o=[];for(i=r.values&&r.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;t<i;t++)o.push(s);this.handles=n.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(t){e(this).data("ui-slider-handle-index",t)}))},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,r,n,s,o,a,l,d=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each((function(t){var i=Math.abs(r-d.values(t));(n>i||n===i&&(t===d._lastChangedValue||d.values(t)===c.min))&&(n=i,s=e(this),o=t)})),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),a=s.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,r,n,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(r=i/t)>1&&(r=1),r<0&&(r=0),"vertical"===this.orientation&&(r=1-r),n=this._valueMax()-this._valueMin(),s=this._valueMin()+r*n,this._trimAlignValue(s)},_uiHash:function(e,t,i){var r={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(e),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var r,n=this.value(),s=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),n=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(r,i):Math.max(r,i)),s[t]=i),i!==n&&!1!==this._trigger("slide",e,this._uiHash(t,i,s))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var r,n,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(r=this.options.values,n=arguments[0],s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(n[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var r,n=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=n-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(i[r]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,r=e-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,r,n,s,o=this.options.range,a=this.options,l=this,d=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each((function(r){i=(l.values(r)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===r&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},a.animate),1===r&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===r&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},a.animate),1===r&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i})):(r=this.value(),n=this._valueMin(),s=this._valueMax(),i=s!==n?(r-n)/(s-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var i,r,n,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,s)))return}switch(n=this.options.step,i=r=this._hasMultipleValues()?this.values(s):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-n)}this._slide(t,s,r)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,n=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1})),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),!!r&&(!(this.options.handle&&!i&&(e(this.options.handle,r).find("*").addBack().each((function(){this===t.target&&(n=!0)})),!n))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,i,r){var n,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,r,n,s,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=(r=this.items[i]).item[0],(s=this._intersectsWithPointer(r))&&r.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===n||e.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],n))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,n=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){r._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&r.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))})),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},i.each((function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")})),r},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,r=this.positionAbs.top,n=r+this.helperProportions.height,s=e.left,o=s+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||r+d>a&&r+d<l,p="y"===this.options.axis||t+c>s&&t+c<o,h=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<r+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!r||!n)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var r,n,s,o,a=[],l=[],d=this._connectWith();if(d&&t)for(r=d.length-1;r>=0;r--)for(n=(s=e(d[r],this.document[0])).length-1;n>=0;n--)(o=e.data(s[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,r,n,s,o,a,l,d,c=this.items,u=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(i=p.length-1;i>=0;i--)for(r=(n=e(p[i],this.document[0])).length-1;r>=0;r--)(s=e.data(n[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&(u.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(o=u[i][1],r=0,d=(a=u[i][0]).length;r<d;r++)(l=e(a[r])).data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,r,n,s;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(r=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=n.outerWidth(),r.height=n.outerHeight()),s=n.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,r=(t=t||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+r+">",t.document[0]);return t._addClass(n,"ui-sortable-placeholder",i||t.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===r?t._createTrPlaceholder(t.currentItem,n):"img"===r&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){i&&!r.forcePlaceholderSize||(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),
t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each((function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}))},_contactContainers:function(t){var i,r,n,s,o,a,l,d,c,u,p=null,h=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(p&&e.contains(this.containers[i].element[0],p.element[0]))continue;p=this.containers[i],h=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,s=null,o=(c=p.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",u=c?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[h].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[o],d=!1,t[u]-l>this.items[r][a]/2&&(d=!0),Math.abs(t[u]-l)<n&&(n=Math.abs(t[u]-l),s=this.items[r],this.direction=d?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var i=this.options,r=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),r[0].style.width&&!i.forceHelperSize||r.width(this.currentItem.width()),r[0].style.height&&!i.forceHelperSize||r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,r,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())*r}},_generatePosition:function(t){var i,r,n=this.options,s=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,r=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-n.grid[0]:r+n.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay((function(){n===this.counter&&this.refreshPositions(!r)}))},_clear:function(e,t){function i(e,t,i){return function(r){i._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)"auto"!==this._storedCSS[r]&&"static"!==this._storedCSS[r]||(this._storedCSS[r]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push((function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger("update",e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger("remove",e,this._uiHash())})),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||n.push(i("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(n.push(i("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;r<n.length;r++)n[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});e.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return e.each(["min","max","step"],(function(e,r){var n=i.attr(r);null!=n&&n.length&&(t[r]=n)})),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(e)}),100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=r,this._delay((function(){this.previous=r})))}var r;r=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var i=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,i.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,t,i)}),e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,r=this.options;return i=e-(t=null!==r.min?r.min:0),e=t+(i=Math.round(i/r.step)*r.step),e=parseFloat(e.toFixed(this._precision())),null!==r.max&&e>r.max?r.max:null!==r.min&&e<r.min?r.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i,r,n;if("culture"===e||"numberFormat"===e)return i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(r=this.buttons.first().find(".ui-icon"),this._removeClass(r,null,this.options.icons.up),this._addClass(r,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:a((function(e){this._super(e)})),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a((function(e){this._stepUp(e)})),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:a((function(e){this._stepDown(e)})),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:a((function(e){this._stepUp((e||1)*this.options.page)})),pageDown:a((function(e){this._stepDown((e||1)*this.options.page)})),value:function(e){if(!arguments.length)return this._parse(this.element.val());a(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var x;e.ui.spinner;e.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(x=/#.*$/,function(e){var t,i;t=e.href.replace(x,""),i=location.href.replace(x,"");try{t=decodeURIComponent(t)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return e.hash.length>1&&t===i}),_create:function(){var t=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),(function(e){return t.tabs.index(e)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each((function(i,n){if(e(n).attr("aria-controls")===r)return t=i,!1})),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!i&&0),!i&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(e.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return}t.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",r)}),this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function r(){return t>n&&(t=0),t<0&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(r(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),(function(e){return i.index(e)})),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return e("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each((function(i,r){var n,s,o,a=e(r).uniqueId().attr("id"),l=e(r).closest("li"),d=l.attr("aria-controls");t._isLocal(r)?(o=(n=r.hash).substring(1),s=t.element.find(t._sanitizeSelector(n))):(n="#"+(o=l.attr("aria-controls")||e({}).uniqueId()[0].id),(s=t.element.find(n)).length||(s=t._createPanel(o)).insertAfter(t.panels[i-1]||t.tablist),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),d&&l.data("ui-tabs-aria-controls",d),l.attr({"aria-controls":o,"aria-labelledby":a}),s.attr("aria-labelledby",a)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,r,n;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),n=0;r=this.tabs[n];n++)i=e(r),!0===t||-1!==e.inArray(n,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),(function(e,t){i[t]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var t=e(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){i-=e(this).outerHeight(!0)})),this.panels.each((function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))})).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each((function(){i=Math.max(i,e(this).height("").height())})).height(i))},_eventHandler:function(t){var i=this.options,r=this.active,n=e(t.currentTarget).closest("li"),s=n[0]===r[0],o=s&&i.collapsible,a=o?e():this._getPanelForTab(n),l=r.length?this._getPanelForTab(r):e(),d={oldTab:r,oldPanel:l,newTab:o?e():n,newPanel:a};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||s&&!i.collapsible||!1===this._trigger("beforeActivate",t,d)||(i.active=!o&&this.tabs.index(n),this.active=s?e():n,this.xhr&&this.xhr.abort(),l.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(n),t),this._toggle(t,d))},_toggle:function(t,i){function r(){s.running=!1,s._trigger("activate",t,i)}function n(){s._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,r):(o.show(),r())}var s=this,o=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,(function(){s._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()})):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),n()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&a.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter((function(){return 0===e(this).attr("tabIndex")})).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,r=this._findActive(t);r[0]!==this.active[0]&&(r.length||(r=this.active),i=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;!1!==i&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,(function(e){return e!==t?e:null})):e.map(this.tabs,(function(e,i){return i!==t?i:null}))),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(!0!==i){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,n=this.tabs.eq(t),s=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),a={tab:n,panel:o},l=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done((function(e,t,n){setTimeout((function(){o.html(e),r._trigger("load",i,a),l(n,t)}),1)})).fail((function(e,t){setTimeout((function(){l(e,t)}),1)}))))},_ajaxSettings:function(t,i,r){var n=this;return{url:t.attr("href"),beforeSend:function(t,s){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});e.ui.tabs;e.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(r.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),r=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,r);-1!==n&&r.splice(n,1),t.removeData("ui-tooltip-id"),(r=e.trim(r.join(" ")))?t.attr("aria-describedby",r):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,i){var r=this;this._super(t,i),"content"===t&&e.each(this.tooltips,(function(e,t){r._updateContent(t.element)}))},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,(function(i,r){var n=e.Event("blur");n.target=n.currentTarget=r.element[0],t.close(n,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})),this.disabledTitles=e([])},open:function(t){var i=this,r=e(t?t.target:this.element).closest(this.options.items);r.length&&!r.data("ui-tooltip-id")&&(r.attr("title")&&r.data("ui-tooltip-title",r.attr("title")),r.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&r.parents().each((function(){var t,r=e(this);r.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),r.attr("title")&&(r.uniqueId(),i.parents[this.id]={element:this,title:r.attr("title")},r.attr("title",""))})),this._registerCloseHandlers(t,r),this._updateContent(r,t))},_updateContent:function(e,t){var i,r=this.options.content,n=this,s=t?t.type:null;if("string"==typeof r||r.nodeType||r.jquery)return this._open(t,e,r);(i=r.call(e[0],(function(i){n._delay((function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,i))}))})))&&this._open(t,e,i)},_open:function(t,i,r){function n(e){d.of=e,o.is(":hidden")||o.position(d)}var s,o,a,l,d=e.extend({},this.options.position);r&&((s=this._find(i))?s.tooltip.find(".ui-tooltip-content").html(r):(i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),o=s.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(r),this.liveRegion.children().hide(),(l=e("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),
this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval((function(){o.is(":visible")&&(n(d.of),clearInterval(a))}),e.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var r=e.Event(t);r.currentTarget=i[0],this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(r.mouseleave="close"),t&&"focusin"!==t.type||(r.focusout="close"),this._on(!0,i,r)},close:function(t){var i,r=this,n=e(t?t.currentTarget:this.element),s=this._find(n);s?(i=s.tooltip,s.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,(function(){r._removeTooltip(e(this))})),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,(function(t,i){e(i.element).attr("title",i.title),delete r.parents[t]})),s.closing=!0,this._trigger("close",t,{tooltip:i}),s.hiding||(s.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip"),r=e("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,(function(i,r){var n=e.Event("blur"),s=r.element;n.target=n.currentTarget=s[0],t.close(n,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip})),$$.make=function(e){return function(){var t=jQuery.makeArray(arguments);return t.unshift(e),$$.apply(this,t)}},function(e){for(var t=["a","abbr","acronym","address","area","b","base","bdo","big","blockquote","body","br","button","caption","cite","code","col","colgroup","dd","del","dfn","div","dl","dt","em","fieldset","form","h1","h2","h3","h4","h5","h6","head","html","hr","i","img","input","ins","kbd","label","legend","li","link","map","meta","noscript","object","ol","optgroup","option","p","param","pre","q","samp","script","select","small","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","ul","var"],i=0;i<t.length;i++)e[t[i].toUpperCase()]=$$.make(t[i])}(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(window.jQuery)}((function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],r={},n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:i[0]||""};if(n.browser&&(r[n.browser]=!0,r.version=n.version,r.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(r[n.platform]=!0),(r.android||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){var s="msie";n.browser=s,r[s]=!0}if(r.edge){delete r.edge;var o="msedge";n.browser=o,r[o]=!0}if(r.safari&&r.blackberry){var a="blackberry";n.browser=a,r[a]=!0}if(r.safari&&r.playbook){var l="playbook";n.browser=l,r[l]=!0}if(r.bb){var d="blackberry";n.browser=d,r[d]=!0}if(r.opr){var c="opera";n.browser=c,r[c]=!0}if(r.safari&&r.android){var u="android";n.browser=u,r[u]=!0}if(r.safari&&r.kindle){var p="kindle";n.browser=p,r[p]=!0}if(r.safari&&r.silk){var h="silk";n.browser=h,r[h]=!0}return r.name=n.browser,r.platform=n.platform,r}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","../grid.base"],e):e(jQuery)}((function(e){e.jgrid=e.jgrid||{},e.jgrid.hasOwnProperty("regional")||(e.jgrid.regional=[]),e.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"},{oper:"bt",text:"between"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||e>13?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},colmenu:{sortasc:"Sort Ascending",sortdesc:"Sort Descending",columns:"Columns",filter:"Filter",grouping:"Group By",ungrouping:"Ungroup",searchTitle:"Get items with value that:",freeze:"Freeze",unfreeze:"Unfreeze",reorder:"Move to reorder"}}})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function($){"use strict";function _pivotfilter(e,t){var i,r,n,s=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(n=this.length,i=0;i<n;i++)if(this.hasOwnProperty(i)&&(r=this[i],e.call(t,r,i,this))){s.push(r);break}return s}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.1.1",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var t,i=$.makeArray(arguments).slice(1),r=i.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,(function(e,n){if(!isNaN(parseInt(n,10)))return i[parseInt(n,10)];for(t=0;t<r;t++)if($.isArray(i[t]))for(var s=i[t],o=s.length;o--;)if(n===s[o].nm)return s[o].v}))},msie:function(){return $.jgrid.msiever()>0},msiever:function(){var e=0,t=window.navigator.userAgent,i=t.indexOf("MSIE");return i>0?e=parseInt(t.substring(i+5,t.indexOf(".",i))):navigator.userAgent.match(/Trident\/7\./)&&(e=11),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie()?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return(e=String(e))?(e=e.replace(t,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},useJSON:!0,parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,r){var n,s,o,a=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),u="string"==typeof t?t.match(c):null,p=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,g=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(void 0===r&&(r=$.jgrid.getRegional(this,"formatter.date")),void 0===r.parseRe&&(r.parseRe=/[#%\\\/:_;.,\t\s-]/),r.masks.hasOwnProperty(e)&&(e=r.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)f=t;else if(null!==u)f=new Date(parseInt(u[1],10)),u[3]&&(m=60*Number(u[5])+Number(u[6]),m*="-"===u[4]?1:-1,m-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+60*m*1e3)));else{for("ISO8601Long"===r.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe),s=0,o=(e=e.replace(/\T/g,"#").replace(/\t/,"%").split(r.parseRe)).length;s<o;s++){switch(e[s]){case"M":-1!==(n=$.inArray(t[s],r.monthNames))&&n<12&&(t[s]=n+1,h.m=t[s]);break;case"F":-1!==(n=$.inArray(t[s],r.monthNames,12))&&n>11&&(t[s]=n+1-12,h.m=t[s]);break;case"n":e[s]="m";break;case"j":e[s]="d";break;case"a":-1!==(n=$.inArray(t[s],r.AmPm))&&n<2&&t[s]===r.AmPm[n]&&(t[s]=n,h.h=g(t[s],h.h));break;case"A":-1!==(n=$.inArray(t[s],r.AmPm))&&n>1&&t[s]===r.AmPm[n]&&(t[s]=n-2,h.h=g(t[s],h.h));break;case"g":h.h=parseInt(t[s],10)}void 0!==t[s]&&(h[e[s].toLowerCase()]=parseInt(t[s],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var v=h.y;v>=70&&v<=99?h.y=1900+h.y:v>=0&&v<=69&&(h.y=2e3+h.y),f=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),m>0&&f.setTime(Number(Number(f)+60*m*1e3))}else f=new Date(1e3*parseFloat(t));else f=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(r.userLocalTime&&0===m&&(m-=(new Date).getTimezoneOffset())>0&&f.setTime(Number(Number(f)+60*m*1e3)),void 0===i)return f;r.masks.hasOwnProperty(i)?i=r.masks[i]:i||(i="Y-m-d");var b=f.getHours(),_=f.getMinutes(),y=f.getDate(),w=f.getMonth()+1,x=f.getTimezoneOffset(),j=f.getSeconds(),D=f.getMilliseconds(),k=f.getDay(),C=f.getFullYear(),S=(k+6)%7+1,I=(new Date(C,w-1,y)-new Date(C,0,1))/864e5,T={d:p(y),D:r.dayNames[k],j:y,l:r.dayNames[k+7],N:S,S:r.S(y),w:k,z:I,W:S<5?Math.floor((I+S-1)/7)+1:Math.floor((I+S-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),F:r.monthNames[w-1+12],m:p(w),M:r.monthNames[w-1],n:w,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:b<12?r.AmPm[0]:r.AmPm[1],A:b<12?r.AmPm[2]:r.AmPm[3],B:"?",g:b%12||12,G:b,h:p(b%12||12),H:p(b),i:p(_),s:p(j),u:D,e:"?",I:"?",O:(x>0?"-":"+")+p(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(f).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return i.replace(a,(function(e){return T.hasOwnProperty(e)?T[e]:e.substring(1)}))},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(e,t){var i,r,n=[];if("function"==typeof t)return t(e);if(void 0===(i=e[t]))try{if("string"==typeof t&&(n=t.split(".")),r=n.length)for(i=e;i&&r--;)i=i[n.shift()]}catch(e){}return i},getXmlData:function(e,t,i){var r,n="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):n&&n[2]?n[1]?$(n[1],e).attr(n[2]):$(e).attr(n[2]):(r=$(t,e),i?r:r.length>0?$(r).text():void 0)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},getRegional:function(e,t,i){var r;return void 0!==i?i:(e.p&&e.p.regional&&$.jgrid.regional&&(r=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),void 0===r&&(r=$.jgrid.getAccessor($.jgrid,t)),r)},isMobile:function(){try{return!!/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(e){var t=[];return $.each(_data,(function(i,r){t.push(e(r))})),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var r=Object.prototype.toString;return void 0===i&&(i=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===r.call(e)&&"[object Date]"===r.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:e>t?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,r=_sorting[t].dir,n=_sorting[t].type,s=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,r,n,s,o);t++;var a,l,d,c=self._getGroup(e,i,r,n,s),u=[];for(a=0;a<c.length;a++)for(d=self._doSort(c[a].items,t),l=0;l<d.length;l++)u.push(d[l]);return u},this._getOrder=function(e,t,i,r,n,s){var o,a,l,d,c=[],u=[],p="a"===i?1:-1;void 0===r&&(r="text"),d="float"===r||"number"===r||"currency"===r||"numeric"===r?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===r||"integer"===r?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===r||"datetime"===r?function(e){return $.jgrid.parseDate.call($t,n,e).getTime()}:$.isFunction(r)?r:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,(function(e,i){void 0===(a=""!==t?$.jgrid.getAccessor(i,t):i)&&(a=""),a=d(a,i),u.push({vSort:a,index:e})})),$.isFunction(s)?u.sort((function(e,t){return s.call(this,e.vSort,t.vSort,p,e,t)})):u.sort((function(e,t){return self._compare(e.vSort,t.vSort,p)})),l=0;for(var h=e.length;l<h;)o=u[l].index,c.push(e[o]),l++;return c},this._getGroup=function(e,t,i,r,n){var s,o=[],a=null,l=null;return $.each(self._getOrder(e,t,i,r,n),(function(e,i){null==(s=$.jgrid.getAccessor(i,t))&&(s=""),self._equals(l,s)||(l=s,null!==a&&o.push(a),a=self._group(t,s)),a.items.push(i)})),null!==a&&o.push(a),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,(function(){eval(match)&&results.push(this)})),_data=results),self},this.data=function(){return _data},this.select=function(e){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,(function(i,r){t.push(e(r))})),t}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,r,n){var s;s=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",void 0===i&&(i=null);var o=i,a=void 0===n.stype?"text":n.stype;if(null!==i)switch(a){case"int":case"integer":s="parseInt("+s+",10)",o="parseInt("+(o=isNaN(Number(o))||""===o?"0":o)+",10)";break;case"float":case"number":case"numeric":o=String(o).replace(_stripNum,""),s="parseFloat("+s+")",o="parseFloat("+(o=isNaN(Number(o))||""===o?"0":o)+")";break;case"date":case"datetime":o=String($.jgrid.parseDate.call($t,n.srcfmt||"Y-m-d",o).getTime()),s='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+n.srcfmt+'",'+s+").getTime()";break;default:s=self._getStr(s),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(s+" "+r+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(r=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+r+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,r=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+r+","+r+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,r){return self._hasData()?self._getGroup(_data,e,t,i,r):null},this.orderBy=function(e,t,i,r,n){return null==i&&(i="text"),null==r&&(r="Y-m-d"),null==n&&(n=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:r,sfunc:n}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,i=$("#"+$.jgrid.jqID(e))[0];if(i.grid){t=i.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(t.hDiv).unbind("mousemove"),$(i).unbind();var r,n=t.headers.length,s=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(r=0;r<n;r++)t.headers[r].el=null;for(r in t)t.hasOwnProperty(r)&&(t[r]=null);for(r in i.p)i.p.hasOwnProperty(r)&&(i.p[r]=$.isArray(i.p[r])?[]:null);for(n=s.length,r=0;r<n;r++)i.hasOwnProperty(s[r])&&(i[s[r]]=null,delete i[s[r]])}},gridUnload:function(e){if(e){0===(e=$.trim(e)).indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var i={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var r=document.createElement("table");r.className=i.cl;var n=$.jgrid.jqID(t.id);$(r).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+n),1===$(t.p.pager).parents("#gbox_"+n).length&&$(t.p.pager).insertBefore("#gbox_"+n),$.jgrid.clearBeforeUnload(e),$("#gbox_"+n).remove(),$(r).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){0===(e=$.trim(e)).indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(e){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all ui-dialog",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"},colmenu:{menu_widget:"ui-widget ui-widget-content ui-corner-all",input_checkbox:"ui-widget ui-widget-content",filter_select:"ui-widget-content ui-corner-all",filter_input:"ui-widget-content ui-corner-all",icon_menu:"ui-icon-comment",icon_sort_asc:"ui-icon-arrow-1-n",icon_sort_desc:"ui-icon-arrow-1-s",icon_columns:"ui-icon-extlink",icon_filter:"ui-icon-calculator",icon_group:"ui-icon-grip-solid-horizontal",icon_freeze:"ui-icon-grip-solid-vertical",icon_move:"ui-icon-arrow-4"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"},colmenu:{menu_widget:"",input_checkbox:"",filter_select:"form-control",filter_input:"form-control",icon_menu:"glyphicon-menu-hamburger",icon_sort_asc:"glyphicon-sort-by-alphabet",icon_sort_desc:"glyphicon-sort-by-alphabet-alt",icon_columns:"glyphicon-list-alt",icon_filter:"glyphicon-filter",icon_group:"glyphicon-align-left",icon_freeze:"glyphicon-object-align-horizontal",icon_move:"glyphicon-move"}}}}),$.fn.jqGrid=function(e){if("string"==typeof e){var t=$.jgrid.getMethod(e);if(!t)throw"jqGrid - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}return this.each((function(){if(!this.grid){var t;null!=e&&void 0!==e.data&&(t=e.data,e.data=[]);var i=$.extend(!0,{url:"",height:150,page:1,rowNum:20,
rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",responsive:!1,restoreCellonFail:!0,colFilters:{},colMenu:!1},$.jgrid.defaults,e);void 0!==t&&(i.data=t,e.data=t);var r=this,n={headers:[],cols:[],footers:[],dragStart:function(e,t,n){var s=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-s},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(i.id),"#gbox_"+$.jgrid.jqID(i.id)),this.curGbox.css({display:"block",left:t.pageX-s,top:n[1],height:n[2]}),$(r).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(i.resizeStart)&&i.resizeStart.call(r,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,r,n=e.pageX-this.resizing.startX,s=this.headers[this.resizing.idx],o="ltr"===i.direction?s.width+n:s.width-n;o>33&&(this.curGbox.css({left:this.resizing.sOL+n}),!0===i.forceFit?(t=this.headers[this.resizing.idx+i.nv],(r="ltr"===i.direction?t.width-n:t.width+n)>i.minColWidth&&(s.newWidth=o,t.newWidth=r)):(this.newWidth="ltr"===i.direction?i.tblwidth+n:i.tblwidth-n,s.newWidth=o))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,n=this.headers[t].newWidth||this.headers[t].width;n=parseInt(n,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(i.id)).css("display","none"),i.colModel[t].width=n,this.headers[t].width=n,this.headers[t].el.style.width=n+"px",this.cols[t].style.width=n+"px",this.footers.length>0&&(this.footers[t].style.width=n+"px"),!0===i.forceFit?(n=this.headers[t+i.nv].newWidth||this.headers[t+i.nv].width,this.headers[t+i.nv].width=n,this.headers[t+i.nv].el.style.width=n+"px",this.cols[t+i.nv].style.width=n+"px",this.footers.length>0&&(this.footers[t+i.nv].style.width=n+"px"),i.colModel[t+i.nv].width=n):(i.tblwidth=this.newWidth||i.tblwidth,$("table:first",this.bDiv).css("width",i.tblwidth+"px"),$("table:first",this.hDiv).css("width",i.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,i.footerrow&&($("table:first",this.sDiv).css("width",i.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(r).triggerHandler("jqGridResizeStop",[n,t]),$.isFunction(i.resizeStop)&&i.resizeStop.call(r,n,t))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){n.timer&&clearTimeout(n.timer),n.timer=null;var e=$(n.bDiv).height();if(e){var t,s,o=$("table:first",n.bDiv);if(o[0].rows.length)try{s=(t=o[0].rows[1])&&$(t).outerHeight()||n.prevRowHeight}catch(e){s=n.prevRowHeight}if(s){n.prevRowHeight=s;var a,l,d,c=i.rowNum,u=n.scrollTop=n.bDiv.scrollTop,p=Math.round(o.position().top)-u,h=p+o.height(),f=s*c;if(h<e&&p<=0&&(void 0===i.lastpage||(parseInt((h+u+f-1)/f,10)||0)<=i.lastpage)&&(l=parseInt((e-h+f-1)/f,10)||1,h>=0||l<2||!0===i.scroll?(a=(Math.round((h+u)/f)||0)+1,p=-1):p=1),p>0&&(a=(parseInt(u/f,10)||0)+1,l=(parseInt((u+e)/f,10)||0)+2-a,d=!0),l){if(i.lastpage&&(a>i.lastpage||1===i.lastpage||a===i.page&&a===i.lastpage))return;n.hDiv.loading?n.timer=setTimeout(n.populateVisible,i.scrollTimeout):(i.page=a,d&&(n.selectionPreserver(o[0]),n.emptyRows.call(o[0],!1,!1)),n.populate(l)),i.scrollPopUp&&null!=i.lastpage&&($("#scroll_g"+i.id).show().html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",i.pgtext),i.page,i.lastpage)).css({top:i.scrollTopOffset+u*((parseInt(i.height,10)-45)/(parseInt(s,10)*parseInt(i.records,10)))+"px",left:i.scrollLeftOffset}),$(this).mouseout((function(){$("#scroll_g"+i.id).hide()})))}}}},scrollGrid:function(e){if(i.scroll){var t=n.bDiv.scrollTop;void 0===n.scrollTop&&(n.scrollTop=0),t!==n.scrollTop&&(n.scrollTop=t,n.timer&&clearTimeout(n.timer),n.timer=setTimeout(n.populateVisible,i.scrollTimeout))}n.hDiv.scrollLeft=n.bDiv.scrollLeft,i.footerrow&&(n.sDiv.scrollLeft=n.bDiv.scrollLeft),i.frozenColumns&&$(n.fbDiv).scrollTop(n.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(e){var t=e.p,i=t.selrow,r=t.selarrrow?$.makeArray(t.selarrrow):null,n=e.grid.bDiv.scrollLeft,s=function(){var o;if(t.selrow=null,t.selarrrow=[],t.multiselect&&r&&r.length>0)for(o=0;o<r.length;o++)r[o]!==i&&$(e).jqGrid("setSelection",r[o],!1,null);i&&$(e).jqGrid("setSelection",i,!1,null),e.grid.bDiv.scrollLeft=n,$(e).unbind(".selectionPreserver",s)};$(e).bind("jqGridGridComplete.selectionPreserver",s)}};if("TABLE"===this.tagName.toUpperCase()&&null!=this.id)if(void 0!==document.documentMode&&document.documentMode<=5)alert("Grid can not be used in this ('quirks') mode!");else{var s,o,a,l=0;for(o in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(o)&&(0===l&&(s=o),l++);if(1===l&&s!==i.regional&&(i.regional=s),$(this).empty().attr("tabindex","0"),this.p=i,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(l=0;l<this.p.colModel.length;l++)this.p.colNames[l]=this.p.colModel[l].label||this.p.colModel[l].name;if(this.p.colNames.length===this.p.colModel.length){var d,c=$.jgrid.getMethod("getStyleUI"),u=r.p.styleUI+".common",p=c(u,"disabled",!0),h=c(u,"highlight",!0),f=c(u,"hover",!0),g=c(u,"cornerall",!0),m=c(u,"icon_base",!0),v=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].colmenu,b=$.jgrid.msie(),_=[],y=[],w=[];u=r.p.styleUI+".base",d=$("<div "+c(u,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),r.p.direction=$.trim(r.p.direction.toLowerCase()),r.p._ald=!1,-1===$.inArray(r.p.direction,["ltr","rtl"])&&(r.p.direction="ltr"),a=r.p.direction,$(d).insertBefore(this),$(this).appendTo(d);var x=$("<div "+c(u,"entrieBox",!1,"ui-jqgrid")+"></div>");$(x).attr({id:"gbox_"+this.id,dir:a}).insertBefore(d),$(d).attr("id","gview_"+this.id).appendTo(x),$("<div "+c(r.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(d),$("<div "+c(u,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(r,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(d),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var j,D=["shiftKey","altKey","ctrlKey"],k=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},C=function(e,t,i,s,o,a){var l,d=r.p.colModel[e],c=d.align,u='style="',p=d.classes,h=d.name,f=[];return c&&(u+="text-align:"+c+";"),!0===d.hidden&&(u+="display:none;"),0===t?u+="width: "+n.headers[e].width+"px;":($.isFunction(d.cellattr)||"string"==typeof d.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[d.cellattr]))&&(l=($.isFunction(d.cellattr)?d.cellattr:$.jgrid.cellattr[d.cellattr]).call(r,o,i,s,d,a))&&"string"==typeof l&&((l=l.replace(/style/i,"style").replace(/title/i,"title")).indexOf("title")>-1&&(d.title=!1),l.indexOf("class")>-1&&(p=void 0),2===(f=l.replace(/\-style/g,"-sti").split(/style/)).length?(f[1]=$.trim(f[1].replace(/\-sti/g,"-style").replace("=","")),0!==f[1].indexOf("'")&&0!==f[1].indexOf('"')||(f[1]=f[1].substring(1)),u+=f[1].replace(/'/gi,'"')):u+='"'),f.length||(f[0]="",u+='"'),u+=(void 0!==p?' class="'+p+'"':"")+(d.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(u+=' aria-describedby="'+r.p.id+"_"+h+'"')+f[0]},S=function(e){return null==e||""===e?"&#160;":r.p.autoencode?$.jgrid.htmlEncode(e):String(e)},I=function(e,t,i,n,s){var o,a=r.p.colModel[i];if(void 0!==a.formatter){var l={rowId:e=""!==String(r.p.idPrefix)?$.jgrid.stripPref(r.p.idPrefix,e):e,colModel:a,gid:r.p.id,pos:i,styleUI:r.p.styleUI};o=$.isFunction(a.formatter)?a.formatter.call(r,t,l,n,s):$.fmatter?$.fn.fmatter.call(r,a.formatter,t,l,n,s):S(t)}else o=S(t);return o},T=function(e,t,i,r,n,s){var o;return o=I(e,t,i,n,"add"),'<td role="gridcell" '+C(i,r,o,n,e,s)+">"+o+"</td>"},q=function(e,t,i,n,s){var o='<input role="checkbox" type="checkbox" id="jqg_'+r.p.id+"_"+e+'" '+s+' name="jqg_'+r.p.id+"_"+e+'"'+(n?'checked="checked"':"")+"/>";return'<td role="gridcell" '+C(t,i,"",null,e,!0)+">"+o+"</td>"},A=function(e,t,i,r,n){var s=(parseInt(i,10)-1)*parseInt(r,10)+1+t;return'<td role="gridcell" '+n+" "+C(e,t,s,null,t,!0)+">"+s+"</td>"},M=function(e){var t,i,n=[],s=0;for(i=0;i<r.p.colModel.length;i++)"cb"!==(t=r.p.colModel[i]).name&&"subgrid"!==t.name&&"rn"!==t.name&&(n[s]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,!1!==r.p.keyName&&!0===t.key&&(r.p.keyName=n[s]),s++);return n},F=function(e){var t=r.p.remapColumns;return t&&t.length||(t=$.map(r.p.colModel,(function(e,t){return t}))),e&&(t=$.map(t,(function(t){return t<e?null:t-e}))),t},O=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===t&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},P=function(){var e,t,i,n,s,o,a,l,d,c,u,p=r.p,h=p.data,f=h.length,g=p.localReader,m=p.colModel,v=g.cell,b=(!0===p.multiselect?1:0)+(!0===p.subGrid?1:0)+(!0===p.rownumbers?1:0),_=p.scroll?$.jgrid.randId():1;if("local"===p.datatype&&!0===g.repeatitems)for(d=F(b),c=M("local"),n=!1===p.keyIndex?$.isFunction(g.id)?g.id.call(r,h):g.id:p.keyIndex,e=0;e<f;e++){for(i=h[e],void 0===(s=$.jgrid.getAccessor(i,n))&&("number"==typeof n&&null!=m[n+b]&&(s=$.jgrid.getAccessor(i,m[n+b].name)),void 0===s&&(s=_+e,v&&(s=null!=(o=$.jgrid.getAccessor(i,v)||i)&&void 0!==o[n]?o[n]:s,o=null))),(l={})[g.id]=s,v&&(i=$.jgrid.getAccessor(i,v)||i),u=$.isArray(i)?d:c,t=0;t<u.length;t++)a=$.jgrid.getAccessor(i,u[t]),l[m[t+b].name]=a;$.extend(!0,h[e],l)}},N=function(){var e,t,i,n=r.p.data.length;for(e=!1===r.p.keyName||!0===r.p.loadonce?r.p.localReader.id:r.p.keyName,r.p._index=[],t=0;t<n;t++)void 0===(i=$.jgrid.getAccessor(r.p.data[t],e))&&(i=String(t+1)),r.p._index[i]=t},E=function(e,t,i,n,s){var o,a="-1",l="",d=t?"display:none;":"",c=$(r).triggerHandler("jqGridRowAttr",[n,s,e]);if("object"!=typeof c&&(c=$.isFunction(r.p.rowattr)?r.p.rowattr.call(r,n,s,e):"string"==typeof r.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[r.p.rowattr])?$.jgrid.rowattr[r.p.rowattr].call(r,n,s,e):{}),!$.isEmptyObject(c)){c.hasOwnProperty("id")&&(e=c.id,delete c.id),c.hasOwnProperty("tabindex")&&(a=c.tabindex,delete c.tabindex),c.hasOwnProperty("style")&&(d+=c.style,delete c.style),c.hasOwnProperty("class")&&(i+=" "+c.class,delete c.class);try{delete c.role}catch(e){}for(o in c)c.hasOwnProperty(o)&&(l+=" "+o+"="+c[o])}return'<tr role="row" id="'+e+'" tabindex="'+a+'" class="'+i+'"'+(""===d?"":' style="'+d+'"')+l+">"},R=function(e,t,i,n){var s=new Date,o="local"!==r.p.datatype&&r.p.loadonce||"xmlstring"===r.p.datatype,a="_id_",l=r.p.xmlReader,d="local"===r.p.datatype?"local":"xml";if(o&&(r.p.data=[],r.p._index={},r.p.localReader.id=a),r.p.reccount=0,$.isXMLDoc(e)){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(O.call(r,!1,!0),t=1);var p,h,f,g,m,v,b,_,y,w,x=$(r),j=0,D=!0===r.p.multiselect?1:0,C=0,S=!0===r.p.rownumbers?1:0,I=[],P={},N=[],R=!0===r.p.altRows?r.p.altclass:"",G=c(u,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);!0===r.p.subGrid&&(C=1,g=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(I=M(d)),m=!1===r.p.keyName?$.isFunction(l.id)?l.id.call(r,e):l.id:r.p.keyName,v=-1===String(m).indexOf("[")?I.length?function(e,t){return $(m,e).text()||t}:function(e,t){return $(l.cell,e).eq(m).text()||t}:function(e,t){return e.getAttribute(m.replace(/[\[\]]/g,""))||t},r.p.userData={},r.p.page=k($.jgrid.getXmlData(e,l.page),r.p.page),r.p.lastpage=k($.jgrid.getXmlData(e,l.total),1),r.p.records=k($.jgrid.getXmlData(e,l.records)),$.isFunction(l.userdata)?r.p.userData=l.userdata.call(r,e)||{}:$.jgrid.getXmlData(e,l.userdata,!0).each((function(){r.p.userData[this.getAttribute("name")]=$(this).text()}));var z=$.jgrid.getXmlData(e,l.root,!0);(z=$.jgrid.getXmlData(z,l.row,!0))||(z=[]);var H=z.length,L=0,W=[],B=parseInt(r.p.rowNum,10),U=r.p.scroll?$.jgrid.randId():1,V=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first");if(H>0&&r.p.page<=0&&(r.p.page=1),z&&H){n&&(B*=n+1);var Y,K=$.isFunction(r.p.afterInsertRow),X=!1,J=S?c(u,"rownumBox",!1,"jqgrid-rownum"):"",Q=D?c(u,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(X=!0===r.p.groupingView.groupCollapse,Y=$.jgrid.getMethod("groupingPrepare"));L<H;){_=z[L],y=v(_,U+L),y=r.p.idPrefix+y,w=G+(((0===t?0:t+1)+L)%2==1?" "+R:"");var Z=N.length;if(N.push(""),S&&N.push(A(0,L,r.p.page,r.p.rowNum,J)),D&&N.push(q(y,S,L,!1,Q)),C&&N.push(g.call(x,D+S,L+t)),l.repeatitems){b||(b=F(D+C+S));var ee=$.jgrid.getXmlData(_,l.cell,!0);$.each(b,(function(e){var i=ee[this];if(!i)return!1;f=i.textContent||i.text,P[r.p.colModel[e+D+C+S].name]=f,N.push(T(y,f,e+D+C+S,L+t,_,P))}))}else for(p=0;p<I.length;p++)f=$.jgrid.getXmlData(_,I[p]),P[r.p.colModel[p+D+C+S].name]=f,N.push(T(y,f,p+D+C+S,L+t,_,P));if(N[Z]=E(y,X,w,P,_),N.push("</tr>"),r.p.grouping&&(W.push(N),r.p.groupingView._locgr||Y.call(x,P,L),N=[]),(o||!0===r.p.treeGrid&&!r.p._ald)&&(P[a]=$.jgrid.stripPref(r.p.idPrefix,y),r.p.data.push(P),r.p._index[P[a]]=r.p.data.length-1),!1===r.p.gridview&&(V.append(N.join("")),x.triggerHandler("jqGridAfterInsertRow",[y,P,_]),K&&r.p.afterInsertRow.call(r,y,P,_),N=[]),P={},j++,L++,j===B)break}}if(!0===r.p.gridview&&(h=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?o||(x.jqGrid("groupingRender",W,r.p.colModel.length,r.p.page,B),W=null):!0===r.p.treeGrid&&h>0?$(r.rows[h]).after(N.join("")):(V.append(N.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-s,N=null,!0===r.p.subGrid)try{x.jqGrid("addSubGrid",D+S)}catch(e){}if(j>0&&0===r.p.records&&(r.p.records=H),!0===r.p.treeGrid)try{x.jqGrid("setTreeNode",h+1,j+h+1)}catch(e){}if(r.p.reccount=j,r.p.treeANode=-1,r.p.userDataOnFooter&&x.jqGrid("footerData","set",r.p.userData,!0),o&&(r.p.records=H,r.p.lastpage=Math.ceil(H/B)),i||r.updatepager(!1,!0),o){for(;j<H;){if(_=z[j],y=v(_,j+U),y=r.p.idPrefix+y,l.repeatitems){b||(b=F(D+C+S));var te=$.jgrid.getXmlData(_,l.cell,!0);$.each(b,(function(e){var t=te[this];if(!t)return!1;f=t.textContent||t.text,P[r.p.colModel[e+D+C+S].name]=f}))}else for(p=0;p<I.length;p++)f=$.jgrid.getXmlData(_,I[p]),P[r.p.colModel[p+D+C+S].name]=f;P[a]=$.jgrid.stripPref(r.p.idPrefix,y),r.p.grouping&&Y.call(x,P,j),r.p.data.push(P),r.p._index[P[a]]=r.p.data.length-1,P={},j++}r.p.grouping&&(r.p.groupingView._locgr=!0,x.jqGrid("groupingRender",W,r.p.colModel.length,r.p.page,B),W=null)}}},G=function(e,t,i,n){var s=new Date;if(e){-1!==r.p.treeANode||r.p.scroll?t=t>1?t:1:(O.call(r,!1,!0),t=1);var o,a,l="_id_",d="local"!==r.p.datatype&&r.p.loadonce||"jsonstring"===r.p.datatype;d&&(r.p.data=[],r.p._index={},r.p.localReader.id=l),r.p.reccount=0,"local"===r.p.datatype?(o=r.p.localReader,a="local"):(o=r.p.jsonReader,a="json");var p,f,g,m,v,b,_,y,w,x,j,D,C=$(r),S=0,I=[],P=r.p.multiselect?1:0,N=!0===r.p.subGrid?1:0,R=!0===r.p.rownumbers?1:0,G=F(P+N+R),z=M(a),H={},L=[],W=!0===r.p.altRows?r.p.altclass:"",B=c(u,"rowBox",!0,"jqgrow ui-row-"+r.p.direction);r.p.page=k($.jgrid.getAccessor(e,o.page),r.p.page),r.p.lastpage=k($.jgrid.getAccessor(e,o.total),1),r.p.records=k($.jgrid.getAccessor(e,o.records)),r.p.userData=$.jgrid.getAccessor(e,o.userdata)||{},N&&(v=$.jgrid.getMethod("addSubGridCell")),w=!1===r.p.keyName?$.isFunction(o.id)?o.id.call(r,e):o.id:r.p.keyName,null==(y=$.jgrid.getAccessor(e,o.root))&&$.isArray(e)&&(y=e),y||(y=[]),f=0,(_=y.length)>0&&r.p.page<=0&&(r.p.page=1);var U,V=parseInt(r.p.rowNum,10),Y=r.p.scroll?$.jgrid.randId():1,K=!1;n&&(V*=n+1),"local"!==r.p.datatype||r.p.deselectAfterSort||(K=!0);var X,J=$.isFunction(r.p.afterInsertRow),Q=[],Z=!1,ee=$("#"+$.jgrid.jqID(r.p.id)+" tbody:first"),te=R?c(u,"rownumBox",!1,"jqgrid-rownum"):"",ie=P?c(u,"multiBox",!1,"cbox"):"";for(r.p.grouping&&(Z=!0===r.p.groupingView.groupCollapse,X=$.jgrid.getMethod("groupingPrepare"));f<_;){if(m=y[f],void 0===(j=$.jgrid.getAccessor(m,w))&&("number"==typeof w&&null!=r.p.colModel[w+P+N+R]&&(j=$.jgrid.getAccessor(m,r.p.colModel[w+P+N+R].name)),void 0===j&&(j=Y+f,0===I.length&&o.cell))){var re=$.jgrid.getAccessor(m,o.cell)||m;j=null!=re&&void 0!==re[w]?re[w]:j,re=null}j=r.p.idPrefix+j,D=B+(((1===t?0:t)+f)%2==1?" "+W:""),K&&(U=r.p.multiselect?-1!==$.inArray(j,r.p.selarrrow):j===r.p.selrow);var ne=L.length;for(L.push(""),R&&L.push(A(0,f,r.p.page,r.p.rowNum,te)),P&&L.push(q(j,R,f,U,ie)),N&&L.push(v.call(C,P+R,f+t)),b=z,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(b=G)),g=0;g<b.length;g++)p=$.jgrid.getAccessor(m,b[g]),H[r.p.colModel[g+P+N+R].name]=p,L.push(T(j,p,g+P+N+R,f+t,m,H));if(D+=U?" "+h:"",L[ne]=E(j,Z,D,H,m),L.push("</tr>"),r.p.grouping&&(Q.push(L),r.p.groupingView._locgr||X.call(C,H,f),L=[]),(d||!0===r.p.treeGrid&&!r.p._ald)&&(H[l]=$.jgrid.stripPref(r.p.idPrefix,j),r.p.data.push(H),r.p._index[H[l]]=r.p.data.length-1),!1===r.p.gridview&&(ee.append(L.join("")),C.triggerHandler("jqGridAfterInsertRow",[j,H,m]),J&&r.p.afterInsertRow.call(r,j,H,m),L=[]),H={},f++,++S===V)break}if(!0===r.p.gridview&&(x=r.p.treeANode>-1?r.p.treeANode:0,r.p.grouping?d||(C.jqGrid("groupingRender",Q,r.p.colModel.length,r.p.page,V),Q=null):!0===r.p.treeGrid&&x>0?$(r.rows[x]).after(L.join("")):(ee.append(L.join("")),r.grid.cols=r.rows[0].cells)),r.p.totaltime=new Date-s,L=null,!0===r.p.subGrid)try{C.jqGrid("addSubGrid",P+R)}catch(e){}if(S>0&&0===r.p.records&&(r.p.records=_),!0===r.p.treeGrid)try{C.jqGrid("setTreeNode",x+1,S+x+1)}catch(e){}if(r.p.reccount=S,r.p.treeANode=-1,r.p.userDataOnFooter&&C.jqGrid("footerData","set",r.p.userData,!0),d&&(r.p.records=_,r.p.lastpage=Math.ceil(_/V)),i||r.updatepager(!1,!0),d){for(;S<_&&y[S];){if(m=y[S],void 0===(j=$.jgrid.getAccessor(m,w))&&("number"==typeof w&&null!=r.p.colModel[w+P+N+R]&&(j=$.jgrid.getAccessor(m,r.p.colModel[w+P+N+R].name)),void 0===j&&(j=Y+S,0===I.length&&o.cell))){var se=$.jgrid.getAccessor(m,o.cell)||m;j=null!=se&&void 0!==se[w]?se[w]:j,se=null}if(m){for(j=r.p.idPrefix+j,b=z,o.repeatitems&&(o.cell&&(m=$.jgrid.getAccessor(m,o.cell)||m),$.isArray(m)&&(b=G)),g=0;g<b.length;g++)H[r.p.colModel[g+P+N+R].name]=$.jgrid.getAccessor(m,b[g]);H[l]=$.jgrid.stripPref(r.p.idPrefix,j),r.p.grouping&&X.call(C,H,S),r.p.data.push(H),r.p._index[H[l]]=r.p.data.length-1,H={}}S++}r.p.grouping&&(r.p.groupingView._locgr=!0,C.jqGrid("groupingRender",Q,r.p.colModel.length,r.p.page,V),Q=null)}}},z=function(){function e(t){var i,n,s,o,a,l,c=0;if(null!=t.groups){for((n=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&v.orBegin(),i=0;i<t.groups.length;i++){c>0&&n&&v.or();try{e(t.groups[i])}catch(e){alert(e)}c++}n&&v.orEnd()}if(null!=t.rules)try{for((s=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&v.orBegin(),i=0;i<t.rules.length;i++)a=t.rules[i],o=t.groupOp.toString().toUpperCase(),m[a.op]&&a.field&&(c>0&&o&&"OR"===o&&(v=v.or()),"date"===(l=d[a.field]).stype&&l.srcfmt&&l.newfmt&&l.srcfmt!==l.newfmt&&(a.data=$.jgrid.parseDate.call(r,l.newfmt,a.data,l.srcfmt)),v=m[a.op](v,o)(a.field,a.data,d[a.field])),c++;s&&v.orEnd()}catch(e){alert(e)}}var t,i,n,s,o=r.p.multiSort?[]:"",a=[],l=!1,d={},c=[],u=[];if($.isArray(r.p.data)){var p,h,f,g=!!r.p.grouping&&r.p.groupingView;if($.each(r.p.colModel,(function(){if(i=this.sorttype||"text",f=this.index||this.name,"date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(r,"formatter.date.srcformat"),n=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(r,"formatter.date.newformat")):t=n=this.datefmt||"Y-m-d",d[f]={stype:i,srcfmt:t,newfmt:n,sfunc:this.sortfunc||null}):d[f]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},r.p.grouping)for(h=0,p=g.groupField.length;h<p;h++)this.name===g.groupField[h]&&(c[h]=d[f],u[h]=f);r.p.multiSort||l||f!==r.p.sortname||(o=f,l=!0)})),r.p.multiSort&&(o=_,a=y),!r.p.treeGrid||!r.p._sort){var m={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},in:function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},v=$.jgrid.from.call(r,r.p.data);if(r.p.ignoreCase&&(v=v.ignoreCase()),!0===r.p.search){var b=r.p.postData.filters;if(b)"string"==typeof b&&(b=$.jgrid.parse(b)),e(b);else try{"date"===(s=d[r.p.postData.searchField]).stype&&s.srcfmt&&s.newfmt&&s.srcfmt!==s.newfmt&&(r.p.postData.searchString=$.jgrid.parseDate.call(r,s.newfmt,r.p.postData.searchString,s.srcfmt)),v=m[r.p.postData.searchOper](v)(r.p.postData.searchField,r.p.postData.searchString,d[r.p.postData.searchField])}catch(e){}}else r.p.treeGrid&&"nested"===r.p.treeGridModel&&v.orderBy(r.p.treeReader.left_field,"asc","integer","",null);if(r.p.treeGrid&&"adjacency"===r.p.treeGridModel&&(p=0,o=null),r.p.grouping)for(h=0;h<p;h++)v.orderBy(u[h],g.groupOrder[h],c[h].stype,c[h].srcfmt);r.p.multiSort?$.each(o,(function(e){v.orderBy(this,a[e],d[this].stype,d[this].srcfmt,d[this].sfunc)})):o&&r.p.sortorder&&l&&("DESC"===r.p.sortorder.toUpperCase()?v.orderBy(r.p.sortname,"d",d[o].stype,d[o].srcfmt,d[o].sfunc):v.orderBy(r.p.sortname,"a",d[o].stype,d[o].srcfmt,d[o].sfunc));var w=v.select(),x=parseInt(r.p.rowNum,10),j=w.length,D=parseInt(r.p.page,10),k=Math.ceil(j/x),C={};if((r.p.search||r.p.resetsearch)&&r.p.grouping&&r.p.groupingView._locgr){r.p.groupingView.groups=[];var S,I,T,q=$.jgrid.getMethod("groupingPrepare");if(r.p.footerrow&&r.p.userDataOnFooter){for(I in r.p.userData)r.p.userData.hasOwnProperty(I)&&(r.p.userData[I]=0);T=!0}for(S=0;S<j;S++){if(T)for(I in r.p.userData)r.p.userData.hasOwnProperty(I)&&(r.p.userData[I]+=parseFloat(w[S][I]||0));q.call($(r),w[S],S,x)}}return w=r.p.treeGrid&&r.p.search?$(r).jqGrid("searchTree",w):w.slice((D-1)*x,D*x),v=null,d=null,C[r.p.localReader.total]=k,C[r.p.localReader.page]=D,C[r.p.localReader.records]=j,C[r.p.localReader.root]=w,C[r.p.localReader.userdata]=r.p.userData,w=null,C}$(r).jqGrid("SortTree",o,r.p.sortorder,d[o].stype||"text",d[o].srcfmt||"")}},H=function(e,t){var i,n,s,o,a,l,d,h,g="",m=r.p.pager?$.jgrid.jqID(r.p.pager.substr(1)):"",v=m?"_"+m:"",b=r.p.toppager?"_"+r.p.toppager.substr(1):"";if((s=parseInt(r.p.page,10)-1)<0&&(s=0),a=(s*=parseInt(r.p.rowNum,10))+r.p.reccount,r.p.scroll){var _=$("tbody:first > tr:gt(0)",r.grid.bDiv);s=a-_.length,r.p.reccount=_.length;var y=_.outerHeight()||r.grid.prevRowHeight;if(y){var w=s*y,x=parseInt(r.p.records,10)*y;$(">div:first",r.grid.bDiv).css({height:x}).children("div:first").css({height:w,display:w?"":"none"}),0===r.grid.bDiv.scrollTop&&r.p.page>1&&(r.grid.bDiv.scrollTop=r.p.rowNum*(r.p.page-1)*y)}r.grid.bDiv.scrollLeft=r.grid.hDiv.scrollLeft}if(g=r.p.pager||"",g+=r.p.toppager?g?","+r.p.toppager:r.p.toppager:""){if(d=$.jgrid.getRegional(r,"formatter.integer"),i=k(r.p.page),n=k(r.p.lastpage),$(".selbox",g)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===r.p.pginput&&($("#input"+v).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+c(u,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"'></span>")),r.p.toppager&&$("#input_t"+b).html($.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input "+c(u,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(m)+"_toppager'></span>")),$(".ui-pg-input",g).val(r.p.page),h=r.p.toppager?"#sp_1"+v+",#sp_1"+v+"_toppager":"#sp_1"+v,$(h).html($.fmatter?$.fmatter.util.NumberFormat(r.p.lastpage,d):r.p.lastpage)),r.p.viewrecords)if(0===r.p.reccount)$(".ui-paging-info",g).html($.jgrid.getRegional(r,"defaults.emptyrecords",r.p.emptyrecords));else{o=s+1,l=r.p.records,$.fmatter&&(o=$.fmatter.util.NumberFormat(o,d),a=$.fmatter.util.NumberFormat(a,d),l=$.fmatter.util.NumberFormat(l,d));var j=$.jgrid.getRegional(r,"defaults.recordtext",r.p.recordtext);$(".ui-paging-info",g).html($.jgrid.template(j,o,a,l))}!0===r.p.pgbuttons&&(i<=0&&(i=n=0),1===i||0===i?($("#first"+v+", #prev"+v).addClass(p).removeClass(f),r.p.toppager&&$("#first_t"+b+", #prev_t"+b).addClass(p).removeClass(f)):($("#first"+v+", #prev"+v).removeClass(p),r.p.toppager&&$("#first_t"+b+", #prev_t"+b).removeClass(p)),i===n||0===i?($("#next"+v+", #last"+v).addClass(p).removeClass(f),r.p.toppager&&$("#next_t"+b+", #last_t"+b).addClass(p).removeClass(f)):($("#next"+v+", #last"+v).removeClass(p),r.p.toppager&&$("#next_t"+b+", #last_t"+b).removeClass(p)))}!0===e&&!0===r.p.rownumbers&&$(">td.jqgrid-rownum",r.rows).each((function(e){$(this).html(s+1+e)})),t&&r.p.jqgdnd&&$(r).jqGrid("gridDnD","updateDnD"),$(r).triggerHandler("jqGridGridComplete"),$.isFunction(r.p.gridComplete)&&r.p.gridComplete.call(r),$(r).triggerHandler("jqGridAfterGridComplete")},L=function(){r.grid.hDiv.loading=!0,r.p.hiddengrid||$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.loadtext",r.p.loadtext)})},W=function(){r.grid.hDiv.loading=!1,$(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui})},B=function(e){if(!r.grid.hDiv.loading){var t,i,n=r.p.scroll&&!1===e,s={},o=r.p.prmNames;r.p.page<=0&&(r.p.page=Math.min(1,r.p.lastpage)),null!==o.search&&(s[o.search]=r.p.search),null!==o.nd&&(s[o.nd]=(new Date).getTime()),null!==o.rows&&(s[o.rows]=r.p.rowNum),null!==o.page&&(s[o.page]=r.p.page),null!==o.sort&&(s[o.sort]=r.p.sortname),null!==o.order&&(s[o.order]=r.p.sortorder),null!==r.p.rowTotal&&null!==o.totalrows&&(s[o.totalrows]=r.p.rowTotal);var a=$.isFunction(r.p.loadComplete),l=a?r.p.loadComplete:null,d=0;if((e=e||1)>1?null!==o.npage?(s[o.npage]=e,d=e-1,e=1):l=function(t){r.p.page++,r.grid.hDiv.loading=!1,a&&r.p.loadComplete.call(r,t),B(e-1)}:null!==o.npage&&delete r.p.postData[o.npage],r.p.grouping){$(r).jqGrid("groupingSetup");var c,u=r.p.groupingView,p="";for(c=0;c<u.groupField.length;c++){var h=u.groupField[c];$.each(r.p.colModel,(function(e,t){t.name===h&&t.index&&(h=t.index)})),p+=h+" "+u.groupOrder[c]+", "}s[o.sort]=p+s[o.sort]}$.extend(r.p.postData,s);var f=r.p.scroll?r.rows.length-1:1,g=$(r).triggerHandler("jqGridBeforeRequest");if(!1===g||"stop"===g)return;if($.isFunction(r.p.datatype))return void r.p.datatype.call(r,r.p.postData,"load_"+r.p.id,f,e,d);if($.isFunction(r.p.beforeRequest)&&(void 0===(g=r.p.beforeRequest.call(r))&&(g=!0),!1===g))return;switch(t=r.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:r.p.url,type:r.p.mtype,dataType:t,data:$.isFunction(r.p.serializeGridData)?r.p.serializeGridData.call(r,r.p.postData):r.p.postData,success:function(i,s,o){$.isFunction(r.p.beforeProcessing)&&!1===r.p.beforeProcessing.call(r,i,s,o)?W():("xml"===t?R(i,f,e>1,d):G(i,f,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[i]),l&&l.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),n&&r.grid.populateVisible(),(r.p.loadonce||r.p.treeGrid)&&(r.p.datatype="local"),i=null,1===e&&W())},error:function(t,i,n){$.isFunction(r.p.loadError)&&r.p.loadError.call(r,t,i,n),1===e&&W(),t=null},beforeSend:function(e,t){var i=!0;if($.isFunction(r.p.loadBeforeSend)&&(i=r.p.loadBeforeSend.call(r,e,t)),void 0===i&&(i=!0),!1===i)return!1;L()}},$.jgrid.ajaxOptions,r.p.ajaxGridOptions));break;case"xmlstring":L(),i="string"!=typeof r.p.datastr?r.p.datastr:$.parseXML(r.p.datastr),R(i),$(r).triggerHandler("jqGridLoadComplete",[i]),a&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,W();break;case"jsonstring":L(),i="string"==typeof r.p.datastr?$.jgrid.parse(r.p.datastr):r.p.datastr,G(i),$(r).triggerHandler("jqGridLoadComplete",[i]),a&&r.p.loadComplete.call(r,i),$(r).triggerHandler("jqGridAfterLoadComplete",[i]),r.p.datatype="local",r.p.datastr=null,W();break;case"local":case"clientside":L(),r.p.datatype="local",r.p._ald=!0;var m=z();G(m,f,e>1,d),$(r).triggerHandler("jqGridLoadComplete",[m]),l&&l.call(r,m),$(r).triggerHandler("jqGridAfterLoadComplete",[m]),n&&r.grid.populateVisible(),W(),r.p._ald=!1}r.p._sort=!1}},U=function(e){$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.hDiv)[r.p.useProp?"prop":"attr"]("checked",e),(r.p.frozenColumns?r.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(r.p.id),r.grid.fhDiv)[r.p.useProp?"prop":"attr"]("checked",e)},V=function(e,t){var i,n,s,o,l,d,h,g="<td class='ui-pg-button "+p+"'><span class='ui-separator'></span></td>",v="",b="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",_="",y=function(e,t){var i;return $.isFunction(r.p.onPaging)&&(i=r.p.onPaging.call(r,e,t)),"stop"!==i&&(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],U(!1)),r.p.savedRow=[],!0)};if(e=e.substr(1),t+="_"+e,i="pg_"+e,n=e+"_left",s=e+"_center",o=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table "+c(u,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+n+"' align='left'></td><td id='"+s+"' align='center' style='white-space:pre;'></td><td id='"+o+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),r.p.rowList.length>0){var w;for(_='<td dir="'+a+'">',_+="<select "+c(u,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(r,"defaults.pgrecs",r.p.pgrecs)||"")+'">',h=0;h<r.p.rowList.length;h++)1===(w=r.p.rowList[h].toString().split(":")).length&&(w[1]=w[0]),_+='<option role="option" value="'+w[0]+'"'+(k(r.p.rowNum,0)===k(w[0],0)?' selected="selected"':"")+">"+w[1]+"</option>";_+="</select></td>"}if("rtl"===a&&(b+=_),!0===r.p.pginput&&(v="<td id='input"+t+"' dir='"+a+"'>"+$.jgrid.template($.jgrid.getRegional(r,"defaults.pgtext",r.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),!0===r.p.pgbuttons){var x=["first"+t,"prev"+t,"next"+t,"last"+t],j=c(u,"pgButtonBox",!0,"ui-pg-button"),D=[$.jgrid.getRegional(r,"defaults.pgfirst",r.p.pgfirst)||"",$.jgrid.getRegional(r,"defaults.pgprev",r.p.pgprev)||"",$.jgrid.getRegional(r,"defaults.pgnext",r.p.pgnext)||"",$.jgrid.getRegional(r,"defaults.pglast",r.p.pglast)||""];"rtl"===a&&(x.reverse(),D.reverse()),b+="<td id='"+x[0]+"' class='"+j+"' title='"+D[0]+"'><span "+c(u,"icon_first",!1,m)+"></span></td>",b+="<td id='"+x[1]+"' class='"+j+"'  title='"+D[1]+"'><span "+c(u,"icon_prev",!1,m)+"></span></td>",b+=""!==v?g+v+g:"",b+="<td id='"+x[2]+"' class='"+j+"' title='"+D[2]+"'><span "+c(u,"icon_next",!1,m)+"></span></td>",
b+="<td id='"+x[3]+"' class='"+j+"' title='"+D[3]+"'><span "+c(u,"icon_end",!1,m)+"></span></td>"}else""!==v&&(b+=v);"ltr"===a&&(b+=_),b+="</tr></tbody></table>",!0===r.p.viewrecords&&$("td#"+e+"_"+r.p.recordpos,"#"+i).append("<div dir='"+a+"' style='text-align:"+r.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+r.p.pagerpos,"#"+i).append(b),d=$("#gbox_"+$.jgrid.jqID(r.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(r.p.id)).append("<div id='testpg' "+c(u,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+d+";visibility:hidden;' ></div>"),l=$(b).clone().appendTo("#testpg").width(),$("#testpg").remove(),l>0&&(""!==v&&(l+=50),$("td#"+e+"_"+r.p.pagerpos,"#"+i).width(l)),r.p._nvtd=[],r.p._nvtd[0]=l?Math.floor((r.p.width-l)/2):Math.floor(r.p.width/3),r.p._nvtd[1]=0,b=null,$(".ui-pg-selbox","#"+i).bind("change",(function(){return!!y("records",this)&&(r.p.page=Math.round(r.p.rowNum*(r.p.page-1)/this.value-.5)+1,r.p.rowNum=this.value,r.p.pager&&$(".ui-pg-selbox",r.p.pager).val(this.value),r.p.toppager&&$(".ui-pg-selbox",r.p.toppager).val(this.value),B(),!1)})),!0===r.p.pgbuttons&&($(".ui-pg-button","#"+i).hover((function(){$(this).hasClass(p)?this.style.cursor="default":($(this).addClass(f),this.style.cursor="pointer")}),(function(){$(this).hasClass(p)||($(this).removeClass(f),this.style.cursor="default")})),$("#first"+$.jgrid.jqID(t)+", #prev"+$.jgrid.jqID(t)+", #next"+$.jgrid.jqID(t)+", #last"+$.jgrid.jqID(t)).click((function(){if($(this).hasClass(p))return!1;var e=k(r.p.page,1),i=k(r.p.lastpage,1),n=!1,s=!0,o=!0,a=!0,l=!0;return 0===i||1===i?(s=!1,o=!1,a=!1,l=!1):i>1&&e>=1?1===e?(s=!1,o=!1):e===i&&(a=!1,l=!1):i>1&&0===e&&(a=!1,l=!1,e=i-1),!!y(this.id.split("_")[0],this)&&(this.id==="first"+t&&s&&(r.p.page=1,n=!0),this.id==="prev"+t&&o&&(r.p.page=e-1,n=!0),this.id==="next"+t&&a&&(r.p.page=e+1,n=!0),this.id==="last"+t&&l&&(r.p.page=i,n=!0),n&&B(),!1)}))),!0===r.p.pginput&&$("#"+i).on("keypress","input.ui-pg-input",(function(e){return 13===(e.charCode||e.keyCode||0)?!!y("user",this)&&($(this).val(k($(this).val(),1)),r.p.page=$(this).val()>0?$(this).val():r.p.page,B(),!1):this}))},Y=function(e,t,i){var n,s=r.p.colModel,o=r.p.frozenColumns?t:r.grid.headers[e].el,a="";$("span.ui-grid-ico-sort",o).addClass(p),$(o).attr("aria-selected","false"),n=s[e].index||s[e].name,void 0===i?s[e].lso?"asc"===s[e].lso?(s[e].lso+="-desc",a="desc"):"desc"===s[e].lso?(s[e].lso+="-asc",a="asc"):"asc-desc"!==s[e].lso&&"desc-asc"!==s[e].lso||(s[e].lso=""):s[e].lso=a=s[e].firstsortorder||"asc":s[e].lso=a=i,a?($("span.s-ico",o).show(),$("span.ui-icon-"+a,o).removeClass(p),$(o).attr("aria-selected","true")):r.p.viewsortcols[0]||$("span.s-ico",o).hide();var l=_.indexOf(n);-1===l?(_.push(n),y.push(a)):a?y[l]=a:(y.splice(l,1),_.splice(l,1)),r.p.sortorder="",r.p.sortname="";for(var d=0,c=_.length;d<c;d++)d>0&&(r.p.sortname+=", "),r.p.sortname+=_[d],d!==c-1&&(r.p.sortname+=" "+y[d]);r.p.sortorder=y[c-1]},K=function(e,t,i,n,s){if(r.p.colModel[t].sortable&&!(r.p.savedRow.length>0)){if(i||(r.p.lastsort===t&&""!==r.p.sortname?"asc"===r.p.sortorder?r.p.sortorder="desc":"desc"===r.p.sortorder&&(r.p.sortorder="asc"):r.p.sortorder=r.p.colModel[t].firstsortorder||"asc",r.p.page=1),r.p.multiSort)Y(t,s,n);else{if(n){if(r.p.lastsort===t&&r.p.sortorder===n&&!i)return;r.p.sortorder=n}var o,a=r.grid.headers[r.p.lastsort]?r.grid.headers[r.p.lastsort].el:null,l=r.p.frozenColumns?s:r.grid.headers[t].el,d="single"===r.p.viewsortcols[1];(o=$(a).find("span.ui-grid-ico-sort")).addClass(p),d&&$(o).css("display","none"),$(a).attr("aria-selected","false"),r.p.frozenColumns&&((o=r.grid.fhDiv.find("span.ui-grid-ico-sort")).addClass(p),d&&o.css("display","none"),r.grid.fhDiv.find("th").attr("aria-selected","false")),(o=$(l).find("span.ui-icon-"+r.p.sortorder)).removeClass(p),d&&o.css("display",""),$(l).attr("aria-selected","true"),r.p.viewsortcols[0]||(r.p.lastsort!==t?(r.p.frozenColumns&&r.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",a).hide(),$("span.s-ico",l).show()):""===r.p.sortname&&$("span.s-ico",l).show()),e=e.substring(5+r.p.id.length+1),r.p.sortname=r.p.colModel[t].index||e}if("stop"!==$(r).triggerHandler("jqGridSortCol",[r.p.sortname,t,r.p.sortorder]))if($.isFunction(r.p.onSortCol)&&"stop"===r.p.onSortCol.call(r,r.p.sortname,t,r.p.sortorder))r.p.lastsort=t;else{if("local"===r.p.datatype?r.p.deselectAfterSort&&$(r).jqGrid("resetSelection"):(r.p.selrow=null,r.p.multiselect&&U(!1),r.p.selarrrow=[],r.p.savedRow=[]),r.p.scroll){var c=r.grid.bDiv.scrollLeft;O.call(r,!0,!1),r.grid.hDiv.scrollLeft=c}r.p.subGrid&&"local"===r.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(r.p.id)).each((function(){$(this).trigger("click")})),r.p._sort=!0,B(),r.p.lastsort=t,r.p.sortname!==e&&t&&(r.p.lastsort=t)}else r.p.lastsort=t}},X=function(){var e,t,i,s,o=0,a=$.jgrid.cell_width?0:k(r.p.cellLayout,0),l=0,d=k(r.p.scrollOffset,0),c=!1,u=0;$.each(r.p.colModel,(function(){if(void 0===this.hidden&&(this.hidden=!1),r.p.grouping&&r.p.autowidth){var e=$.inArray(this.name,r.p.groupingView.groupField);e>=0&&r.p.groupingView.groupColumnShow.length>e&&(this.hidden=!r.p.groupingView.groupColumnShow[e])}this.widthOrg=t=k(this.width,0),!1===this.hidden&&(o+=t+a,this.fixed?u+=t+a:l++)})),isNaN(r.p.width)&&(r.p.width=o+(!1!==r.p.shrinkToFit||isNaN(r.p.height)?0:d)),n.width=parseInt(r.p.width,10),r.p.tblwidth=o,!1===r.p.shrinkToFit&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===r.p.shrinkToFit&&l>0&&(i=n.width-a*l-u,isNaN(r.p.height)||(i-=d,c=!0),o=0,$.each(r.p.colModel,(function(n){!1!==this.hidden||this.fixed||(t=Math.round(i*this.width/(r.p.tblwidth-a*l-u)),this.width=t,o+=t,e=n)})),s=0,c?n.width-u-(o+a*l)!==d&&(s=n.width-u-(o+a*l)-d):c||1===Math.abs(n.width-u-(o+a*l))||(s=n.width-u-(o+a*l)),r.p.colModel[e].width+=s,r.p.tblwidth=o+s+a*l+u,r.p.tblwidth>r.p.width&&(r.p.colModel[e].width-=r.p.tblwidth-parseInt(r.p.width,10),r.p.tblwidth=r.p.width))},J=function(e){var t,i=e,n=e;for(t=e+1;t<r.p.colModel.length;t++)if(!0!==r.p.colModel[t].hidden){n=t;break}return n-i},Q=function(e){var t=$(r.grid.headers[e].el),i=[t.position().left+t.outerWidth()];return"rtl"===r.p.direction&&(i[0]=r.p.width-i[0]),i[0]-=r.grid.bDiv.scrollLeft,i.push($(r.grid.hDiv).position().top),i.push($(r.grid.bDiv).offset().top-$(r.grid.hDiv).offset().top+$(r.grid.bDiv).height()),i},Z=function(e){var t,i=r.grid.headers,n=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++)if(e===i[t].el){n=t;break}return n},ee=function(e,t,i){var n,s=r.p.colModel,o=s.length,a=[],l=$.jgrid.getRegional(r,"colmenu"),d='<ul id="col_menu" class="ui-search-menu  ui-col-menu modal-content" role="menu" tabindex="0" style="left:'+t+"px;top:"+e+'px;">';for(n=0;n<o;n++){var c=s[n].hidden?"":"checked",u=s[n].name,p=r.p.colNames[n];d+="<li "+("cb"===u||"subgrid"===u||"rn"===u||s[n].hidedlg?"style='display:none'":"")+' class="ui-menu-item" role="presentation" draggable="true"><a class="g-menu-item" tabindex="0" role="menuitem" ><table class="ui-common-table" ><tr><td class="menu_icon" title="'+l.reorder+'"><span class="'+m+" "+v.icon_move+' notclick"></span></td><td class="menu_icon"><input class="'+v.input_checkbox+'" type="checkbox" name="'+u+'" '+c+'></td><td class="menu_text">'+p+"</td></tr></table></a></li>",a.push(n)}d+="</ul>",$(i).append(d),$("#col_menu").addClass("ui-menu "+v.menu_widget),$.fn.html5sortable()&&$("#col_menu").html5sortable({handle:"span",forcePlaceholderSize:!0}).bind("sortupdate",(function(e,t){for(a.splice(t.startindex,1),a.splice(t.endindex,0,t.startindex),$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",a,!0),$(r).jqGrid("setFrozenColumns"),n=0;n<o;n++)a[n]=n})),$("#col_menu > li > a").on("click",(function(e){var t;$(e.target).hasClass("notclick")||($(e.target).is(":input")?t=$(e.target).is(":checked"):(t=!$("input",this).is(":checked"),$("input",this).prop("checked",t)),t?($(r).jqGrid("showCol",$("input",this).attr("name")),$(this).parent().attr("draggable","true")):($(r).jqGrid("hideCol",$("input",this).attr("name")),$(this).parent().attr("draggable","false")))})).hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)}))},te=function(e,t,i,n){var s,o,a,l,d,c=r.p.colModel[e],u="",p="",h="",g="",m="",b="",_=["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],y=["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],w=$.jgrid.getRegional(r,"search"),x=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(c){(s=!(!r.p.colFilters||!r.p.colFilters[c.name])&&r.p.colFilters[c.name])&&!$.isEmptyObject(s)&&(u=s.oper1,p=s.value1,h=s.rule,g=s.oper2,m=s.value2),c.searchoptions||(c.searchoptions={}),o=c.searchoptions.sopt?c.searchoptions.sopt:"text"===c.sorttype?y:_,a=c.searchoptions.operands?c.searchoptions.operands:w.groupOps,d=$("<form></form>");var j="<div>"+$.jgrid.getRegional(r,"colmenu.searchTitle")+"</div>";j+='<div><select id="oper1" class="'+v.filter_select+'">',$.each(w.odata,(function(e,t){l=t.oper===u?'selected="selected"':"",-1!==$.inArray(t.oper,o)&&(b+='<option value="'+t.oper+'" '+l+">"+t.text+"</option>")})),j+=b,j+="</select></div>",d.append(j);var D="";c.searchoptions.defaultValue&&(D=$.isFunction(c.searchoptions.defaultValue)?c.searchoptions.defaultValue.call(r):c.searchoptions.defaultValue),p&&(D=p);var k=$.extend(c.searchoptions,{name:c.index||c.name,id:"sval1_"+r.p.idPrefix+c.name,oper:"search"}),C=$.jgrid.createEl.call(r,c.stype,k,D,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));$(C).addClass(v.filter_input),j=$("<div></div>").append(C),d.append(j),j='<div><select id="operand" class="'+v.filter_select+'">',$.each(a,(function(e,t){l=t.op===h?'selected="selected"':"",j+="<option value='"+t.op+"' "+l+">"+t.text+"</option>"})),j+="</select></div>",d.append(j),b="",$.each(w.odata,(function(e,t){l=t.oper===g?'selected="selected"':"",-1!==$.inArray(t.oper,o)&&(b+='<option value="'+t.oper+'" '+l+">"+t.text+"</option>")})),j='<div><select id="oper2" class="'+v.filter_select+'">'+b+"</select></div>",d.append(j),D=m||"",k=$.extend(c.searchoptions,{name:c.index||c.name,id:"sval2_"+r.p.idPrefix+c.name,oper:"search"}),C=$.jgrid.createEl.call(r,c.stype,k,D,!1,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{})),$(C).addClass(v.filter_input),j=$("<div></div>").append(C),d.append(j),j="<div>",j+="<div class='search_buttons'><a tabindex='0' id='bs_reset' class='fm-button "+x.button+" ui-reset'>"+w.Reset+"</a></div>",j+="<div class='search_buttons'><a tabindex='0' id='bs_search' class='fm-button "+x.button+" ui-search'>"+w.Find+"</a></div>",j+="</div>",d.append(j),d=$('<li class="ui-menu-item" role="presentation"></li>').append(d),d=$('<ul id="search_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="left:'+i+"px;top:"+t+'px;"></ul>').append(d),$(n).append(d),$("#search_menu").addClass("ui-menu "+v.menu_widget),$("#bs_reset, #bs_search","#search_menu").hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})),$(d).find("#bs_reset").click((function(){return r.p.colFilters[c.name]={},r.p.postData.filters=ie(),r.p.search=!0,$(r).trigger("reloadGrid"),$("#column_menu").remove(),!1})),$(d).find("#bs_search").click((function(){return r.p.colFilters[c.name]={oper1:$("#oper1","#search_menu").val(),value1:$("#sval1_"+r.p.idPrefix+c.name,"#search_menu").val(),rule:$("#operand","#search_menu").val(),oper2:$("#oper2","#search_menu").val(),value2:$("#sval2_"+r.p.idPrefix+c.name,"#search_menu").val()},r.p.postData.filters=ie(),r.p.search=!0,$(r).trigger("reloadGrid"),$("#column_menu").remove(),!1}))}},ie=function(){var e='{"groupOp":"'+"AND"+'","rules":[], "groups" : [',t=0;for(var i in r.p.colFilters)if(r.p.colFilters.hasOwnProperty(i)){var n=r.p.colFilters[i];$.isEmptyObject(n)||(t>0&&(e+=","),e+='{"groupOp": "'+n.rule+'", "rules" : [',e+='{"field":"'+i+'",',e+='"op":"'+n.oper1+'",',n.value1+="",e+='"data":"'+n.value1.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',n.value2&&(e+=',{"field":"'+i+'",',e+='"op":"'+n.oper2+'",',n.value2+="",e+='"data":"'+n.value2.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}'),e+="]}",t++)}return e+="]}"},re=function(e,t){var i=r.p.colModel[e],n=r.p.groupingView;-1!==t?n.groupField.splice(t,1):n.groupField.push(i.name),$(r).jqGrid("groupingGroupBy",n.groupField),r.p.frozenColumns&&($(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("setFrozenColumns"))},ne=function(e,t){var i,n=[],s=r.p.colModel.length,o=-1,a=r.p.colModel;for(i=0;i<s;i++)a[i].frozen&&(o=i),n.push(i);n.splice(e,1),n.splice(o+(t?1:0),0,e),a[e].frozen=t,$(r).jqGrid("destroyFrozenColumns"),$(r).jqGrid("remapColumns",n,!0),$(r).jqGrid("setFrozenColumns")},se=function(e,t,i){t=parseInt(t,10),i=parseInt(i,10)+25;var n,s,o='<ul id="column_menu" class="ui-search-menu modal-content column-menu" role="menu" tabindex="0" style="font-size:'+($(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+t+"px;top:"+i+'px;">',a=r.p.colModel[e],l=$.extend({sorting:!0,columns:!0,filtering:!0,seraching:!0,grouping:!0,freeze:!0},a.coloptions),d=$.jgrid.getRegional(r,"colmenu");if(l.sorting&&(o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortasc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_sort_asc+'"></span></td><td class="menu_text">'+d.sortasc+"</td></tr></table></a></li>",o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortdesc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_sort_desc+'"></span></td><td class="menu_text">'+d.sortdesc+"</td></tr></table></a></li>"),l.columns&&(o+='<li class="ui-menu-item divider" role="separator"></li>',o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="columns"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_columns+'"></span></td><td class="menu_text">'+d.columns+"</td></tr></table></a></li>"),l.filtering&&(o+='<li class="ui-menu-item divider" role="separator"></li>',o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="filtering"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_filter+'"></span></td><td class="menu_text">'+d.filter+" "+(a.label||a.name)+"</td></tr></table></a></li>"),l.grouping&&(n=$.inArray(a.name,r.p.groupingView.groupField),o+='<li class="ui-menu-item divider" role="separator"></li>',o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="grouping"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_group+'"></span></td><td class="menu_text">'+(-1!==n?d.ungrouping:d.grouping+" "+(a.label||a.name))+"</td></tr></table></a></li>"),l.freeze&&(s=!a.frozen||!r.p.frozenColumns,o+='<li class="ui-menu-item divider" role="separator"></li>',o+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="freeze"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+m+" "+v.icon_freeze+'"></span></td><td class="menu_text">'+(s?d.freeze+" "+(a.label||a.name):d.unfreeze)+"</td></tr></table></a></li>"),o+="</ul>",$("body").append(o),$("#column_menu").addClass("ui-menu "+v.menu_widget),"ltr"===r.p.direction){var c=$("#column_menu").width()+26;$("#column_menu").css("left",t-c)}$("#column_menu > li > a").hover((function(){var t,i;$("#col_menu").remove(),$("#search_menu").remove(),"columns"===$(this).attr("value")&&(t=$(this).parent().width()+18,i=$(this).parent().position().top-5,ee(i,t,$(this).parent())),"filtering"===$(this).attr("value")&&(t=$(this).parent().width()+18,i=$(this).parent().position().top-5,te(e,i,t,$(this).parent())),$(this).addClass(f)}),(function(){$(this).removeClass(f)})).click((function(){var t=$(this).attr("value"),i=r.grid.headers[e].el;"sortasc"===t?K("jqgh_"+r.p.id+"_"+a.name,e,!0,"asc",i):"sortdesc"===t?K("jqgh_"+r.p.id+"_"+a.name,e,!0,"desc",i):"grouping"===t?re(e,n):"freeze"===t&&ne(e,s),-1===t.indexOf("sort")&&"grouping"!==t&&"freeze"!==t||$(this).remove()}))};for(r.p.colMenu&&$("body").on("click",(function(e){$(e.target).closest(".column-menu").length||$("#column_menu").remove()})),this.p.id=this.id,-1===$.inArray(r.p.multikey,D)&&(r.p.multikey=!1),r.p.keyName=!1,l=0;l<r.p.colModel.length;l++)j="string"==typeof r.p.colModel[l].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[r.p.colModel[l].template]?$.jgrid.cmTemplate[r.p.colModel[l].template]:{}:r.p.colModel[l].template,r.p.colModel[l]=$.extend(!0,{},r.p.cmTemplate,j||{},r.p.colModel[l]),!1===r.p.keyName&&!0===r.p.colModel[l].key&&(r.p.keyName=r.p.colModel[l].name);if(r.p.sortorder=r.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===r.p.grouping&&(r.p.scroll=!1,r.p.rownumbers=!1,r.p.treeGrid=!1,r.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(e){}"local"!==r.p.datatype&&(r.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(r).jqGrid("setSubGrid")}catch(e){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?r.p.multiselectWidth+r.p.cellLayout:r.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:r.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),r.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},r.p.xmlReader),r.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.jsonReader),r.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},r.p.localReader),r.p.scroll&&(r.p.pgbuttons=!1,r.p.pginput=!1,r.p.rowList=[]),r.p.data.length&&(P(),N());var oe,ae,le,de,ce,ue,pe,he,fe,ge="<thead><tr class='ui-jqgrid-labels' role='row'>",me="",ve="",be="";if(!0===r.p.shrinkToFit&&!0===r.p.forceFit)for(l=r.p.colModel.length-1;l>=0;l--)if(!r.p.colModel[l].hidden){r.p.colModel[l].resizable=!1;break}if("horizontal"===r.p.viewsortcols[1]?(ve=" ui-i-asc",be=" ui-i-desc"):"single"===r.p.viewsortcols[1]&&(ve=" ui-single-sort-asc",be=" ui-single-sort-desc",me=" style='display:none'",r.p.viewsortcols[0]=!1),oe=b?"class='ui-th-div-ie'":"",he="<span class='s-ico' style='display:none'>",he+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+ve+" ui-sort-"+a+" "+p+" "+m+" "+c(u,"icon_asc",!0)+"'"+me+"></span>",he+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+be+" ui-sort-"+a+" "+p+" "+m+" "+c(u,"icon_desc",!0)+"'"+me+"></span></span>",r.p.multiSort&&r.p.sortname)for(_=r.p.sortname.split(","),l=0;l<_.length;l++)w=$.trim(_[l]).split(" "),_[l]=$.trim(w[0]),y[l]=w[1]?$.trim(w[1]):r.p.sortorder||"asc";for(l=0;l<this.p.colNames.length;l++){var _e=r.p.headertitles?' title="'+$.jgrid.stripHtml(r.p.colNames[l])+'"':"";(fe=r.p.colModel[l]).hasOwnProperty("colmenu")||(fe.colmenu="rn"!==fe.name&&"cb"!==fe.name&&"subgrid"!==fe.name),ge+="<th id='"+r.p.id+"_"+fe.name+"' role='columnheader' "+c(u,"headerBox",!1,"ui-th-column ui-th-"+a)+" "+_e+">",ae=fe.index||fe.name,ge+="<div class='ui-th-div' id='jqgh_"+r.p.id+"_"+fe.name+"' "+oe+">"+r.p.colNames[l],fe.width?fe.width=parseInt(fe.width,10):fe.width=150,"boolean"!=typeof fe.title&&(fe.title=!0),fe.lso="",ae===r.p.sortname&&(r.p.lastsort=l),r.p.multiSort&&-1!==(w=$.inArray(ae,_))&&(fe.lso=y[w]),ge+=he,r.p.colMenu&&fe.colmenu&&(ge+="<a class='colmenu' href='#/'><span class='colmenuspan "+m+" "+v.icon_menu+"'></span></a>"),ge+="</div></th>"}if(ge+="</tr></thead>",he=null,fe=null,$(this).append(ge),$("thead tr:first th",this).hover((function(){$(this).addClass(f)}),(function(){$(this).removeClass(f)})),this.p.multiselect){var ye,$e=[];$("#cb_"+$.jgrid.jqID(r.p.id),this).bind("click",(function(){r.p.selarrrow=[];var e=!0===r.p.frozenColumns?r.p.id+"_frozen":"";this.checked?($(r.rows).each((function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(p)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(h).attr("aria-selected","true"),r.p.selarrrow.push(this.id),r.p.selrow=this.id,e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).addClass(h))))})),ye=!0,$e=[]):($(r.rows).each((function(t){t>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(p)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id))[r.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(h).attr("aria-selected","false"),$e.push(this.id),e&&($("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(this.id),r.grid.fbDiv)[r.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),r.grid.fbDiv).removeClass(h))))})),r.p.selrow=null,ye=!1),$(r).triggerHandler("jqGridSelectAll",[ye?r.p.selarrrow:$e,ye]),$.isFunction(r.p.onSelectAll)&&r.p.onSelectAll.call(r,ye?r.p.selarrrow:$e,ye)}))}if(!0===r.p.autowidth){var we=$(x).innerWidth();r.p.width=we>0?we:"nw"}X(),$(x).css("width",n.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+r.p.id+"'>&#160;</div>"),r.p.scrollPopUp&&$(x).append("<div "+c(u,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+r.p.id+"'></div>"),$(d).css("width",n.width+"px"),ge=$("thead:first",r).get(0);var xe="";r.p.footerrow&&(xe+="<table role='presentation' style='width:"+r.p.tblwidth+"px' "+c(u,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+c(u,"footerBox",!1,"footrow footrow-"+a)+">");var je=$("tr:first",ge),De="<tr class='jqgfirstrow' role='row'>";if(r.p.disableClick=!1,$("th",je).each((function(e){fe=r.p.colModel[e],le=fe.width,void 0===fe.resizable&&(fe.resizable=!0),fe.resizable?(de=document.createElement("span"),$(de).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+a).css("cursor","col-resize"),$(this).addClass(r.p.resizeclass)):de="",$(this).css("width",le+"px").prepend(de),de=null;var t="";fe.hidden&&($(this).css("display","none"),t="display:none;"),De+="<td role='gridcell' style='height:0px;width:"+le+"px;"+t+"'></td>",n.headers[e]={width:le,el:this},"boolean"!=typeof(me=fe.sortable)&&(fe.sortable=!0,me=!0);var i=fe.name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&r.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),me&&(r.p.multiSort?r.p.viewsortcols[0]?($("div span.s-ico",this).show(),r.p.colModel[e].lso&&$("div span.ui-icon-"+fe.lso,this).removeClass(p).css("display","")):r.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+fe.lso,this).removeClass(p).css("display","")):r.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===r.p.lastsort&&$("div span.ui-icon-"+r.p.sortorder,this).removeClass(p).css("display","")):e===r.p.lastsort&&""!==r.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+r.p.sortorder,this).removeClass(p).css("display",""))),r.p.footerrow&&(xe+="<td role='gridcell' "+C(e,0,"",null,"",!1)+">&#160;</td>")})).mousedown((function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=Z(this);return!0===r.p.forceFit&&(r.p.nv=J(t)),n.dragStart(t,e,Q(t)),!1}})).click((function(e){if(r.p.disableClick)return r.p.disableClick=!1,!1;var t,i,n="th>div.ui-jqgrid-sortable";r.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort");var s=$(e.target).closest(n);if(1===s.length){var o;if(r.p.frozenColumns){var a=$(this)[0].id.substring(r.p.id.length+1);$(r.p.colModel).each((function(e){if(this.name===a)return o=e,!1}))}else o=Z(this);if($(e.target).hasClass("colmenuspan")){null!=$("#column_menu")[0]&&$("#column_menu").remove();var l=$.jgrid.getCellIndex(e.target);if(-1===l)return;var d=$(this).offset(),c=d.left,u=d.top;return"ltr"===r.p.direction&&(c+=$(this).outerWidth()),se(l,c,u,s),void e.stopPropagation()}return r.p.viewsortcols[2]||(t=!0,i=s.attr("sort")),null!=o&&K($("div",this)[0].id,o,t,i,this),!1}})),fe=null,r.p.sortable&&$.fn.sortable)try{$(r).jqGrid("sortableColumns",je)}catch(e){}r.p.footerrow&&(xe+="</tr></tbody></table>"),De+="</tr>",pe=document.createElement("tbody"),this.appendChild(pe),$(this).addClass(c(u,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(De),De=null;var ke,Ce,Se,Ie=$("<table "+c(u,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+r.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(ge),Te=!(!r.p.caption||!0!==r.p.hiddengrid),qe=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>"),Ae="Bootstrap"===r.p.styleUI?2:0;ge=null,n.hDiv=document.createElement("div"),n.hDiv.style.width=n.width-Ae+"px",n.hDiv.className=c(u,"headerDiv",!0,"ui-jqgrid-hdiv"),$(n.hDiv).append(qe),$(qe).append(Ie),Ie=null,Te&&$(n.hDiv).hide(),r.p.pager&&("string"==typeof r.p.pager?"#"!==r.p.pager.substr(0,1)&&(r.p.pager="#"+r.p.pager):r.p.pager="#"+$(r.p.pager).attr("id"),$(r.p.pager).css({width:n.width+"px"}).addClass(c(u,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(x),Te&&$(r.p.pager).hide(),V(r.p.pager,"")),!1===r.p.cellEdit&&!0===r.p.hoverrows&&$(r).bind("mouseover",(function(e){ue=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(ue).attr("class")&&$(ue).addClass(f)})).bind("mouseout",(function(e){ue=$(e.target).closest("tr.jqgrow"),$(ue).removeClass(f)})),$(r).before(n.hDiv).click((function(e){if(ce=e.target,ue=$(ce,r.rows).closest("tr.jqgrow"),0===$(ue).length||ue[0].className.indexOf(p)>-1||($(ce,r).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==r.id)return this;var t=$(ce).filter(":enabled").hasClass("cbox"),i=$(r).triggerHandler("jqGridBeforeSelectRow",[ue[0].id,e]);if(i=!1!==i&&"stop"!==i,$.isFunction(r.p.beforeSelectRow)){var n=r.p.beforeSelectRow.call(r,ue[0].id,e);!1!==n&&"stop"!==n||(i=!1)}if("A"!==ce.tagName&&("INPUT"!==ce.tagName&&"TEXTAREA"!==ce.tagName&&"OPTION"!==ce.tagName&&"SELECT"!==ce.tagName||t))if(ke=ue[0].id,(ce=$(ce).closest("tr.jqgrow>td")).length>0&&(Ce=$.jgrid.getCellIndex(ce),Se=$(ce).closest("td,th").html(),$(r).triggerHandler("jqGridCellSelect",[ke,Ce,Se,e]),$.isFunction(r.p.onCellSelect)&&r.p.onCellSelect.call(r,ke,Ce,Se,e)),!0!==r.p.cellEdit){if(i)if(r.p.multikey)e[r.p.multikey]?$(r).jqGrid("setSelection",ke,!0,e):r.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+ke).is(":checked"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+ke)[r.p.useProp?"prop":"attr"]("checked",!t));else if(r.p.multiselect&&r.p.multiboxonly)if(t)$(r).jqGrid("setSelection",ke,!0,e);else{var s=r.p.frozenColumns?r.p.id+"_frozen":"";$(r.p.selarrrow).each((function(e,t){var i=$(r).jqGrid("getGridRowById",t);i&&$(i).removeClass(h),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),s&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s)).removeClass(h),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(s))[r.p.useProp?"prop":"attr"]("checked",!1))})),r.p.selarrrow=[],$(r).jqGrid("setSelection",ke,!0,e)}else $(r).jqGrid("setSelection",ke,!0,e)}else if(r.p.multiselect&&t&&i)$(r).jqGrid("setSelection",ke,!0,e);else if(ce.length>0)try{$(r).jqGrid("editCell",ue[0].rowIndex,Ce,!0)}catch(e){}})).bind("reloadGrid",(function(e,t){if(!0===r.p.treeGrid&&(r.p.datatype=r.p.treedatatype),(t=t||{}).current&&r.grid.selectionPreserver(r),"local"===r.p.datatype?($(r).jqGrid("resetSelection"),r.p.data.length&&(P(),N())):r.p.treeGrid||(r.p.selrow=null,r.p.multiselect&&(r.p.selarrrow=[],U(!1)),r.p.savedRow=[]),r.p.scroll&&O.call(r,!0,!1),t.page){var i=t.page;i>r.p.lastpage&&(i=r.p.lastpage),i<1&&(i=1),r.p.page=i,r.grid.prevRowHeight?r.grid.bDiv.scrollTop=(i-1)*r.grid.prevRowHeight*r.p.rowNum:r.grid.bDiv.scrollTop=0}return r.grid.prevRowHeight&&r.p.scroll&&void 0===t.page?(delete r.p.lastpage,r.grid.populateVisible()):r.grid.populate(),!0===r.p.inlineNav&&$(r).jqGrid("showAddEditButtons"),!1})).dblclick((function(e){if(ce=e.target,ue=$(ce,r.rows).closest("tr.jqgrow"),0!==$(ue).length){ke=ue[0].rowIndex,Ce=$.jgrid.getCellIndex(ce);var t=$(r).triggerHandler("jqGridDblClickRow",[$(ue).attr("id"),ke,Ce,e]);return null!=t||$.isFunction(r.p.ondblClickRow)&&null!=(t=r.p.ondblClickRow.call(r,$(ue).attr("id"),ke,Ce,e))?t:void 0}})).bind("contextmenu",(function(e){if(ce=e.target,ue=$(ce,r.rows).closest("tr.jqgrow"),0!==$(ue).length){r.p.multiselect||$(r).jqGrid("setSelection",ue[0].id,!0,e),ke=ue[0].rowIndex,Ce=$.jgrid.getCellIndex(ce);var t=$(r).triggerHandler("jqGridRightClickRow",[$(ue).attr("id"),ke,Ce,e]);return null!=t||$.isFunction(r.p.onRightClickRow)&&null!=(t=r.p.onRightClickRow.call(r,$(ue).attr("id"),ke,Ce,e))?t:void 0}})),n.bDiv=document.createElement("div"),b&&"auto"===String(r.p.height).toLowerCase()&&(r.p.height="100%"),$(n.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:r.p.height+(isNaN(r.p.height)?"":"px"),width:n.width-Ae+"px"}).scroll(n.scrollGrid),$("table:first",n.bDiv).css({width:r.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),r.p.multikey&&($.jgrid.msie()?$(n.bDiv).bind("selectstart",(function(){return!1})):$(n.bDiv).bind("mousedown",(function(){return!1}))),Te&&$(n.bDiv).hide();var Me=m+" "+c(u,"icon_caption_open",!0),Fe=m+" "+c(u,"icon_caption_close",!0);n.cDiv=document.createElement("div");var Oe=!0===r.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+g+"' title='"+($.jgrid.getRegional(r,"defaults.showhide",r.p.showhide)||"")+"' />").hover((function(){Oe.addClass(f)}),(function(){Oe.removeClass(f)})).append("<span class='ui-jqgrid-headlink "+Me+"'></span>").css("rtl"===a?"left":"right","0px"):"";if($(n.cDiv).append(Oe).append("<span class='ui-jqgrid-title'>"+r.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===a?"-rtl":"")+" "+c(u,"gridtitleBox",!0)),$(n.cDiv).insertBefore(n.hDiv),r.p.toolbar[0]){var Pe=c(u,"customtoolbarBox",!0,"ui-userdata");n.uDiv=document.createElement("div"),"top"===r.p.toolbar[1]?$(n.uDiv).insertBefore(n.hDiv):"bottom"===r.p.toolbar[1]&&$(n.uDiv).insertAfter(n.hDiv),"both"===r.p.toolbar[1]?(n.ubDiv=document.createElement("div"),$(n.uDiv).addClass(Pe+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(n.hDiv).width(n.width-Ae),$(n.ubDiv).addClass(Pe+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(n.hDiv).width(n.width-Ae),Te&&$(n.ubDiv).hide()):$(n.uDiv).width(n.width-Ae).addClass(Pe+" ui-userdata-top").attr("id","t_"+this.id),Te&&$(n.uDiv).hide()}if(r.p.toppager&&(r.p.toppager=$.jgrid.jqID(r.p.id)+"_toppager",n.topDiv=$("<div id='"+r.p.toppager+"'></div>")[0],r.p.toppager="#"+r.p.toppager,$(n.topDiv).addClass(c(u,"toppagerBox",!0,"ui-jqgrid-toppager")).width(n.width-Ae).insertBefore(n.hDiv),V(r.p.toppager,"_t")),r.p.footerrow&&(n.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],qe=$("<div class='ui-jqgrid-hbox"+("rtl"===a?"-rtl":"")+"'></div>"),$(n.sDiv).append(qe).width(n.width-Ae).insertAfter(n.hDiv),$(qe).append(xe),n.footers=$(".ui-jqgrid-ftable",n.sDiv)[0].rows[0].cells,r.p.rownumbers&&(n.footers[0].className=c(u,"rownumBox",!0,"jqgrid-rownum")),Te&&$(n.sDiv).hide()),qe=null,r.p.caption){var Ne=r.p.datatype;!0===r.p.hidegrid&&($(".ui-jqgrid-titlebar-close",n.cDiv).click((function(e){var t,i=$.isFunction(r.p.onHeaderClick),s=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",o=this;return!0===r.p.toolbar[0]&&("both"===r.p.toolbar[1]&&(s+=", #"+$(n.ubDiv).attr("id")),s+=", #"+$(n.uDiv).attr("id")),t=$(s,"#gview_"+$.jgrid.jqID(r.p.id)).length,"visible"===r.p.gridstate?$(s,"#gbox_"+$.jgrid.jqID(r.p.id)).slideUp("fast",(function(){0===--t&&($("span",o).removeClass(Me).addClass(Fe),r.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).hide(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(Te||r.p.onHeaderClick.call(r,r.p.gridstate,e)))})):"hidden"===r.p.gridstate&&$(s,"#gbox_"+$.jgrid.jqID(r.p.id)).slideDown("fast",(function(){0===--t&&($("span",o).removeClass(Fe).addClass(Me),Te&&(r.p.datatype=Ne,B(),Te=!1),r.p.gridstate="visible",
$("#gbox_"+$.jgrid.jqID(r.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(r.p.id)).show(),$(r).triggerHandler("jqGridHeaderClick",[r.p.gridstate,e]),i&&(Te||r.p.onHeaderClick.call(r,r.p.gridstate,e)))})),!1})),Te&&(r.p.datatype="local",$(".ui-jqgrid-titlebar-close",n.cDiv).trigger("click")))}else $(n.cDiv).hide(),r.p.toppager||$(n.hDiv).addClass(c(r.p.styleUI+".common","cornertop",!0));if($(n.hDiv).after(n.bDiv).mousemove((function(e){if(n.resizing)return n.dragMove(e),!1})),$(".ui-jqgrid-labels",n.hDiv).bind("selectstart",(function(){return!1})),$(document).bind("mouseup.jqGrid"+r.p.id,(function(){return!n.resizing||(n.dragEnd(!0),!1)})),"rtl"===r.p.direction&&$(r).bind("jqGridAfterGridComplete.setRTLPadding",(function(){var e=n.bDiv.offsetWidth-n.bDiv.clientWidth;r.p.scrollOffset=e,$("div:first",n.hDiv).css({paddingLeft:e+"px"}),n.hDiv.scrollLeft=n.bDiv.scrollLeft})),r.formatCol=C,r.sortData=K,r.updatepager=H,r.refreshIndex=N,r.setHeadCheckBox=U,r.constructTr=E,r.formatter=function(e,t,i,r,n){return I(e,t,i,r,n)},$.extend(n,{populate:B,emptyRows:O,beginReq:L,endReq:W}),this.grid=n,r.addXmlData=function(e){R(e)},r.addJSONData=function(e){G(e)},this.grid.cols=this.rows[0].cells,$(r).triggerHandler("jqGridInitGrid"),$.isFunction(r.p.onInitGrid)&&r.p.onInitGrid.call(r),B(),r.p.hiddengrid=!1,r.p.responsive){var Ee="onorientationchange"in window?"orientationchange":"resize";$(window).on(Ee,(function(){$(r).jqGrid("resizeGrid")}))}}else alert($.jgrid.getRegional(this,"errors.model"))}else alert("Element is not a table or has no id!")}}))},$.jgrid.extend({getGridParam:function(e,t){var i,r=this[0];if(r&&r.grid){if(void 0===t&&"string"!=typeof t&&(t="jqGrid"),i=r.p,"jqGrid"!==t)try{i=$(r).data(t)}catch(e){i=r.p}return e?void 0!==i[e]?i[e]:null:i}},setGridParam:function(e,t){return this.each((function(){if(null==t&&(t=!1),this.grid&&"object"==typeof e)if(!0===t){var i=$.extend({},this.p,e);this.p=i}else $.extend(!0,this.p,e)}))},getGridRowById:function(e){var t;return this.each((function(){try{for(var i=this.rows.length;i--;)if(e.toString()===this.rows[i].id){t=this.rows[i];break}}catch(i){t=$(this.grid.bDiv).find("#"+$.jgrid.jqID(e))}})),t},getDataIDs:function(){var e,t=[],i=0,r=0;return this.each((function(){if((e=this.rows.length)&&e>0)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[r]=this.rows[i].id,r++),i++})),t},setSelection:function(e,t,i){return this.each((function(){function r(e){var t=$(u.grid.bDiv)[0].clientHeight,i=$(u.grid.bDiv)[0].scrollTop,r=$(u.rows[e]).position().top,n=u.rows[e].clientHeight;r+n>=t+i?$(u.grid.bDiv)[0].scrollTop=r-(t+i)+n+i:r<t+i&&r<i&&($(u.grid.bDiv)[0].scrollTop=r)}var n,s,o,a,l,d,c,u=this,p=$.jgrid.getMethod("getStyleUI"),h=p(u.p.styleUI+".common","highlight",!0),f=p(u.p.styleUI+".common","disabled",!0);void 0!==e&&(t=!1!==t,!(s=$(u).jqGrid("getGridRowById",e))||!s.className||s.className.indexOf(f)>-1||(!0===u.p.scrollrows&&(o=$(u).jqGrid("getGridRowById",e).rowIndex)>=0&&r(o),!0===u.p.frozenColumns&&(d=u.p.id+"_frozen"),u.p.multiselect?(u.setHeadCheckBox(!1),u.p.selrow=s.id,-1===(a=$.inArray(u.p.selrow,u.p.selarrrow))?("ui-subgrid"!==s.className&&$(s).addClass(h).attr("aria-selected","true"),n=!0,u.p.selarrrow.push(u.p.selrow)):("ui-subgrid"!==s.className&&$(s).removeClass(h).attr("aria-selected","false"),n=!1,u.p.selarrrow.splice(a,1),l=u.p.selarrrow[0],u.p.selrow=void 0===l?null:l),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(s.id))[u.p.useProp?"prop":"attr"]("checked",n),d&&(-1===a?$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(h):$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).removeClass(h),$("#jqg_"+$.jgrid.jqID(u.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d))[u.p.useProp?"prop":"attr"]("checked",n)),t&&($(u).triggerHandler("jqGridSelectRow",[s.id,n,i]),u.p.onSelectRow&&u.p.onSelectRow.call(u,s.id,n,i))):"ui-subgrid"!==s.className&&(u.p.selrow!==s.id?((c=$(u).jqGrid("getGridRowById",u.p.selrow))&&$(c).removeClass(h).attr({"aria-selected":"false",tabindex:"-1"}),$(s).addClass(h).attr({"aria-selected":"true",tabindex:"0"}),d&&($("#"+$.jgrid.jqID(u.p.selrow),"#"+$.jgrid.jqID(d)).removeClass(h),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(d)).addClass(h)),n=!0):n=!1,u.p.selrow=s.id,t&&($(u).triggerHandler("jqGridSelectRow",[s.id,n,i]),u.p.onSelectRow&&u.p.onSelectRow.call(u,s.id,n,i)))))}))},resetSelection:function(e){return this.each((function(){var t,i,r=this,n=$.jgrid.getMethod("getStyleUI"),s=n(r.p.styleUI+".common","highlight",!0),o=n(r.p.styleUI+".common","hover",!0);if(!0===r.p.frozenColumns&&(i=r.p.id+"_frozen"),void 0!==e){if(t=e===r.p.selrow?r.p.selrow:e,$("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(t)).removeClass(s).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(s),r.p.multiselect){$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r.p.id))[r.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1),r.setHeadCheckBox(!1);var a=$.inArray($.jgrid.jqID(t),r.p.selarrrow);-1!==a&&r.p.selarrrow.splice(a,1)}r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t),t=null}else r.p.multiselect?($(r.p.selarrrow).each((function(e,t){$($(r).jqGrid("getGridRowById",t)).removeClass(s).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t))[r.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(s),$("#jqg_"+$.jgrid.jqID(r.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[r.p.useProp?"prop":"attr"]("checked",!1)),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,t)})),r.setHeadCheckBox(!1),r.p.selarrrow=[],r.p.selrow=null):r.p.selrow&&($("#"+$.jgrid.jqID(r.p.id)+" tbody:first tr#"+$.jgrid.jqID(r.p.selrow)).removeClass(s).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(r.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(s),r.p.onUnSelectRow&&r.p.onUnSelectRow.call(r,r.p.selrow),r.p.selrow=null);!0===r.p.cellEdit&&parseInt(r.p.iCol,10)>=0&&parseInt(r.p.iRow,10)>=0&&($("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell "+s),$(r.rows[r.p.iRow]).removeClass("selected-row "+o)),r.p.savedRow=[]}))},getRowData:function(e,t){var i,r,n={},s=!1,o=0;return this.each((function(){var a,l,d=this;if(null==e)s=!0,i=[],r=d.rows.length-1;else{if(!(l=$(d).jqGrid("getGridRowById",e)))return n;r=1}for(t&&!0===t&&d.p.data.length>0||(t=!1);o<r;)s&&(l=d.rows[o]),$(l).hasClass("jqgrow")&&(t?n=d.p.data[d.p._index[l.id]]:$('td[role="gridcell"]',l).each((function(e){if("cb"!==(a=d.p.colModel[e].name)&&"subgrid"!==a&&"rn"!==a)if(!0===d.p.treeGrid&&a===d.p.ExpandColumn)n[a]=$.jgrid.htmlDecode($("span:first",this).html());else try{n[a]=$.unformat.call(d,this,{rowId:l.id,colModel:d.p.colModel[e]},e)}catch(e){n[a]=$.jgrid.htmlDecode($(this).html())}})),s&&(i.push(n),n={})),o++})),i||n},delRowData:function(e){var t,i,r,n=!1;return this.each((function(){var s=this;if(!(t=$(s).jqGrid("getGridRowById",e)))return!1;if(s.p.subGrid&&(r=$(t).next()).hasClass("ui-subgrid")&&r.remove(),$(t).remove(),s.p.records--,s.p.reccount--,s.updatepager(!0,!1),n=!0,s.p.multiselect&&-1!==(i=$.inArray(e,s.p.selarrrow))&&s.p.selarrrow.splice(i,1),s.p.multiselect&&s.p.selarrrow.length>0?s.p.selrow=s.p.selarrrow[s.p.selarrrow.length-1]:s.p.selrow===e&&(s.p.selrow=null),"local"===s.p.datatype){var o=$.jgrid.stripPref(s.p.idPrefix,e),a=s.p._index[o];void 0!==a&&(s.p.data.splice(a,1),s.refreshIndex())}if(!0===s.p.altRows&&n){var l=s.p.altclass;$(s.rows).each((function(e){e%2==1?$(this).addClass(l):$(this).removeClass(l)}))}})),n},setRowData:function(e,t,i){var r,n,s=!0;return this.each((function(){if(!this.grid)return!1;var o,a,l=this,d=typeof i,c={};if(!(a=$(this).jqGrid("getGridRowById",e)))return!1;if(t)try{if($(this.p.colModel).each((function(i){r=this.name;var s=$.jgrid.getAccessor(t,r);void 0!==s&&(c[r]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(l,s,this):s,o=l.formatter(e,c[r],i,t,"edit"),n=this.title?{title:$.jgrid.stripHtml(o)}:{},!0===l.p.treeGrid&&r===l.p.ExpandColumn?$("td[role='gridcell']:eq("+i+") > span:first",a).html(o).attr(n):$("td[role='gridcell']:eq("+i+")",a).html(o).attr(n))})),"local"===l.p.datatype){var u,p=$.jgrid.stripPref(l.p.idPrefix,e),h=l.p._index[p];if(l.p.treeGrid)for(u in l.p.treeReader)l.p.treeReader.hasOwnProperty(u)&&delete c[l.p.treeReader[u]];void 0!==h&&(l.p.data[h]=$.extend(!0,l.p.data[h],c)),c=null}}catch(e){s=!1}s&&("string"===d?$(a).addClass(i):null!==i&&"object"===d&&$(a).css(i),$(l).triggerHandler("jqGridAfterGridComplete"))})),s},addRowData:function(e,t,i,r){-1===$.inArray(i,["first","last","before","after"])&&(i="last");var n,s,o,a,l,d,c,u,p,h,f,g,m,v,b=!1,_="",y="",w="";return t&&($.isArray(t)?(p=!0,h=e):(t=[t],p=!1),this.each((function(){var x=this,j=t.length;l=!0===x.p.rownumbers?1:0,o=!0===x.p.multiselect?1:0,a=!0===x.p.subGrid?1:0,p||(void 0!==e?e=String(e):(e=$.jgrid.randId(),!1!==x.p.keyName&&(h=x.p.keyName,void 0!==t[0][h]&&(e=t[0][h])))),f=x.p.altclass;var D,k=0,C=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+x.p.direction),S={},I=!!$.isFunction(x.p.afterInsertRow);for(l&&(_=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),o&&(y=$(x).jqGrid("getStyleUI",x.p.styleUI+".base","multiBox",!1,"cbox"));k<j;){if(g=t[k],s=[],D=C,p){try{void 0===(e=g[h])&&(e=$.jgrid.randId())}catch(t){e=$.jgrid.randId()}D+=!0===x.p.altRows&&(x.rows.length-1)%2==0?" "+f:""}for(v=e,e=x.p.idPrefix+e,l&&(w=x.formatCol(0,1,"",null,e,!0),s[s.length]='<td role="gridcell" '+_+" "+w+">0</td>"),o&&(u='<input role="checkbox" type="checkbox" id="jqg_'+x.p.id+"_"+e+'" '+y+"/>",w=x.formatCol(l,1,"",null,e,!0),s[s.length]='<td role="gridcell" '+w+">"+u+"</td>"),a&&(s[s.length]=$(x).jqGrid("addSubGridCell",o+l,1)),c=o+a+l;c<x.p.colModel.length;c++)m=x.p.colModel[c],S[n=m.name]=g[n],u=x.formatter(e,$.jgrid.getAccessor(g,n),c,g),w=x.formatCol(c,1,u,g,e,S),s[s.length]='<td role="gridcell" '+w+">"+u+"</td>";if(s.unshift(x.constructTr(e,!1,D,S,g)),s[s.length]="</tr>",0===x.rows.length)$("table:first",x.grid.bDiv).append(s.join(""));else switch(i){case"last":$(x.rows[x.rows.length-1]).after(s.join("")),d=x.rows.length-1;break;case"first":$(x.rows[0]).after(s.join("")),d=1;break;case"after":(d=$(x).jqGrid("getGridRowById",r))&&($(x.rows[d.rowIndex+1]).hasClass("ui-subgrid")?$(x.rows[d.rowIndex+1]).after(s):$(d).after(s.join("")),d=d.rowIndex+1);break;case"before":(d=$(x).jqGrid("getGridRowById",r))&&($(d).before(s.join("")),d=d.rowIndex-1)}!0===x.p.subGrid&&$(x).jqGrid("addSubGrid",o+l,d),x.p.records++,x.p.reccount++,$(x).triggerHandler("jqGridAfterInsertRow",[e,g,g]),I&&x.p.afterInsertRow.call(x,e,g,g),k++,"local"===x.p.datatype&&(S[x.p.localReader.id]=v,x.p._index[v]=x.p.data.length,x.p.data.push(S),S={})}!0!==x.p.altRows||p||("last"===i?(x.rows.length-1)%2==0&&$(x.rows[x.rows.length-1]).addClass(f):$(x.rows).each((function(e){e%2==0?$(this).addClass(f):$(this).removeClass(f)}))),x.updatepager(!0,!0),b=!0}))),b},footerData:function(e,t,i){function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var n,s,o=!1,a={};return void 0===e&&(e="get"),"boolean"!=typeof i&&(i=!0),e=e.toLowerCase(),this.each((function(){var l,d=this;return!(!d.grid||!d.p.footerrow)&&(("set"!==e||!r(t))&&(o=!0,void $(this.p.colModel).each((function(r){n=this.name,"set"===e?void 0!==t[n]&&(l=i?d.formatter("",t[n],r,t,"edit"):t[n],s=this.title?{title:$.jgrid.stripHtml(l)}:{},$("tr.footrow td:eq("+r+")",d.grid.sDiv).html(l).attr(s),o=!0):"get"===e&&(a[n]=$("tr.footrow td:eq("+r+")",d.grid.sDiv).html())}))))})),"get"===e?a:o},showHideCol:function(e,t){return this.each((function(){var i,r=this,n=!1,s=$.jgrid.cell_width?0:r.p.cellLayout;if(r.grid){"string"==typeof e&&(e=[e]);var o=""===(t="none"!==t?"":"none"),a=r.p.groupHeader&&($.isArray(r.p.groupHeader)||$.isFunction(r.p.groupHeader));if(a&&$(r).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each((function(a){if(-1!==$.inArray(this.name,e)&&this.hidden===o){if(!0===r.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",r.grid.hDiv).each((function(){$(this.cells[a]).css("display",t)})),$(r.rows).each((function(){$(this).hasClass("jqgroup")||$(this.cells[a]).css("display",t)})),r.p.footerrow&&$("tr.footrow td:eq("+a+")",r.grid.sDiv).css("display",t),i=parseInt(this.width,10),"none"===t?r.p.tblwidth-=i+s:r.p.tblwidth+=i+s,this.hidden=!o,n=!0,$(r).triggerHandler("jqGridShowHideCol",[o,this.name,a])}})),!0===n&&(!0!==r.p.shrinkToFit||isNaN(r.p.height)||(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),$(r).jqGrid("setGridWidth",!0===r.p.shrinkToFit?r.p.tblwidth:r.p.width)),a){var l=$.extend([],r.p.groupHeader);r.p.groupHeader=null;for(var d=0;d<l.length;d++)$(r).jqGrid("setGroupHeaders",l[d])}}}))},hideCol:function(e){return this.each((function(){$(this).jqGrid("showHideCol",e,"none")}))},showCol:function(e){return this.each((function(){$(this).jqGrid("showHideCol",e,"")}))},remapColumns:function(e,t,i){function r(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(e,(function(e){t[e]=i[this]}))}function n(t,i){$(">tr"+(i||""),t).each((function(){var t=this,i=$.makeArray(t.cells);$.each(e,(function(){var e=i[this];e&&t.appendChild(e)}))}))}var s=this.get(0);r(s.p.colModel),r(s.p.colNames),r(s.grid.headers),n($("thead:first",s.grid.hDiv),i&&":not(.ui-jqgrid-labels)"),t&&n($("#"+$.jgrid.jqID(s.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),s.p.footerrow&&n($("tbody:first",s.grid.sDiv)),s.p.remapColumns&&(s.p.remapColumns.length?r(s.p.remapColumns):s.p.remapColumns=$.makeArray(e)),s.p.lastsort=$.inArray(s.p.lastsort,e),s.p.treeGrid&&(s.p.expColInd=$.inArray(s.p.expColInd,e)),$(s).triggerHandler("jqGridRemapColumns",[e,t,i])},setGridWidth:function(e,t){return this.each((function(){if(this.grid){var i,r,n,s,o=this,a=0,l=$.jgrid.cell_width?0:o.p.cellLayout,d=0,c=!1,u=o.p.scrollOffset,p=0,h="Bootstrap"===o.p.styleUI?2:0;if("boolean"!=typeof t&&(t=o.p.shrinkToFit),!isNaN(e)){if(e=parseInt(e,10),o.grid.width=o.p.width=e,$("#gbox_"+$.jgrid.jqID(o.p.id)).css("width",e+"px"),$("#gview_"+$.jgrid.jqID(o.p.id)).css("width",e+"px"),$(o.grid.bDiv).css("width",e-h+"px"),$(o.grid.hDiv).css("width",e-h+"px"),o.p.pager&&$(o.p.pager).css("width",e+"px"),o.p.toppager&&$(o.p.toppager).css("width",e-h+"px"),!0===o.p.toolbar[0]&&($(o.grid.uDiv).css("width",e-h+"px"),"both"===o.p.toolbar[1]&&$(o.grid.ubDiv).css("width",e-h+"px")),o.p.footerrow&&$(o.grid.sDiv).css("width",e-h+"px"),!1===t&&!0===o.p.forceFit&&(o.p.forceFit=!1),!0===t){if($.each(o.p.colModel,(function(){!1===this.hidden&&(i=this.widthOrg,a+=i+l,this.fixed?p+=i+l:d++)})),0===d)return;o.p.tblwidth=a,n=e-l*d-p,isNaN(o.p.height)||($(o.grid.bDiv)[0].clientHeight<$(o.grid.bDiv)[0].scrollHeight||1===o.rows.length)&&(c=!0,n-=u),a=0;var f=o.grid.cols.length>0;if($.each(o.p.colModel,(function(e){if(!1===this.hidden&&!this.fixed){if(i=this.widthOrg,(i=Math.round(n*i/(o.p.tblwidth-l*d-p)))<0)return;this.width=i,a+=i,o.grid.headers[e].width=i,o.grid.headers[e].el.style.width=i+"px",o.p.footerrow&&(o.grid.footers[e].style.width=i+"px"),f&&(o.grid.cols[e].style.width=i+"px"),r=e}})),!r)return;if(s=0,c?e-p-(a+l*d)!==u&&(s=e-p-(a+l*d)-u):1!==Math.abs(e-p-(a+l*d))&&(s=e-p-(a+l*d)),o.p.colModel[r].width+=s,o.p.tblwidth=a+s+l*d+p,o.p.tblwidth>e){var g=o.p.tblwidth-parseInt(e,10);o.p.tblwidth=e,i=o.p.colModel[r].width=o.p.colModel[r].width-g}else i=o.p.colModel[r].width;o.grid.headers[r].width=i,o.grid.headers[r].el.style.width=i+"px",f&&(o.grid.cols[r].style.width=i+"px"),o.p.footerrow&&(o.grid.footers[r].style.width=i+"px")}o.p.tblwidth&&($("table:first",o.grid.bDiv).css("width",o.p.tblwidth+"px"),$("table:first",o.grid.hDiv).css("width",o.p.tblwidth+"px"),o.grid.hDiv.scrollLeft=o.grid.bDiv.scrollLeft,o.p.footerrow&&$("table:first",o.grid.sDiv).css("width",o.p.tblwidth+"px"))}}}))},setGridHeight:function(e){return this.each((function(){var t=this;if(t.grid){var i=$(t.grid.bDiv);i.css({height:e+(isNaN(e)?"":"px")}),!0===t.p.frozenColumns&&$("#"+$.jgrid.jqID(t.p.id)+"_frozen").parent().height(i.height()-16),t.p.height=e,t.p.scroll&&t.grid.populateVisible()}}))},setCaption:function(e){return this.each((function(){var t=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=e,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(e),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(t)}))},setLabel:function(e,t,i,r){return this.each((function(){var n=this,s=-1;if(n.grid&&null!=e&&(isNaN(e)?$(n.p.colModel).each((function(t){if(this.name===e)return s=t,!1})):s=parseInt(e,10),s>=0)){var o=$("tr.ui-jqgrid-labels th:eq("+s+")",n.grid.hDiv);if(t){var a=$(".s-ico",o);$("[id^=jqgh_]",o).empty().html(t).append(a),n.p.colNames[s]=t}i&&("string"==typeof i?$(o).addClass(i):$(o).css(i)),"object"==typeof r&&$(o).attr(r)}}))},setCell:function(e,t,i,r,n,s){return this.each((function(){var o,a,l=this,d=-1;if(l.grid&&(isNaN(t)?$(l.p.colModel).each((function(e){if(this.name===t)return d=e,!1})):d=parseInt(t,10),d>=0)){var c=$(l).jqGrid("getGridRowById",e);if(c){var u=$("td:eq("+d+")",c),p=0,h=[];if(""!==i||!0===s){if(void 0!==c.cells)for(;p<c.cells.length;)h.push(c.cells[p].innerHTML),p++;if(o=l.formatter(e,i,d,h,"edit"),a=l.p.colModel[d].title?{title:$.jgrid.stripHtml(o)}:{},l.p.treeGrid&&$(".tree-wrap",$(u)).length>0?$("span",$(u)).html(o).attr(a):$(u).html(o).attr(a),"local"===l.p.datatype){var f,g=l.p.colModel[d];i=g.formatter&&"string"==typeof g.formatter&&"date"===g.formatter?$.unformat.date.call(l,i,g):i,void 0!==(f=l.p._index[$.jgrid.stripPref(l.p.idPrefix,e)])&&(l.p.data[f][g.name]=i)}}"string"==typeof r?$(u).addClass(r):r&&$(u).css(r),"object"==typeof n&&$(u).attr(n)}}}))},getCell:function(e,t){var i=!1;return this.each((function(){var r=this,n=-1;if(r.grid&&(isNaN(t)?$(r.p.colModel).each((function(e){if(this.name===t)return n=e,!1})):n=parseInt(t,10),n>=0)){var s=$(r).jqGrid("getGridRowById",e);if(s)try{i=$.unformat.call(r,$("td:eq("+n+")",s),{rowId:s.id,colModel:r.p.colModel[n]},n)}catch(e){i=$.jgrid.htmlDecode($("td:eq("+n+")",s).html())}}})),i},getCol:function(e,t,i){var r,n,s,o,a=[],l=0;return t="boolean"==typeof t&&t,void 0===i&&(i=!1),this.each((function(){var d=this,c=-1;if(d.grid&&(isNaN(e)?$(d.p.colModel).each((function(t){if(this.name===e)return c=t,!1})):c=parseInt(e,10),c>=0)){var u=d.rows.length,p=0,h=0;if(u&&u>0){for(;p<u;){if($(d.rows[p]).hasClass("jqgrow")){try{r=$.unformat.call(d,$(d.rows[p].cells[c]),{rowId:d.rows[p].id,colModel:d.p.colModel[c]},c)}catch(e){r=$.jgrid.htmlDecode(d.rows[p].cells[c].innerHTML)}i?(o=parseFloat(r),isNaN(o)||(l+=o,void 0===s&&(s=n=o),n=Math.min(n,o),s=Math.max(s,o),h++)):t?a.push({id:d.rows[p].id,value:r}):a.push(r)}p++}if(i)switch(i.toLowerCase()){case"sum":a=l;break;case"avg":a=l/h;break;case"count":a=u-1;break;case"min":a=n;break;case"max":a=s}}}})),a},clearGridData:function(e){return this.each((function(){var t=this;if(t.grid){if("boolean"!=typeof e&&(e=!1),t.p.deepempty)$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:gt(0)").remove();else{var i=$("#"+$.jgrid.jqID(t.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(t.p.id)+" tbody:first").empty().append(i)}t.p.footerrow&&e&&$(".ui-jqgrid-ftable td",t.grid.sDiv).html("&#160;"),t.p.selrow=null,t.p.selarrrow=[],t.p.savedRow=[],t.p.records=0,t.p.page=1,t.p.lastpage=0,t.p.reccount=0,t.p.data=[],t.p._index={},t.updatepager(!0,!1)}}))},getInd:function(e,t){var i,r=!1;return this.each((function(){(i=$(this).jqGrid("getGridRowById",e))&&(r=!0===t?i:i.rowIndex)})),r},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each((function(){var e=this;$("body").is("[role]")||$("body").attr("role","application"),e.p.scrollrows=t.scrollingRows,$(e).keydown((function(i){var r,n,s,o=$(e).find("tr[tabindex=0]")[0],a=e.p.treeReader.expanded_field;if(o)if(s=e.p._index[$.jgrid.stripPref(e.p.idPrefix,o.id)],37===i.keyCode||38===i.keyCode||39===i.keyCode||40===i.keyCode){if(38===i.keyCode){if(r="",n=o.previousSibling)if($(n).is(":hidden")){for(;n;)if(n=n.previousSibling,!$(n).is(":hidden")&&$(n).hasClass("jqgrow")){r=n.id;break}}else r=n.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}if(40===i.keyCode){if(r="",n=o.nextSibling)if($(n).is(":hidden")){for(;n;)if(n=n.nextSibling,!$(n).is(":hidden")&&$(n).hasClass("jqgrow")){r=n.id;break}}else r=n.id;$(e).jqGrid("setSelection",r,!0,i),i.preventDefault()}37===i.keyCode&&(e.p.treeGrid&&e.p.data[s][a]&&$(o).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyLeft",[e.p.selrow]),$.isFunction(t.onLeftKey)&&t.onLeftKey.call(e,e.p.selrow)),39===i.keyCode&&(e.p.treeGrid&&!e.p.data[s][a]&&$(o).find("div.treeclick").trigger("click"),$(e).triggerHandler("jqGridKeyRight",[e.p.selrow]),$.isFunction(t.onRightKey)&&t.onRightKey.call(e,e.p.selrow))}else 13===i.keyCode?($(e).triggerHandler("jqGridKeyEnter",[e.p.selrow]),$.isFunction(t.onEnter)&&t.onEnter.call(e,e.p.selrow)):32===i.keyCode&&($(e).triggerHandler("jqGridKeySpace",[e.p.selrow]),$.isFunction(t.onSpace)&&t.onSpace.call(e,e.p.selrow))}))}))},unbindKeys:function(){return this.each((function(){$(this).unbind("keydown")}))},getLocalRow:function(e){var t,i=!1;return this.each((function(){void 0!==e&&(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)])>=0&&(i=this.p.data[t])})),i},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each((function(){var t,i,r="show"===e.method,n=$("#load_"+$.jgrid.jqID(this.p.id)),s=$(window).scrollTop();switch(""!==e.htmlcontent&&n.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":n.toggle(r);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(r),n.toggle(r)}n.is(":visible")&&(t=n.offsetParent(),n.css("top",""),n.offset().top<s&&(i=Math.min(10+s-t.offset().top,t.height()-n.height()),n.css("top",i+"px")))}))},getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var r,n=i.p.colModel;for(r=0;r<n.length;r++)if(n[r].name===e){t=n[r];break}return t},setColProp:function(e,t){return this.each((function(){if(this.grid&&t){var i,r=this.p.colModel;for(i=0;i<r.length;i++)if(r[i].name===e){$.extend(!0,this.p.colModel[i],t);break}}}))},sortGrid:function(e,t,i){return this.each((function(){var r,n=this,s=-1,o=!1;if(n.grid){for(e||(e=n.p.sortname),r=0;r<n.p.colModel.length;r++)if(n.p.colModel[r].index===e||n.p.colModel[r].name===e){s=r,!0===n.p.frozenColumns&&!0===n.p.colModel[r].frozen&&(o=n.grid.fhDiv.find("#"+n.p.id+"_"+e));break}if(-1!==s){var a=n.p.colModel[s].sortable;o||(o=n.grid.headers[s].el),"boolean"!=typeof a&&(a=!0),"boolean"!=typeof t&&(t=!1),a&&n.sortData("jqgh_"+n.p.id+"_"+e,s,t,i,o)}}}))},setGridState:function(e){return this.each((function(){if(this.grid){var t=this,i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),r=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===e?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),t.p.pager&&$(t.p.pager).slideUp("fast"),t.p.toppager&&$(t.p.toppager).slideUp("fast"),!0===t.p.toolbar[0]&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideUp("fast"),$(t.grid.uDiv).slideUp("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(i).addClass(r),t.p.gridstate="hidden"):"visible"===e&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),t.p.pager&&$(t.p.pager).slideDown("fast"),t.p.toppager&&$(t.p.toppager).slideDown("fast"),!0===t.p.toolbar[0]&&("both"===t.p.toolbar[1]&&$(t.grid.ubDiv).slideDown("fast"),$(t.grid.uDiv).slideDown("fast")),t.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(t.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",t.grid.cDiv).removeClass(r).addClass(i),t.p.gridstate="visible")}}))},setFrozenColumns:function(){return this.each((function(){if(this.grid){var e=this,t=e.p.colModel,i=0,r=t.length,n=-1,s=!1,o=$(e).jqGrid("getStyleUI",e.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),a=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if(!0!==e.p.subGrid&&!0!==e.p.treeGrid&&!0!==e.p.cellEdit&&!e.p.sortable&&!e.p.scroll){for(e.p.rownumbers&&i++,e.p.multiselect&&i++;i<r&&!0===t[i].frozen;)s=!0,n=i,i++;if(n>=0&&s){var l=e.p.caption?$(e.grid.cDiv).outerHeight():0,d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).height();e.p.toppager&&(l+=$(e.grid.topDiv).outerHeight()),!0===e.p.toolbar[0]&&"bottom"!==e.p.toolbar[1]&&(l+=$(e.grid.uDiv).outerHeight()),e.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+d+'px;" class="frozen-div '+o+'"></div>'),e.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===e.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(d,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fhDiv);var c=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);if(e.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",c).each((function(){$("th:gt("+n+")",this).remove()}));var u,p=-1,h=-1;$("tr.jqg-second-row-header th",c).each((function(){if(u=parseInt($(this).attr("colspan"),10),parseInt($(this).attr("rowspan"),10)&&(p++,h++),u&&(p+=u,h++),p===n)return h=n,!1})),p!==n&&(h=n),$("tr.jqg-second-row-header",c).each((function(){$("th:gt("+h+")",this).remove()}))}else $("tr",c).each((function(){$("th:gt("+n+")",this).remove()}));if($(c).width(1),$.jgrid.msie()||$(c).css("height","100%"),$(e.grid.fhDiv).append(c).mousemove((function(t){if(e.grid.resizing)return e.grid.dragMove(t),!1})),e.p.footerrow){var f=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).height();e.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fsDiv);var g=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr",g).each((function(){$("td:gt("+n+")",this).remove()})),$(g).width(1),$(e.grid.fsDiv).append(g)}$(e).bind("jqGridResizeStop.setFrozenColumns",(function(t,i,r){var n=$(".ui-jqgrid-htable",e.grid.fhDiv);$("th:eq("+r+")",n).width(i);var s=$(".ui-jqgrid-btable",e.grid.fbDiv);if($("tr:first td:eq("+r+")",s).width(i),e.p.footerrow){var o=$(".ui-jqgrid-ftable",e.grid.fsDiv);$("tr:first td:eq("+r+")",o).width(i)}})),$("#gview_"+$.jgrid.jqID(e.p.id)).append(e.grid.fbDiv),$(e.grid.fbDiv).bind("mousewheel DOMMouseScroll",(function(t){var i=$(e.grid.bDiv).scrollTop();t.originalEvent.wheelDelta>0||t.originalEvent.detail<0?$(e.grid.bDiv).scrollTop(i-25):$(e.grid.bDiv).scrollTop(i+25),t.preventDefault()})),!0===e.p.hoverrows&&$("#"+$.jgrid.jqID(e.p.id)).unbind("mouseover").unbind("mouseout"),$(e).bind("jqGridAfterGridComplete.setFrozenColumns",(function(){$("#"+$.jgrid.jqID(e.p.id)+"_frozen").remove(),$(e.grid.fbDiv).height($(e.grid.bDiv).height()-14);var t=[];$("#"+$.jgrid.jqID(e.p.id)+" tr[role=row].jqgrow").each((function(){t.push($("td:visible:first",this).height())}));var i=$("#"+$.jgrid.jqID(e.p.id)).clone(!0);$("tr[role=row]",i).each((function(){$("td[role=gridcell]:gt("+n+")",this).remove()})),$(i).width(1).attr("id",e.p.id+"_frozen"),$(e.grid.fbDiv).append(i),$("tr[role=row].jqgrow",i).each((function(e){$("td:not(.jqgrid-rownum):visible:first",this).height(t[e])})),!0===e.p.hoverrows&&($("tr.jqgrow",i).hover((function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).addClass(a)}),(function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)).removeClass(a)})),$("tr.jqgrow","#"+$.jgrid.jqID(e.p.id)).hover((function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").addClass(a)}),(function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(e.p.id)+"_frozen").removeClass(a)}))),i=null})),e.grid.hDiv.loading||$(e).triggerHandler("jqGridAfterGridComplete"),e.p.frozenColumns=!0}}}}))},destroyFrozenColumns:function(){return this.each((function(){if(this.grid&&!0===this.p.frozenColumns){var e,t=this,i=$(t).jqGrid("getStyleUI",t.p.styleUI+".common","hover",!0);if($(t.grid.fhDiv).remove(),$(t.grid.fbDiv).remove(),t.grid.fhDiv=null,t.grid.fbDiv=null,t.p.footerrow&&($(t.grid.fsDiv).remove(),t.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),!0===t.p.hoverrows)$("#"+$.jgrid.jqID(t.p.id)).bind("mouseover",(function(t){e=$(t.target).closest("tr.jqgrow"),"ui-subgrid"!==$(e).attr("class")&&$(e).addClass(i)})).bind("mouseout",(function(t){e=$(t.target).closest("tr.jqgrow"),$(e).removeClass(i)}));this.p.frozenColumns=!1}}))},resizeColumn:function(e,t){return this.each((function(){var i,r,n=this.grid,s=this.p,o=s.colModel,a=o.length;if("string"==typeof e){for(i=0;i<a;i++)if(o[i].name===e){e=i;break}}else e=parseInt(e,10);if(t=parseInt(t,10),!("number"!=typeof e||e<0||e>o.length-1||"number"!=typeof t||t<s.minColWidth)){if(s.forceFit)for(s.nv=0,i=e+1;i<a;i++)if(!0!==o[i].hidden){s.nv=i-e;break}if(n.resizing={idx:e},r=t-n.headers[e].width,s.forceFit){if(n.headers[e+s.nv].width-r<s.minColWidth)return;n.headers[e+s.nv].newWidth=n.headers[e+s.nv].width-r}n.newWidth=s.tblwidth+r,n.headers[e].newWidth=t,n.dragEnd(!1)}}))},getStyleUI:function(e,t,i,r){var n="",s="";try{var o=e.split(".");switch(i||(n="class=",s='"'),null==r&&(r=""),o.length){case 1:n+=s+$.trim(r+" "+$.jgrid.styleUI[o[0]][t]+s);break;case 2:n+=s+$.trim(r+" "+$.jgrid.styleUI[o[0]][o[1]][t]+s)}}catch(e){n=""}return n},resizeGrid:function(e){return this.each((function(){var t=this;void 0===e&&(e=500),setTimeout((function(){try{var e=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(t.p.id)).parent().width(),r=t.p.width;r=e-i>3?i:e,$("#"+$.jgrid.jqID(t.p.id)).jqGrid("setGridWidth",r)}catch(e){}}),e)}))}}),$.jgrid.extend({editCell:function(e,t,i){return this.each((function(){var r,n,s,o,a=this,l=$(this).jqGrid("getStyleUI",a.p.styleUI+".common","highlight",!0),d=$(this).jqGrid("getStyleUI",a.p.styleUI+".common","hover",!0),c=$(this).jqGrid("getStyleUI",a.p.styleUI+".celledit","inputClass",!0);if(a.grid&&!0===a.p.cellEdit){if(t=parseInt(t,10),a.p.selrow=a.rows[e].id,a.p.knv||$(a).jqGrid("GridNav"),a.p.savedRow.length>0){if(!0===i&&e==a.p.iRow&&t==a.p.iCol)return;$(a).jqGrid("saveCell",a.p.savedRow[0].id,a.p.savedRow[0].ic)}else window.setTimeout((function(){$("#"+$.jgrid.jqID(a.p.knv)).attr("tabindex","-1").focus()}),1);if("subgrid"!==(r=(o=a.p.colModel[t]).name)&&"cb"!==r&&"rn"!==r){if(s=$("td:eq("+t+")",a.rows[e]),!0!==o.editable||!0!==i||s.hasClass("not-editable-cell")||$.isFunction(a.p.isCellEditable)&&!a.p.isCellEditable.call(a,r,e,t))parseInt(a.p.iCol,10)>=0&&parseInt(a.p.iRow,10)>=0&&$(a.rows[a.p.iRow]).removeClass("selected-row "+d).find("td:eq("+a.p.iCol+")").removeClass("edit-cell "+l),s.addClass("edit-cell "+l),$(a.rows[e]).addClass("selected-row "+d),n=s.html().replace(/\&#160\;/gi,""),$(a).triggerHandler("jqGridSelectCell",[a.rows[e].id,r,n,e,t]),$.isFunction(a.p.onSelectCell)&&a.p.onSelectCell.call(a,a.rows[e].id,r,n,e,t);else{parseInt(a.p.iCol,10)>=0&&parseInt(a.p.iRow,10)>=0&&$(a.rows[a.p.iRow]).removeClass("selected-row "+d).find("td:eq("+a.p.iCol+")").removeClass("edit-cell "+l),$(s).addClass("edit-cell "+l),$(a.rows[e]).addClass("selected-row "+d);try{n=$.unformat.call(a,s,{rowId:a.rows[e].id,colModel:o},t)}catch(e){n=o.edittype&&"textarea"===o.edittype?$(s).text():$(s).html()}if(a.p.autoencode&&(n=$.jgrid.htmlDecode(n)),o.edittype||(o.edittype="text"),a.p.savedRow.push({id:e,ic:t,name:r,v:n}),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),$.isFunction(a.p.formatCell)){var u=a.p.formatCell.call(a,a.rows[e].id,r,n,e,t);void 0!==u&&(n=u)}$(a).triggerHandler("jqGridBeforeEditCell",[a.rows[e].id,r,n,e,t]),$.isFunction(a.p.beforeEditCell)&&a.p.beforeEditCell.call(a,a.rows[e].id,r,n,e,t);var p=$.extend({},o.editoptions||{},{id:e+"_"+r,name:r,rowId:a.rows[e].id,oper:"edit"}),h=$.jgrid.createEl.call(a,o.edittype,p,n,!0,$.extend({},$.jgrid.ajaxOptions,a.p.ajaxSelectOptions||{}));$.inArray(o.edittype,["text","textarea","password","select"])>-1&&$(h).addClass(c),$(s).html("").append(h).attr("tabindex","0"),$.jgrid.bindEv.call(a,h,p),window.setTimeout((function(){$(h).focus()}),1),$("input, select, textarea",s).bind("keydown",(function(i){if(27===i.keyCode&&($("input.hasDatepicker",s).length>0?$(".ui-datepicker").is(":hidden")?$(a).jqGrid("restoreCell",e,t):$("input.hasDatepicker",s).datepicker("hide"):$(a).jqGrid("restoreCell",e,t)),13===i.keyCode&&!i.shiftKey)return $(a).jqGrid("saveCell",e,t),!1;if(9===i.keyCode){if(a.grid.hDiv.loading)return!1
;i.shiftKey?$(a).jqGrid("prevCell",e,t):$(a).jqGrid("nextCell",e,t)}i.stopPropagation()})),$(a).triggerHandler("jqGridAfterEditCell",[a.rows[e].id,r,n,e,t]),$.isFunction(a.p.afterEditCell)&&a.p.afterEditCell.call(a,a.rows[e].id,r,n,e,t)}a.p.iCol=t,a.p.iRow=e}}}))},saveCell:function(e,t){return this.each((function(){var i,r=this,n=$.jgrid.getRegional(this,"errors"),s=$.jgrid.getRegional(this,"edit");if(r.grid&&!0===r.p.cellEdit){if(null!==(i=r.p.savedRow.length>=1?0:null)){var o,a,l=$("td:eq("+t+")",r.rows[e]),d=r.p.colModel[t],c=d.name,u=$.jgrid.jqID(c),p=$(l).offset();switch(d.edittype){case"select":if(d.editoptions.multiple){var h=$("#"+e+"_"+u,r.rows[e]),f=[];(o=$(h).val())?o.join(","):o="",$("option:selected",h).each((function(e,t){f[e]=$(t).text()})),a=f.join(",")}else o=$("#"+e+"_"+u+" option:selected",r.rows[e]).val(),a=$("#"+e+"_"+u+" option:selected",r.rows[e]).text();d.formatter&&(a=o);break;case"checkbox":var g=["Yes","No"];d.editoptions&&(g=d.editoptions.value.split(":")),o=$("#"+e+"_"+u,r.rows[e]).is(":checked")?g[0]:g[1],a=o;break;case"password":case"text":case"textarea":case"button":o=$("#"+e+"_"+u,r.rows[e]).val(),a=o;break;case"custom":try{if(!d.editoptions||!$.isFunction(d.editoptions.custom_value))throw"e1";if(void 0===(o=d.editoptions.custom_value.call(r,$(".customelement",l),"get")))throw"e2";a=o}catch(e){"e1"===e?$.jgrid.info_dialog(n.errcap,"function 'custom_value' "+s.msg.nodefined,s.bClose,{styleUI:r.p.styleUI}):"e2"===e?$.jgrid.info_dialog(n.errcap,"function 'custom_value' "+s.msg.novalue,s.bClose,{styleUI:r.p.styleUI}):$.jgrid.info_dialog(n.errcap,e.message,s.bClose,{styleUI:r.p.styleUI})}}if(a!==r.p.savedRow[i].v){var m=$(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[e].id,c,o,e,t]);if(m&&(o=m,a=m),$.isFunction(r.p.beforeSaveCell)){var v=r.p.beforeSaveCell.call(r,r.rows[e].id,c,o,e,t);v&&(o=v,a=v)}var b=$.jgrid.checkValues.call(r,o,t),_=!1;if(!0===b[0]){var y=$(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[e].id,c,o,e,t])||{};if($.isFunction(r.p.beforeSubmitCell)&&((y=r.p.beforeSubmitCell.call(r,r.rows[e].id,c,o,e,t))||(y={})),$("input.hasDatepicker",l).length>0&&$("input.hasDatepicker",l).datepicker("hide"),"remote"===r.p.cellsubmit)if(r.p.cellurl){var w,x,j,D={};r.p.autoencode&&(o=$.jgrid.htmlEncode(o)),d.editoptions&&d.editoptions.NullIfEmpty&&""===o&&(o="null",_=!0),D[c]=o,w=(j=r.p.prmNames).id,x=j.oper,D[w]=$.jgrid.stripPref(r.p.idPrefix,r.rows[e].id),D[x]=j.editoper,D=$.extend(y,D),$(r).jqGrid("progressBar",{method:"show",loadtype:r.p.loadui,htmlcontent:$.jgrid.getRegional(r,"defaults.savetext")}),r.grid.hDiv.loading=!0,$.ajax($.extend({url:r.p.cellurl,data:$.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,D,c):D,type:"POST",complete:function(i,d){if($(r).jqGrid("progressBar",{method:"hide",loadtype:r.p.loadui}),r.grid.hDiv.loading=!1,"success"===d){var u=$(r).triggerHandler("jqGridAfterSubmitCell",[r,i,D.id,c,o,e,t])||[!0,""];!0===u[0]&&$.isFunction(r.p.afterSubmitCell)&&(u=r.p.afterSubmitCell.call(r,i,D.id,c,o,e,t)),!0===u[0]?(_&&(o=""),$(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,c,o,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,c,o,e,t),r.p.savedRow.splice(0,1)):($.jgrid.info_dialog(n.errcap,u[1],s.bClose,{styleUI:r.p.styleUI}),r.p.restoreCellonFail&&$(r).jqGrid("restoreCell",e,t))}},error:function(i,o,a){$("#lui_"+$.jgrid.jqID(r.p.id)).hide(),r.grid.hDiv.loading=!1,$(r).triggerHandler("jqGridErrorCell",[i,o,a]),$.isFunction(r.p.errorCell)?r.p.errorCell.call(r,i,o,a):$.jgrid.info_dialog(n.errcap,i.status+" : "+i.statusText+"<br/>"+o,s.bClose,{styleUI:r.p.styleUI}),r.p.restoreCellonFail&&$(r).jqGrid("restoreCell",e,t)}},$.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}))}else try{$.jgrid.info_dialog(n.errcap,n.nourl,s.bClose,{styleUI:r.p.styleUI}),r.p.restoreCellonFail&&$(r).jqGrid("restoreCell",e,t)}catch(e){}"clientArray"===r.p.cellsubmit&&($(l).empty(),$(r).jqGrid("setCell",r.rows[e].id,t,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(r.rows[e]).addClass("edited"),$(r).triggerHandler("jqGridAfterSaveCell",[r.rows[e].id,c,o,e,t]),$.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[e].id,c,o,e,t),r.p.savedRow.splice(0,1))}else try{window.setTimeout((function(){$.jgrid.info_dialog(n.errcap,o+" "+b[1],s.bClose,{styleUI:r.p.styleUI,top:p.top+40,left:p.left})}),100),$(r).jqGrid("restoreCell",e,t)}catch(e){}}else $(r).jqGrid("restoreCell",e,t)}window.setTimeout((function(){$("#"+$.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()}),0)}}))},restoreCell:function(e,t){return this.each((function(){var i,r=this;if(r.grid&&!0===r.p.cellEdit){if(null!==(i=r.p.savedRow.length>=1?0:null)){var n=$("td:eq("+t+")",r.rows[e]);if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",n).datepicker("hide")}catch(e){}$(n).empty().attr("tabindex","-1"),$(r).jqGrid("setCell",r.rows[e].id,t,r.p.savedRow[i].v,!1,!1,!0),$(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[e].id,r.p.savedRow[i].v,e,t]),$.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[e].id,r.p.savedRow[i].v,e,t),r.p.savedRow.splice(0,1)}window.setTimeout((function(){$("#"+r.p.knv).attr("tabindex","-1").focus()}),0)}}))},nextCell:function(e,t){return this.each((function(){var i,r=this,n=!1;if(r.grid&&!0===r.p.cellEdit){for(i=t+1;i<r.p.colModel.length;i++)if(!0===r.p.colModel[i].editable&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){n=i;break}!1!==n?$(r).jqGrid("editCell",e,n,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}}))},prevCell:function(e,t){return this.each((function(){var i,r=this,n=!1;if(r.grid&&!0===r.p.cellEdit){for(i=t-1;i>=0;i--)if(!0===r.p.colModel[i].editable&&(!$.isFunction(r.p.isCellEditable)||r.p.isCellEditable.call(r,r.p.colModel[i].name,e,i))){n=i;break}!1!==n?$(r).jqGrid("editCell",e,n,!0):r.p.savedRow.length>0&&$(r).jqGrid("saveCell",e,t)}}))},GridNav:function(){return this.each((function(){function e(e,t,r){if("v"===r.substr(0,1)){var n=$(i.grid.bDiv)[0].clientHeight,s=$(i.grid.bDiv)[0].scrollTop,o=i.rows[e].offsetTop+i.rows[e].clientHeight,a=i.rows[e].offsetTop;"vd"===r&&o>=n&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop+i.rows[e].clientHeight),"vu"===r&&a<s&&($(i.grid.bDiv)[0].scrollTop=$(i.grid.bDiv)[0].scrollTop-i.rows[e].clientHeight)}if("h"===r){var l=$(i.grid.bDiv)[0].clientWidth,d=$(i.grid.bDiv)[0].scrollLeft,c=i.rows[e].cells[t].offsetLeft+i.rows[e].cells[t].clientWidth,u=i.rows[e].cells[t].offsetLeft;c>=l+parseInt(d,10)?$(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft+i.rows[e].cells[t].clientWidth:u<d&&($(i.grid.bDiv)[0].scrollLeft=$(i.grid.bDiv)[0].scrollLeft-i.rows[e].cells[t].clientWidth)}}function t(e,t){var r,n;if("lft"===t)for(r=e+1,n=e;n>=0;n--)if(!0!==i.p.colModel[n].hidden){r=n;break}if("rgt"===t)for(r=e-1,n=e;n<i.p.colModel.length;n++)if(!0!==i.p.colModel[n].hidden){r=n;break}return r}var i=this;if(i.grid&&!0===i.p.cellEdit){i.p.knv=i.p.id+"_kn";var r,n,s=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+i.p.knv+"'></div></div>");$(s).insertBefore(i.grid.cDiv),$("#"+i.p.knv).focus().keydown((function(s){switch(n=s.keyCode,"rtl"===i.p.direction&&(37===n?n=39:39===n&&(n=37)),n){case 38:i.p.iRow-1>0&&(e(i.p.iRow-1,i.p.iCol,"vu"),$(i).jqGrid("editCell",i.p.iRow-1,i.p.iCol,!1));break;case 40:i.p.iRow+1<=i.rows.length-1&&(e(i.p.iRow+1,i.p.iCol,"vd"),$(i).jqGrid("editCell",i.p.iRow+1,i.p.iCol,!1));break;case 37:i.p.iCol-1>=0&&(r=t(i.p.iCol-1,"lft"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 39:i.p.iCol+1<=i.p.colModel.length-1&&(r=t(i.p.iCol+1,"rgt"),e(i.p.iRow,r,"h"),$(i).jqGrid("editCell",i.p.iRow,r,!1));break;case 13:parseInt(i.p.iCol,10)>=0&&parseInt(i.p.iRow,10)>=0&&$(i).jqGrid("editCell",i.p.iRow,i.p.iCol,!0);break;default:return!0}return!1}))}}))},getChangedCells:function(e){var t=[];return e||(e="all"),this.each((function(){var i,r=this;r.grid&&!0===r.p.cellEdit&&$(r.rows).each((function(n){var s={};$(this).hasClass("edited")&&($("td",this).each((function(t){if("cb"!==(i=r.p.colModel[t].name)&&"subgrid"!==i)if("dirty"===e){if($(this).hasClass("dirty-cell"))try{s[i]=$.unformat.call(r,this,{rowId:r.rows[n].id,colModel:r.p.colModel[t]},t)}catch(e){s[i]=$.jgrid.htmlDecode($(this).html())}}else try{s[i]=$.unformat.call(r,this,{rowId:r.rows[n].id,colModel:r.p.colModel[t]},t)}catch(e){s[i]=$.jgrid.htmlDecode($(this).html())}})),s.id=this.id,t.push(s))}))})),t}}),$.extend($.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(e,t){var i=!(!(t=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},t||{})).gb||"string"!=typeof t.gb||"#gbox_"!==t.gb.substr(0,6))&&$("#"+t.gb.substr(6))[0];if(t.onClose){var r=i?t.onClose.call(i,e):t.onClose(e);if("boolean"==typeof r&&!r)return}if(t.formprop&&i&&t.form){var n,s,o=$(e)[0].style.height,a=$(e)[0].style.width;o.indexOf("px")>-1&&(o=parseFloat(o)),a.indexOf("px")>-1&&(a=parseFloat(a)),"edit"===t.form?(n="#"+$.jgrid.jqID("FrmGrid_"+t.gb.substr(6)),s="formProp"):"view"===t.form&&(n="#"+$.jgrid.jqID("ViewGrid_"+t.gb.substr(6)),s="viewProp"),$(i).data(s,{top:parseFloat($(e).css("top")),left:parseFloat($(e).css("left")),width:a,height:o,dataheight:$(n).height(),datawidth:$(n).width()})}if($.fn.jqm&&!0===t.jqm)$(e).attr("aria-hidden","true").jqmHide();else{if(""!==t.gb)try{$(".jqgrid-overlay:first",t.gb).hide()}catch(e){}$(e).hide().attr("aria-hidden","true")}t.removemodal&&$(e).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)do{t+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent);return[t,i]},createModal:function(e,t,i,r,n,s,o){i=$.extend(!0,{},$.jgrid.jqModal||{},i);var a=this,l="rtl"===$(i.gbox).attr("dir"),d=$.jgrid.styleUI[i.styleUI||"jQueryUI"].modal,c=$.jgrid.styleUI[i.styleUI||"jQueryUI"].common,u=document.createElement("div");o=$.extend({},o||{}),u.className="ui-jqdialog "+d.modal,u.id=e.themodal;var p=document.createElement("div");p.className="ui-jqdialog-titlebar "+d.header,p.id=e.modalhead,$(p).append("<span class='ui-jqdialog-title'>"+i.caption+"</span>");var h=$("<a class='ui-jqdialog-titlebar-close "+c.cornerall+"'></a>").hover((function(){h.addClass(c.hover)}),(function(){h.removeClass(c.hover)})).append("<span class='"+c.icon_base+" "+d.icon_close+"'></span>");$(p).append(h),l?(u.dir="rtl",$(".ui-jqdialog-title",p).css("float","right"),$(".ui-jqdialog-titlebar-close",p).css("left","0.3em")):(u.dir="ltr",$(".ui-jqdialog-title",p).css("float","left"),$(".ui-jqdialog-titlebar-close",p).css("right","0.3em"));var f=document.createElement("div");$(f).addClass("ui-jqdialog-content "+d.content).attr("id",e.modalcontent),$(f).append(t),u.appendChild(f),$(u).prepend(p),!0===s?$("body").append(u):"string"==typeof s?$(s).append(u):$(u).insertBefore(r),$(u).css(o),void 0===i.jqModal&&(i.jqModal=!0);var g={};if($.fn.jqm&&!0===i.jqModal){if(0===i.left&&0===i.top&&i.overlay){var m=[];m=$.jgrid.findPos(n),i.left=m[0]+4,i.top=m[1]+4}g.top=i.top+"px",g.left=i.left}else 0===i.left&&0===i.top||(g.left=i.left,g.top=i.top+"px");if($("a.ui-jqdialog-titlebar-close",p).click((function(){var t=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose,r=$("#"+$.jgrid.jqID(e.themodal)).data("gbox")||i.gbox;return a.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:r,jqm:i.jqModal,onClose:t,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""}),!1})),0!==i.width&&i.width||(i.width=300),0!==i.height&&i.height||(i.height=200),!i.zIndex){var v=$(r).parents("*[role=dialog]").filter(":first").css("z-index");i.zIndex=v?parseInt(v,10)+2:950}var b=0;if(l&&g.left&&!s&&(b=$(i.gbox).width()-(isNaN(i.width)?0:parseInt(i.width,10))-8,g.left=parseInt(g.left,10)+parseInt(b,10)),g.left&&(g.left+="px"),$(u).css($.extend({width:isNaN(i.width)?"auto":i.width+"px",height:isNaN(i.height)?"auto":i.height+"px",zIndex:i.zIndex,overflow:"hidden"},g)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":e.modalhead,"aria-hidden":"true"}),void 0===i.drag&&(i.drag=!0),void 0===i.resize&&(i.resize=!0),i.drag)if($(p).css("cursor","move"),$.fn.tinyDraggable)$(u).tinyDraggable({handle:"#"+$.jgrid.jqID(p.id)});else try{$(u).draggable({handle:$("#"+$.jgrid.jqID(p.id))})}catch(e){}if(i.resize)if($.fn.jqResize)$(u).append("<div class='jqResize "+d.resizable+" "+c.icon_base+" "+d.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(e.themodal)).jqResize(".jqResize",!!e.scrollelm&&"#"+$.jgrid.jqID(e.scrollelm));else try{$(u).resizable({handles:"se, sw",alsoResize:!!e.scrollelm&&"#"+$.jgrid.jqID(e.scrollelm)})}catch(e){}!0===i.closeOnEscape&&$(u).keydown((function(t){if(27===t.which){var r=$("#"+$.jgrid.jqID(e.themodal)).data("onClose")||i.onClose;a.hideModal("#"+$.jgrid.jqID(e.themodal),{gb:i.gbox,jqm:i.jqModal,onClose:r,removemodal:i.removemodal||!1,formprop:!i.recreateForm||!1,form:i.form||""})}}))},viewModal:function(e,t){if(void 0===(t=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{})).focusField&&(t.focusField=0),"number"==typeof t.focusField&&t.focusField>=0?t.focusField=parseInt(t.focusField,10):"boolean"!=typeof t.focusField||t.focusField?t.focusField=0:t.focusField=!1,$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else if(""!==t.gbox&&($(".jqgrid-overlay:first",t.gbox).show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false"),t.focusField>=0)try{$(":input:visible",e)[parseInt(t.focusField,10)].focus()}catch(e){}},info_dialog:function(e,t,i,r){var n={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,n,$.jgrid.jqModal||{},{caption:"<b>"+e+"</b>"},r||{});var s=n.jqModal,o=this,a=$.jgrid.styleUI[n.styleUI||"jQueryUI"].modal,l=$.jgrid.styleUI[n.styleUI||"jQueryUI"].common;$.fn.jqm&&!s&&(s=!1);var d,c="";if(n.buttons.length>0)for(d=0;d<n.buttons.length;d++)void 0===n.buttons[d].id&&(n.buttons[d].id="info_button_"+d),c+="<a id='"+n.buttons[d].id+"' class='fm-button "+l.button+"'>"+n.buttons[d].text+"</a>";var u="<div id='info_id'>";u+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(isNaN(n.dataheight)?n.dataheight:n.dataheight+"px")+";"+("text-align:"+n.align+";")+"'>"+t+"</div>",u+=i?"<div class='"+a.content+"' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+l.button+"'>"+i+"</a>"+c+"</div>":""!==c?"<div class='"+a.content+"' style='text-align:"+n.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+c+"</div>":"",u+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:s}),$("#info_dialog").remove()}catch(e){}$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},u,n,"","",!0),c&&$.each(n.buttons,(function(e){$("#"+$.jgrid.jqID(this.id),"#info_id").bind("click",(function(){return n.buttons[e].onClick.call($("#info_dialog")),!1}))})),$("#closedialog","#info_id").click((function(){return o.hideModal("#info_dialog",{jqm:s,onClose:$("#info_dialog").data("onClose")||n.onClose,gb:$("#info_dialog").data("gbox")||n.gbox}),!1})),$(".fm-button","#info_dialog").hover((function(){$(this).addClass(l.hover)}),(function(){$(this).removeClass(l.hover)})),$.isFunction(n.beforeOpen)&&n.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:n.modal,jqm:s}),$.isFunction(n.afterOpen)&&n.afterOpen();try{$("#info_dialog").focus()}catch(e){}},bindEv:function(e,t){var i=this;$.isFunction(t.dataInit)&&t.dataInit.call(i,e,t),t.dataEvents&&$.each(t.dataEvents,(function(){void 0!==this.data?$(e).bind(this.type,this.data,this.fn):$(e).bind(this.type,this.fn)}))},createEl:function(e,t,i,r,n){function s(e,t,i){var r=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];void 0!==i&&$.isArray(i)&&$.merge(r,i),$.each(t,(function(t,i){-1===$.inArray(t,r)&&$(e).attr(t,i)})),t.hasOwnProperty("id")||$(e).attr("id",$.jgrid.randId())}var o="",a=this;switch(e){case"textarea":o=document.createElement("textarea"),r?t.cols||$(o).css({width:"98%"}):t.cols||(t.cols=20),t.rows||(t.rows=2),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i=""),o.value=i,s(o,t),$(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if((o=document.createElement("input")).type="checkbox",t.value){var l=t.value.split(":");i===l[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=l[0],$(o).attr("offval",l[1])}else{var d=(i+"").toLowerCase();d.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==d?(o.checked=!0,o.defaultChecked=!0,o.value=i):o.value="on",$(o).attr("offval","off")}s(o,t,["value"]),$(o).attr("role","checkbox");break;case"select":(o=document.createElement("select")).setAttribute("role","select");var c,u=[];if(!0===t.multiple?(c=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true")):c=!1,null!=t.dataUrl){var p=null,h=t.postData||n.postData;try{p=t.rowId}catch(e){}a.p&&a.p.idPrefix&&(p=$.jgrid.stripPref(a.p.idPrefix,p)),$.ajax($.extend({url:$.isFunction(t.dataUrl)?t.dataUrl.call(a,p,i,String(t.name)):t.dataUrl,type:"GET",dataType:"html",data:$.isFunction(h)?h.call(a,p,i,String(t.name)):h,context:{elem:o,options:t,vl:i},success:function(e){var t,i=[],r=this.elem,n=this.vl,o=$.extend({},this.options),l=!0===o.multiple,d=!0===o.cacheUrlData,c="",u=$.isFunction(o.buildSelect)?o.buildSelect.call(a,e):e;if("string"==typeof u&&(u=$($.trim(u)).html()),u){if($(r).append(u),s(r,o,h?["postData"]:void 0),void 0===o.size&&(o.size=l?3:1),l?(i=n.split(","),i=$.map(i,(function(e){return $.trim(e)}))):i[0]=$.trim(n),$("option",r).each((function(e){t=$(this).text(),n=$(this).val()||t,d&&(c+=(0!==e?";":"")+n+":"+t),0===e&&r.multiple&&(this.selected=!1),$(this).attr("role","option"),($.inArray($.trim(t),i)>-1||$.inArray($.trim(n),i)>-1)&&(this.selected="selected")})),d)if("edit"===o.oper)$(a).jqGrid("setColProp",o.name,{editoptions:{buildSelect:null,dataUrl:null,value:c}});else if("search"===o.oper)$(a).jqGrid("setColProp",o.name,{searchoptions:{dataUrl:null,value:c}});else if("filter"===o.oper&&$("#fbox_"+a.p.id)[0].p){var p,f=$("#fbox_"+a.p.id)[0].p.columns;$.each(f,(function(){if(p=this.index||this.name,o.name===p)return this.searchoptions.dataUrl=null,this.searchoptions.value=c,!1}))}$(a).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[r])}}},n||{}))}else if(t.value){var f;void 0===t.size&&(t.size=c?3:1),c&&(u=i.split(","),u=$.map(u,(function(e){return $.trim(e)}))),"function"==typeof t.value&&(t.value=t.value());var g,m,v,b,_,y,w=void 0===t.separator?":":t.separator,x=void 0===t.delimiter?";":t.delimiter;if("string"==typeof t.value)for(g=t.value.split(x),f=0;f<g.length;f++)(m=g[f].split(w)).length>2&&(m[1]=$.map(m,(function(e,t){if(t>0)return e})).join(w)),(v=document.createElement("option")).setAttribute("role","option"),v.value=m[0],v.innerHTML=m[1],o.appendChild(v),c||$.trim(m[0])!==$.trim(i)&&$.trim(m[1])!==$.trim(i)||(v.selected="selected"),c&&($.inArray($.trim(m[1]),u)>-1||$.inArray($.trim(m[0]),u)>-1)&&(v.selected="selected");else if("[object Array]"===Object.prototype.toString.call(t.value))for(b=t.value,f=0;f<b.length;f++)2===b[f].length&&(_=b[f][0],y=b[f][1],(v=document.createElement("option")).setAttribute("role","option"),v.value=_,v.innerHTML=y,o.appendChild(v),c||$.trim(_)!==$.trim(i)&&$.trim(y)!==$.trim(i)||(v.selected="selected"),c&&($.inArray($.trim(y),u)>-1||$.inArray($.trim(_),u)>-1)&&(v.selected="selected"));else if("object"==typeof t.value)for(_ in b=t.value)b.hasOwnProperty(_)&&((v=document.createElement("option")).setAttribute("role","option"),v.value=_,v.innerHTML=b[_],o.appendChild(v),c||$.trim(_)!==$.trim(i)&&$.trim(b[_])!==$.trim(i)||(v.selected="selected"),c&&($.inArray($.trim(b[_]),u)>-1||$.inArray($.trim(_),u)>-1)&&(v.selected="selected"));s(o,t,["value"])}break;case"image":case"file":(o=document.createElement("input")).type=e,s(o,t);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(t.custom_element))throw"e1";var j=t.custom_element.call(a,i,t);if(!j)throw"e2";j=$(j).addClass("customelement").attr({id:t.id,name:t.name}),$(o).empty().append(j)}catch(e){var D=$.jgrid.getRegional(a,"errors"),k=$.jgrid.getRegional(a,"edit");"e1"===e?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+k.msg.nodefined,k.bClose,{styleUI:a.p.styleUI}):"e2"===e?$.jgrid.info_dialog(D.errcap,"function 'custom_element' "+k.msg.novalue,k.bClose,{styleUI:a.p.styleUI}):$.jgrid.info_dialog(D.errcap,"string"==typeof e?e:e.message,k.bClose,{styleUI:a.p.styleUI})}break;default:var C;C="button"===e?"button":"textbox",(o=document.createElement("input")).type=e,o.value=i,s(o,t),"button"!==e&&(r?t.size||$(o).css({width:"96%"}):t.size||(t.size=20)),$(o).attr("role",C)}return o},checkDate:function(e,t){var i,r=function(e){return e%4!=0||e%100==0&&e%400!=0?28:29},n={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var s,o,a=-1,l=-1,d=-1;for(o=0;o<e.length;o++){var c=isNaN(t[o])?0:parseInt(t[o],10);n[e[o]]=c,-1!==(s=e[o]).indexOf("y")&&(a=o),-1!==s.indexOf("m")&&(d=o),-1!==s.indexOf("d")&&(l=o)}s="y"===e[a]||"yyyy"===e[a]?4:"yy"===e[a]?2:-1;var u,p=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==a&&(u=n[e[a]].toString(),2===s&&1===u.length&&(s=1),u.length===s&&(0!==n[e[a]]||"00"===t[a])&&(-1!==d&&(!((u=n[e[d]].toString()).length<1||n[e[d]]<1||n[e[d]]>12)&&(-1!==l&&!((u=n[e[l]].toString()).length<1||n[e[l]]<1||n[e[l]]>31||2===n[e[d]]&&n[e[l]]>r(n[e[a]])||n[e[l]]>p[n[e[d]]])))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(e)){if(!(t=e.match(i)))return!1;if(t[3]){if(t[1]<1||t[1]>12)return!1}else if(t[1]>23)return!1;if(t[2]>59)return!1}return!0},checkValues:function(e,t,i,r){var n,s,o,a,l,d,c=this,u=c.p.colModel,p=$.jgrid.getRegional(this,"edit.msg");if(void 0===i)if("string"==typeof t){for(s=0,l=u.length;s<l;s++)if(u[s].name===t){n=u[s].editrules,t=s,null!=u[s].formoptions&&(o=u[s].formoptions.label);break}}else t>=0&&(n=u[t].editrules);else n=i,o=void 0===r?"_":r;if(n){if(o||(o=null!=c.p.colNames?c.p.colNames[t]:u[t].label),!0===n.required&&$.jgrid.isEmpty(e))return[!1,o+": "+p.required,""];var h=!1!==n.required;if(!0===n.number&&(!1!==h||!$.jgrid.isEmpty(e))&&isNaN(e))return[!1,o+": "+p.number,""];if(void 0!==n.minValue&&!isNaN(n.minValue)&&parseFloat(e)<parseFloat(n.minValue))return[!1,o+": "+p.minValue+" "+n.minValue,""];if(void 0!==n.maxValue&&!isNaN(n.maxValue)&&parseFloat(e)>parseFloat(n.maxValue))return[!1,o+": "+p.maxValue+" "+n.maxValue,""];if(!0===n.email&&!(!1===h&&$.jgrid.isEmpty(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,o+": "+p.email,""];if(!0===n.integer&&(!1!==h||!$.jgrid.isEmpty(e))){if(isNaN(e))return[!1,o+": "+p.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,o+": "+p.integer,""]}if(!0===n.date&&!(!1===h&&$.jgrid.isEmpty(e)||(u[t].formatoptions&&u[t].formatoptions.newformat?(a=u[t].formatoptions.newformat,(d=$.jgrid.getRegional(c,"formatter.date.masks"))&&d.hasOwnProperty(a)&&(a=d[a])):a=u[t].datefmt||"Y-m-d",$.jgrid.checkDate(a,e))))return[!1,o+": "+p.date+" - "+a,""];if(!0===n.time&&!(!1===h&&$.jgrid.isEmpty(e)||$.jgrid.checkTime(e)))return[!1,o+": "+p.date+" - hh:mm (am/pm)",""];if(!0===n.url&&!(!1===h&&$.jgrid.isEmpty(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,o+": "+p.url,""];if(!0===n.custom&&(!1!==h||!$.jgrid.isEmpty(e))){if($.isFunction(n.custom_func)){var f=n.custom_func.call(c,e,o,t);return $.isArray(f)?f:[!1,p.customarray,""]}return[!1,p.customfcheck,""]}}return[!0,"",""]}}),$.fn.jqFilter=function(e){if("string"==typeof e){var t=$.fn.jqFilter[e];if(!t)throw"jqFilter - No such method: "+e;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)}var r=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,uniqueSearchFields:!1,direction:"ltr"},$.jgrid.filter,e||{});return this.each((function(){if(!this.filter){this.p=r,null!==this.p.filter&&void 0!==this.p.filter||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var e,t,i=this.p.columns.length,n=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),i){for(e=0;e<i;e++)(t=this.p.columns[e]).stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules")||(t.searchrules={}),void 0===t.search?t.inlist=!0:t.inlist=t.search;var s=function(){return $("#"+$.jgrid.jqID(r.id))[0]||null},o=s(),a=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].filter,l=$.jgrid.styleUI[o.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+a.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var d=function(e,t){var i=[!0,""],n=s();if($.isFunction(t.searchrules))i=t.searchrules.call(n,e,t);else if($.jgrid&&$.jgrid.checkValues)try{i=$.jgrid.checkValues.call(n,e,-1,t.searchrules,t.label)}catch(e){}i&&i.length&&!1===i[0]&&(r.error=!i[0],r.errmsg=i[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(r.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(e,t){var i,n=this,s=$("<table class='group "+a.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),o="left";"rtl"===this.p.direction&&(o="right",s.attr("dir","rtl")),null===t&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='"+l.error+"' align='"+o+"'></th></tr>");var d=$("<tr></tr>");s.append(d);var c=$("<th colspan='5' align='"+o+"'></th>");if(d.append(c),!0===this.p.ruleButtons){var u=$("<select class='opsel "+a.srSelect+"'></select>");c.append(u);var p,h="";for(i=0;i<r.groupOps.length;i++)p=e.groupOp===n.p.groupOps[i].op?" selected='selected'":"",h+="<option value='"+n.p.groupOps[i].op+"'"+p+">"+n.p.groupOps[i].text+"</option>";u.append(h).bind("change",(function(){e.groupOp=$(u).val(),n.onchange()}))}var f="<span></span>";if(this.p.groupButton&&(f=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+l.button+"'/>")).bind("click",(function(){return void 0===e.groups&&(e.groups=[]),e.groups.push({groupOp:r.groupOps[0].op,rules:[],groups:[]}),n.reDraw(),n.onchange(),!1})),c.append(f),!0===this.p.ruleButtons){var g,m=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+l.button+"'/>");m.bind("click",(function(){for(void 0===e.rules&&(e.rules=[]),i=0;i<n.p.columns.length;i++){var t=void 0===n.p.columns[i].search||n.p.columns[i].search,r=!0===n.p.columns[i].hidden;if(!0===n.p.columns[i].searchoptions.searchhidden&&t||t&&!r){g=n.p.columns[i];break}}return!!g&&(s=g.searchoptions.sopt?g.searchoptions.sopt:n.p.sopt?n.p.sopt:-1!==$.inArray(g.searchtype,n.p.strarr)?n.p.stropts:n.p.numopts,e.rules.push({field:g.name,op:s[0],data:""}),n.reDraw(),!1);var s})),c.append(m)}if(null!==t){var v=$("<input type='button' value='-' title='Delete group' class='delete-group "+l.button+"'/>");c.append(v),v.bind("click",(function(){for(i=0;i<t.groups.length;i++)if(t.groups[i]===e){t.groups.splice(i,1);break}return n.reDraw(),n.onchange(),!1}))}if(void 0!==e.groups)for(i=0;i<e.groups.length;i++){var b=$("<tr></tr>");s.append(b);var _=$("<td class='first'></td>");b.append(_);var y=$("<td colspan='4'></td>");y.append(this.createTableForGroup(e.groups[i],e)),b.append(y)}void 0===e.groupOp&&(e.groupOp=n.p.groupOps[0].op);var w=n.p.ruleButtons&&n.p.uniqueSearchFields;if(w)for(var x=0;x<n.p.columns.length;x++)n.p.columns[x].inlist&&(n.p.columns[x].search=!0);if(void 0!==e.rules)for(i=0;i<e.rules.length;i++)if(s.append(this.createTableRowForRule(e.rules[i],e)),w){var j=e.rules[i].field;for(x=0;x<n.p.columns.length;x++)if(j===n.p.columns[x].name){n.p.columns[x].search=!1;break}}return s},this.createTableRowForRule=function(e,t){var i,o,d,c,u,p=this,h=s(),f=$("<tr></tr>"),g="";f.append("<td class='first'></td>");var m=$("<td class='columns'></td>");f.append(m);var v,b=$("<select class='"+a.srSelect+"'></select>"),_=[];m.append(b),b.bind("change",(function(){if(p.p.ruleButtons&&p.p.uniqueSearchFields){var t=parseInt($(this).data("curr"),10),r=this.selectedIndex;t>=0&&(p.p.columns[t].search=!0,$(this).data("curr",r),p.p.columns[r].search=!1)}for(e.field=$(b).val(),d=$(this).parents("tr:first"),$(".data",d).empty(),i=0;i<p.p.columns.length;i++)if(p.p.columns[i].name===e.field){c=p.p.columns[i];break}if(c){c.searchoptions.id=$.jgrid.randId(),c.searchoptions.name=e.field,c.searchoptions.oper="filter",n&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10));var s=$.jgrid.createEl.call(h,c.inputtype,c.searchoptions,"",!0,p.p.ajaxSelectOptions||{},!0);$(s).addClass("input-elm "+a.srInput),o=c.searchoptions.sopt?c.searchoptions.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(c.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts;var l="",u=0;for(_=[],$.each(p.p.ops,(function(){_.push(this.oper)})),i=0;i<o.length;i++)-1!==(v=$.inArray(o[i],_))&&(0===u&&(e.op=p.p.ops[v].oper),l+="<option value='"+p.p.ops[v].oper+"'>"+p.p.ops[v].text+"</option>",u++);if($(".selectopts",d).empty().append(l),$(".selectopts",d)[0].selectedIndex=0,$.jgrid.msie()&&$.jgrid.msiever()<9){var f=parseInt($("select.selectopts",d)[0].offsetWidth,10)+1;$(".selectopts",d).width(f),$(".selectopts",d).css("width","auto")}$(".data",d).append(s),$.jgrid.bindEv.call(h,s,c.searchoptions),$(".input-elm",d).bind("change",(function(t){var i=t.target;e.data="SPAN"===i.nodeName.toUpperCase()&&c.searchoptions&&$.isFunction(c.searchoptions.custom_value)?c.searchoptions.custom_value.call(h,$(i).children(".customelement:first"),"get"):i.value,p.onchange()})),setTimeout((function(){e.data=$(s).val(),p.onchange()}),0)}}));var y=0;for(i=0;i<p.p.columns.length;i++){var w=void 0===p.p.columns[i].search||p.p.columns[i].search,x=!0===p.p.columns[i].hidden;(!0===p.p.columns[i].searchoptions.searchhidden&&w||w&&!x)&&(u="",e.field===p.p.columns[i].name&&(u=" selected='selected'",y=i),g+="<option value='"+p.p.columns[i].name+"'"+u+">"+p.p.columns[i].label+"</option>")}b.append(g),b.data("curr",y);var j=$("<td class='operators'></td>");f.append(j),(c=r.columns[y]).searchoptions.id=$.jgrid.randId(),
n&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10)),c.searchoptions.name=e.field,c.searchoptions.oper="filter";var D=$.jgrid.createEl.call(h,c.inputtype,c.searchoptions,e.data,!0,p.p.ajaxSelectOptions||{},!0);"nu"!==e.op&&"nn"!==e.op||($(D).attr("readonly","true"),$(D).attr("disabled","true"));var k=$("<select class='selectopts "+a.srSelect+"'></select>");for(j.append(k),k.bind("change",(function(){e.op=$(k).val(),d=$(this).parents("tr:first");var t=$(".input-elm",d)[0];"nu"===e.op||"nn"===e.op?(e.data="","SELECT"!==t.tagName.toUpperCase()&&(t.value=""),t.setAttribute("readonly","true"),t.setAttribute("disabled","true")):("SELECT"===t.tagName.toUpperCase()&&(e.data=t.value),t.removeAttribute("readonly"),t.removeAttribute("disabled")),p.onchange()})),o=c.searchoptions.sopt?c.searchoptions.sopt:p.p.sopt?p.p.sopt:-1!==$.inArray(c.searchtype,p.p.strarr)?p.p.stropts:p.p.numopts,g="",$.each(p.p.ops,(function(){_.push(this.oper)})),i=0;i<o.length;i++)-1!==(v=$.inArray(o[i],_))&&(u=e.op===p.p.ops[v].oper?" selected='selected'":"",g+="<option value='"+p.p.ops[v].oper+"'"+u+">"+p.p.ops[v].text+"</option>");k.append(g);var C=$("<td class='data'></td>");f.append(C),C.append(D),$.jgrid.bindEv.call(h,D,c.searchoptions),$(D).addClass("input-elm "+a.srInput).bind("change",(function(){e.data="custom"===c.inputtype?c.searchoptions.custom_value.call(h,$(this).children(".customelement:first"),"get"):$(this).val(),p.onchange()}));var S=$("<td></td>");if(f.append(S),!0===this.p.ruleButtons){var I=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+l.button+"'/>");S.append(I),I.bind("click",(function(){for(i=0;i<t.rules.length;i++)if(t.rules[i]===e){t.rules.splice(i,1);break}return p.reDraw(),p.onchange(),!1}))}return f},this.getStringForGroup=function(e){var t,i="(";if(void 0!==e.groups)for(t=0;t<e.groups.length;t++){i.length>1&&(i+=" "+e.groupOp+" ");try{i+=this.getStringForGroup(e.groups[t])}catch(e){alert(e)}}if(void 0!==e.rules)try{for(t=0;t<e.rules.length;t++)i.length>1&&(i+=" "+e.groupOp+" "),i+=this.getStringForRule(e.rules[t])}catch(e){alert(e)}return"()"===(i+=")")?"":i},this.getStringForRule=function(e){var t,i,n,s="",o="",a=["int","integer","float","number","currency"];for(t=0;t<this.p.ops.length;t++)if(this.p.ops[t].oper===e.op){s=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",o=this.p.ops[t].oper;break}for(t=0;t<this.p.columns.length;t++)if(this.p.columns[t].name===e.field){i=this.p.columns[t];break}return void 0===i?"":(n=e.data,"bw"!==o&&"bn"!==o||(n+="%"),"ew"!==o&&"en"!==o||(n="%"+n),"cn"!==o&&"nc"!==o||(n="%"+n+"%"),"in"!==o&&"ni"!==o||(n=" ("+n+")"),r.errorcheck&&d(e.data,i),-1!==$.inArray(i.searchtype,a)||"nn"===o||"nu"===o?e.field+" "+s+" "+n:e.field+" "+s+' "'+n+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+l.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+l.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(r.filter)},this.toString=function(){function e(e){if(i.p.errorcheck){var t,r;for(t=0;t<i.p.columns.length;t++)if(i.p.columns[t].name===e.field){r=i.p.columns[t];break}r&&d(e.data,r)}return e.op+"(item."+e.field+",'"+e.data+"')"}function t(i){var r,n="(";if(void 0!==i.groups)for(r=0;r<i.groups.length;r++)n.length>1&&("OR"===i.groupOp?n+=" || ":n+=" && "),n+=t(i.groups[r]);if(void 0!==i.rules)for(r=0;r<i.rules.length;r++)n.length>1&&("OR"===i.groupOp?n+=" || ":n+=" && "),n+=e(i.rules[r]);return"()"===(n+=")")?"":n}var i=this;return t(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}}))},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each((function(){e=this.toUserFriendlyString()})),e},filterData:function(){var e;return this.each((function(){e=this.p.filter})),e},getParameter:function(e){return void 0!==e&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each((function(){this.resetFilter()}))},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each((function(){this.p.filter=e,this.reDraw(),this.onchange()}))}}),$.jgrid.extend({filterToolbar:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,onClearSearchValue:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",splitSelect:",",groupOpSelect:"OR",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^",in:"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#",bt:"..."}},t,e||{}),this.each((function(){var i=this;if(!i.p.filterToolbar){$(i).data("filterToolbar")||$(i).data("filterToolbar",e),i.p.force_regional&&(e=$.extend(e,t));var r,n,s,o=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,a=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=function(){var t,r,n,s,o={},a=0,l={},d=!1,c=[],u=!1;$.each(i.p.colModel,(function(){var p=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);if(r=this.index||this.name,s=this.searchoptions||{},n=e.searchOperators&&s.searchOperMenu?p.parent().prev().children("a").attr("soper")||e.defaultSearch:s.sopt?s.sopt[0]:"select"===this.stype?"eq":e.defaultSearch,t="custom"===this.stype&&$.isFunction(s.custom_value)&&p.length>0&&"SPAN"===p[0].nodeName.toUpperCase()?s.custom_value.call(i,p.children(".customelement:first"),"get"):p.val(),"select"===this.stype&&s.multiple&&$.isArray(t)&&t.length&&(d=!0,c.push(r),t=1===t.length?t[0]:t),"bt"===n&&(u=!0),t||"nu"===n||"nn"===n)o[r]=t,l[r]=n,a++;else try{delete i.p.postData[r]}catch(e){}}));var p,h=a>0;if(!0===e.stringResult||"local"===i.p.datatype||!0===e.searchOperators){var f,g,m,v,b,_,y='{"groupOp":"'+e.groupOp+'","rules":[',w=0;if($.each(o,(function(e,t){w>0&&(y+=","),y+='{"field":"'+e+'",',y+='"op":"'+l[e]+'",',y+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',w++})),y+="]}",d&&(f=$.jgrid.parse(y)).rules&&f.rules.length)for(g=f.rules,m=0;m<g.length;m++)v=g[m],$.inArray(v.filed,c)&&(b=v.data.split(e.splitSelect)).length>1&&(void 0===f.groups&&(f.groups=[]),_={groupOp:e.groupOpSelect,groups:[],rules:[]},f.groups.push(_),$.each(b,(function(e){b[e]&&_.rules.push({data:b[e],op:v.op,field:v.field})})),g.splice(m,1),m--);if(u&&($.isPlainObject(f)||(f=$.jgrid.parse(y)),f.rules&&f.rules.length))for(g=f.rules,m=0;m<g.length;m++)"bt"===(v=g[m]).op&&(b=v.data.split("...")).length>1&&(void 0===f.groups&&(f.groups=[]),_={groupOp:"AND",groups:[],rules:[]},f.groups.push(_),$.each(b,(function(e){var t=0===e?"ge":"le";b[e]&&_.rules.push({data:b[e],op:t,field:v.field})})),g.splice(m,1),m--);(u||d)&&(y=JSON.stringify(f)),$.extend(i.p.postData,{filters:y}),$.each(["searchField","searchString","searchOper"],(function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]}))}else $.extend(i.p.postData,o);i.p.searchurl&&(p=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var x="stop"===$(i).triggerHandler("jqGridToolbarBeforeSearch");!x&&$.isFunction(e.beforeSearch)&&(x=e.beforeSearch.call(i)),x||$(i).jqGrid("setGridParam",{search:h}).trigger("reloadGrid",[{page:1}]),p&&$(i).jqGrid("setGridParam",{url:p}),$(i).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(e.afterSearch)&&e.afterSearch.call(i)},c=function(t){var r,n={},s=0;t="boolean"!=typeof t||t,$.each(i.p.colModel,(function(){var e,t=$("#gs_"+i.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv);switch(this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(e=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(t.find("option").each((function(t){if(0===t&&(this.selected=!0),$(this).val()===e)return this.selected=!0,!1})),void 0!==e)n[r]=e,s++;else try{delete i.p.postData[r]}catch(e){}break;case"text":if(t.val(e||""),void 0!==e)n[r]=e,s++;else try{delete i.p.postData[r]}catch(e){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&t.length>0&&"SPAN"===t[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(i,t.children(".customelement:first"),"set",e||"")}}));var o,a=s>0;if(i.p.resetsearch=!0,!0===e.stringResult||"local"===i.p.datatype){var l='{"groupOp":"'+e.groupOp+'","rules":[',d=0;$.each(n,(function(e,t){d>0&&(l+=","),l+='{"field":"'+e+'",',l+='"op":"eq",',l+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',d++})),l+="]}",$.extend(i.p.postData,{filters:l}),$.each(["searchField","searchString","searchOper"],(function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]}))}else $.extend(i.p.postData,n);i.p.searchurl&&(o=i.p.url,$(i).jqGrid("setGridParam",{url:i.p.searchurl}));var c="stop"===$(i).triggerHandler("jqGridToolbarBeforeClear");!c&&$.isFunction(e.beforeClear)&&(c=e.beforeClear.call(i)),c||t&&$(i).jqGrid("setGridParam",{search:a}).trigger("reloadGrid",[{page:1}]),o&&$(i).jqGrid("setGridParam",{url:o}),$(i).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(e.afterClear)&&e.afterClear()},u=function(){var e=$("tr.ui-search-toolbar",i.grid.hDiv),t=!0===i.p.frozenColumns&&$("tr.ui-search-toolbar",i.grid.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())},p=function(t,r,n){$("#sopt_menu").remove(),r=parseInt(r,10),n=parseInt(n,10)+18;for(var s,l='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+($(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+r+"px;top:"+n+'px;">',c=$(t).attr("soper"),u=[],p=0,h=$(t).attr("colname"),f=i.p.colModel.length;p<f&&i.p.colModel[p].name!==h;)p++;var g=i.p.colModel[p],m=$.extend({},g.searchoptions);for(m.sopt||(m.sopt=[],m.sopt[0]="select"===g.stype?"eq":e.defaultSearch),$.each(e.odata,(function(){u.push(this.oper)})),p=0;p<m.sopt.length;p++)-1!==(s=$.inArray(m.sopt[p],u))&&(l+='<li class="ui-menu-item '+(c===e.odata[s].oper?a.highlight:"")+'" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+e.odata[s].oper+'" oper="'+e.operands[e.odata[s].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+e.operands[e.odata[s].oper]+"</td><td>"+e.odata[s].text+"</td></tr></table></a></li>");l+="</ul>",$("body").append(l),$("#sopt_menu").addClass("ui-menu "+o.menu_widget),$("#sopt_menu > li > a").hover((function(){$(this).addClass(a.hover)}),(function(){$(this).removeClass(a.hover)})).click((function(){var r=$(this).attr("value"),n=$(this).attr("oper");if($(i).triggerHandler("jqGridToolbarSelectOper",[r,n,t]),$("#sopt_menu").hide(),$(t).text(n).attr("soper",r),!0===e.autosearch){var s=$(t).parent().next().children()[0];($(s).val()||"nu"===r||"nn"===r)&&d()}}))},h=$("<tr class='ui-search-toolbar' role='row'></tr>");e.restoreFromFilters&&(s=i.p.postData.filters)&&("string"==typeof s&&(s=$.jgrid.parse(s)),n=!!s.rules.length&&s.rules),$.each(i.p.colModel,(function(t){var s,a,c,u,p,f,g,m,v=this,b="",_="=",y=$("<th role='columnheader' class='"+l.headerBox+" ui-th-"+i.p.direction+"' id='gsh_"+i.p.id+"_"+v.name+"' ></th>"),w=$("<div></div>"),x=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(!0===this.hidden&&$(y).css("display","none"),this.search=!1!==this.search,void 0===this.stype&&(this.stype="text"),this.searchoptions=this.searchoptions||{},void 0===this.searchoptions.searchOperMenu&&(this.searchoptions.searchOperMenu=!0),s=$.extend({},this.searchoptions,{name:v.index||v.name,id:"gs_"+i.p.idPrefix+v.name,oper:"search"}),this.search){if(e.restoreFromFilters&&n){m=!1;for(var j=0;j<n.length;j++){if(n[j].field)if((v.index||v.name)===n[j].field){m=n[j];break}}}if(e.searchOperators){for(a=s.sopt?s.sopt[0]:"select"===v.stype?"eq":e.defaultSearch,e.restoreFromFilters&&m&&(a=m.op),c=0;c<e.odata.length;c++)if(e.odata[c].oper===a){_=e.operands[a]||"";break}u=null!=s.searchtitle?s.searchtitle:e.operandTitle,b=this.searchoptions.searchOperMenu?"<a title='"+u+"' style='padding-right: 0.5em;' soper='"+a+"' class='soptclass' colname='"+this.name+"'>"+_+"</a>":""}switch($("td:eq(0)",x).attr("colindex",t).append(b),void 0===s.clearSearch&&(s.clearSearch=!0),s.clearSearch?(p=e.resetTitle||"Clear Search Value",$("td:eq(2)",x).append("<a title='"+p+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+e.resetIcon+"</a>")):$("td:eq(2)",x).hide(),this.surl&&(s.dataUrl=this.surl),f="",s.defaultValue&&(f=$.isFunction(s.defaultValue)?s.defaultValue.call(i):s.defaultValue),e.restoreFromFilters&&m&&(f=m.data),g=$.jgrid.createEl.call(i,this.stype,s,f,!1,$.extend({},$.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),$(g).addClass(o.srInput),$("td:eq(1)",x).append(g),$(w).append(x),null==s.dataEvents&&(s.dataEvents=[]),this.stype){case"select":!0===e.autosearch&&s.dataEvents.push({type:"change",fn:function(){return d(),!1}});break;case"text":!0===e.autosearch&&(e.searchOnEnter?s.dataEvents.push({type:"keypress",fn:function(e){return 13===(e.charCode||e.keyCode||0)?(d(),!1):this}}):s.dataEvents.push({type:"keydown",fn:function(t){switch(t.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:r&&clearTimeout(r),r=setTimeout((function(){d()}),e.autosearchDelay)}}}))}$.jgrid.bindEv.call(i,g,s)}$(y).append(w),$(h).append(y),e.searchOperators&&""!==b||$("td:eq(0)",x).hide()})),$("table thead",i.grid.hDiv).append(h),e.searchOperators&&($(".soptclass",h).click((function(e){var t=$(this).offset(),i=t.left,r=t.top;p(this,i,r),e.stopPropagation()})),$("body").on("click",(function(e){"soptclass"!==e.target.className&&$("#sopt_menu").remove()}))),$(".clearsearchclass",h).click((function(){var t,r=$(this).parents("tr:first"),n=parseInt($("td.ui-search-oper",r).attr("colindex"),10),s=$.extend({},i.p.colModel[n].searchoptions||{}),o=s.defaultValue?s.defaultValue:"";"select"===i.p.colModel[n].stype?(t=$("td.ui-search-input select",r),o?t.val(o):t[0].selectedIndex=0):(t=$("td.ui-search-input input",r)).val(o),$(i).triggerHandler("jqGridToolbarClearVal",[t[0],n,s,o]),$.isFunction(e.onClearSearchValue)&&e.onClearSearchValue.call(i,t[0],n,s,o),!0===e.autosearch&&d()})),this.p.filterToolbar=!0,this.triggerToolbar=d,this.clearToolbar=c,this.toggleToolbar=u}}))},destroyFilterToolbar:function(){return this.each((function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())}))},refreshFilterToolbar:function(e){return e=$.extend(!0,{filters:"",onClearVal:null,onSetVal:null},e||{}),this.each((function(){function t(n){if(n&&n.rules){for(s=n.rules,c=s.length,i=0;i<c;i++)o=s[i],-1!==(a=$.inArray(o.field,u))&&(r=$("#gs_"+l.p.idPrefix+$.jgrid.jqID(d[a].name))).length>0&&("select"===d[a].stype?r.find("option[value='"+$.jgrid.jqID(o.data)+"']").prop("selected",!0):"text"===d[a].stype&&r.val(o.data),$.isFunction(e.onSetVal)&&e.onSetVal.call(l,r,d[a].name));if(n.groups)for(var p=0;p<n.groups.length;p++)t(n.groups[p])}}var i,r,n,s,o,a,l=this,d=l.p.colModel,c=l.p.colModel.length,u=[];if(l.p.filterToolbar){for(i=0;i<c;i++){switch(u.push(d[i].name),r=$("#gs_"+l.p.idPrefix+$.jgrid.jqID(d[i].name)),d[i].stype){case"select":case"text":r.val("")}$.isFunction(e.onClearVal)&&e.onClearVal.call(l,r,d[i].name)}"string"==typeof e.filters&&e.filters.length&&(n=$.jgrid.parse(e.filters)),$.isPlainObject(n)&&t(n)}}))},searchGrid:function(e){var t=$.jgrid.getRegional(this[0],"search");return e=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE",in:"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},t,e||{}),this.each((function(){function t(t){void 0===(s=$(i).triggerHandler("jqGridFilterBeforeShow",[t]))&&(s=!0),s&&$.isFunction(e.beforeShowSearch)&&(s=e.beforeShowSearch.call(i,t)),s&&($.jgrid.viewModal("#"+$.jgrid.jqID(a.themodal),{gbox:"#gbox_"+$.jgrid.jqID(n),jqm:e.jqModal,modal:e.modal,overlay:e.overlay,toTop:e.toTop}),$(i).triggerHandler("jqGridFilterAfterShow",[t]),$.isFunction(e.afterShowSearch)&&e.afterShowSearch.call(i,t))}var i=this;if(i.grid){var r,n="fbox_"+i.p.id,s=!0,o=!0,a={themodal:"searchmod"+n,modalhead:"searchhd"+n,modalcontent:"searchcnt"+n,scrollelm:n},l=i.p.postData[e.sFilter],d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].filter,c=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common;if(e.styleUI=i.p.styleUI,"string"==typeof l&&(l=$.jgrid.parse(l)),!0===e.recreateFilter&&$("#"+$.jgrid.jqID(a.themodal)).remove(),void 0!==$("#"+$.jgrid.jqID(a.themodal))[0])t($("#fbox_"+$.jgrid.jqID(i.p.id)));else{var u=$("<div><div id='"+n+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(i.p.id)),p="left",h="";"rtl"===i.p.direction&&(p="right",h=" style='text-align:left'",u.attr("dir","rtl"));var f,g,m=$.extend([],i.p.colModel),v="<a id='"+n+"_search' class='fm-button "+c.button+" fm-button-icon-right ui-search'><span class='"+c.icon_base+" "+d.icon_search+"'></span>"+e.Find+"</a>",b="<a id='"+n+"_reset' class='fm-button "+c.button+" fm-button-icon-left ui-reset'><span class='"+c.icon_base+" "+d.icon_reset+"'></span>"+e.Reset+"</a>",_="",y="",w=!1,x=-1;if(e.showQuery&&(_="<a id='"+n+"_query' class='fm-button "+c.button+" fm-button-icon-left'><span class='"+c.icon_base+" "+d.icon_query+"'></span>Query</a>"),e.columns.length?(m=e.columns,x=0,f=m[0].index||m[0].name):$.each(m,(function(e,t){if(t.label||(t.label=i.p.colNames[e]),!w){var r=void 0===t.search||t.search,n=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&r||r&&!n)&&(w=!0,f=t.index||t.name,x=e)}})),!l&&f||!1===e.multipleSearch){var j="eq";x>=0&&m[x].searchoptions&&m[x].searchoptions.sopt?j=m[x].searchoptions.sopt[0]:e.sopt&&e.sopt.length&&(j=e.sopt[0]),l={groupOp:"AND",rules:[{field:f,op:j,data:""}]}}w=!1,e.tmplNames&&e.tmplNames.length&&(w=!0,y="<tr><td class='ui-search-label'>"+e.tmplLabel+"</td>",y+="<td><select class='ui-template "+d.srSelect+"'>",y+="<option value='default'>Default</option>",$.each(e.tmplNames,(function(e,t){y+="<option value='"+e+"'>"+t+"</option>"})),y+="</select></td></tr>"),g="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+n+"_2'><tbody><tr><td colspan='2'><hr class='"+c.content+"' style='margin:1px'/></td></tr>"+y+"<tr><td class='EditButton' style='text-align:"+p+"'>"+b+"</td><td class='EditButton' "+h+">"+_+v+"</td></tr></tbody></table>",n=$.jgrid.jqID(n),$("#"+n).jqFilter({columns:m,sortStrategy:e.sortStrategy,filter:e.loadDefaults?l:null,showQuery:e.showQuery,errorcheck:e.errorcheck,sopt:e.sopt,groupButton:e.multipleGroup,ruleButtons:e.multipleSearch,uniqueSearchFields:e.uniqueSearchFields,afterRedraw:e.afterRedraw,ops:e.odata,operands:e.operands,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:e.groupOps,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(e.afterChange)&&e.afterChange.call(i,$("#"+n),e)},direction:i.p.direction,id:i.p.id}),u.append(g),w&&e.tmplFilters&&e.tmplFilters.length&&$(".ui-template",u).bind("change",(function(){var t=$(this).val();return"default"===t?$("#"+n).jqFilter("addFilter",l):$("#"+n).jqFilter("addFilter",e.tmplFilters[parseInt(t,10)]),!1})),!0===e.multipleGroup&&(e.multipleSearch=!0),$(i).triggerHandler("jqGridFilterInitialize",[$("#"+n)]),$.isFunction(e.onInitializeSearch)&&e.onInitializeSearch.call(i,$("#"+n)),e.gbox="#gbox_"+n,e.layer?$.jgrid.createModal(a,u,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0],"#"+$.jgrid.jqID(e.layer),{position:"relative"}):$.jgrid.createModal(a,u,e,"#gview_"+$.jgrid.jqID(i.p.id),$("#gbox_"+$.jgrid.jqID(i.p.id))[0]),(e.searchOnEnter||e.closeOnEscape)&&$("#"+$.jgrid.jqID(a.themodal)).keydown((function(t){var i=$(t.target);return!e.searchOnEnter||13!==t.which||i.hasClass("add-group")||i.hasClass("add-rule")||i.hasClass("delete-group")||i.hasClass("delete-rule")||i.hasClass("fm-button")&&i.is("[id$=_query]")?e.closeOnEscape&&27===t.which?($("#"+$.jgrid.jqID(a.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+n+"_search").click(),!1)})),_&&$("#"+n+"_query").bind("click",(function(){return $(".queryresult",u).toggle(),!1})),void 0===e.stringResult&&(e.stringResult=e.multipleSearch),$("#"+n+"_search").bind("click",(function(){var t,s,l={};if((r=$("#"+n)).find(".input-elm:focus").change(),s=r.jqFilter("filterData"),e.errorcheck&&(r[0].hideError(),e.showQuery||r.jqFilter("toSQLString"),r[0].p.error))return r[0].showError(),!1;if(e.stringResult){try{t=JSON.stringify(s)}catch(e){}"string"==typeof t&&(l[e.sFilter]=t,$.each([e.sField,e.sValue,e.sOper],(function(){l[this]=""})))}else e.multipleSearch?(l[e.sFilter]=s,$.each([e.sField,e.sValue,e.sOper],(function(){l[this]=""}))):(l[e.sField]=s.rules[0].field,l[e.sValue]=s.rules[0].data,l[e.sOper]=s.rules[0].op,l[e.sFilter]="");return i.p.search=!0,$.extend(i.p.postData,l),void 0===(o=$(i).triggerHandler("jqGridFilterSearch"))&&(o=!0),o&&$.isFunction(e.onSearch)&&(o=e.onSearch.call(i,i.p.filters)),!1!==o&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1})),$("#"+n+"_reset").bind("click",(function(){var t={},r=$("#"+n);return i.p.search=!1,i.p.resetsearch=!0,!1===e.multipleSearch?t[e.sField]=t[e.sValue]=t[e.sOper]="":t[e.sFilter]="",r[0].resetFilter(),w&&$(".ui-template",u).val("default"),$.extend(i.p.postData,t),void 0===(o=$(i).triggerHandler("jqGridFilterReset"))&&(o=!0),o&&$.isFunction(e.onReset)&&(o=e.onReset.call(i)),!1!==o&&$(i).trigger("reloadGrid",[{page:1}]),e.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(a.themodal),{gb:"#gbox_"+$.jgrid.jqID(i.p.id),jqm:e.jqModal,onClose:e.onClose}),!1})),t($("#"+n)),$(".fm-button:not(."+c.disabled+")",u).hover((function(){$(this).addClass(c.hover)}),(function(){$(this).removeClass(c.hover)}))}}}))},filterInput:function(e,t){return t=$.extend(!0,{defaultSearch:"cn",groupOp:"OR",searchAll:!1,beforeSearch:null,afterSearch:null},t||{}),this.each((function(){var i=this;if(i.grid){var r,n,s,o='{"groupOp":"'+t.groupOp+'","rules":[',a=0;if(e+="","local"!==!i.p.datatype){$.each(i.p.colModel,(function(){r=this.index||this.name,n=this.searchoptions||{},s=t.defaultSearch?t.defaultSearch:n.sopt?n.sopt[0]:t.defaultSearch,this.search=!1!==this.search,(this.search||t.searchAll)&&(a>0&&(o+=","),o+='{"field":"'+r+'",',o+='"op":"'+s+'",',o+='"data":"'+e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',a++)})),o+="]}",$.extend(i.p.postData,{filters:o}),$.each(["searchField","searchString","searchOper"],(function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]}));var l="stop"===$(i).triggerHandler("jqGridFilterInputBeforeSearch");!l&&$.isFunction(t.beforeSearch)&&(l=t.beforeSearch.call(i)),l||$(i).jqGrid("setGridParam",{search:!0}).trigger("reloadGrid",[{page:1}]),$(i).triggerHandler("jqGridFilterInputAfterSearch"),$.isFunction(t.afterSearch)&&t.afterSearch.call(i)}}}))}});var rp_ge={};if($.jgrid.extend({editGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"edit"),r=this[0].p.styleUI,n=$.jgrid.styleUI[r].formedit,s=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:s.overlay,removemodal:!0,form:"edit",template:null,focusField:!0,editselected:!1},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each((function(){function i(){var e,t={};for(e in $(j).find(".FormElement").each((function(){var e=$(".customelement",this);if(e.length){var i=e[0],r=$(i).attr("name");$.each(m.p.colModel,(function(){if(this.name===r&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(b[r]=this.editoptions.custom_value.call(m,$("#"+$.jgrid.jqID(r),j),"get"),void 0===b[r])throw"e1"}catch(e){"e1"===e?$.jgrid.info_dialog(T.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(T.errcap,e.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return!0}}))}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked"))b[this.name]=$(this).val();else{var n=$(this).attr("offval");b[this.name]=n}break;case"select-one":case"password":case"text":case"textarea":case"button":b[this.name]=$(this).val();break;case"select-multiple":b[this.name]=$(this).val(),b[this.name]=b[this.name]?b[this.name].join(","):"";break;case"radio":if(t.hasOwnProperty(this.name))return!0;t[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}m.p.autoencode&&(b[this.name]=$.jgrid.htmlEncode(b[this.name]))}})),t)if(t.hasOwnProperty(e)){var i=$('input[name="'+e+'"]:checked',j).val();b[e]=void 0!==i?i:t[e],m.p.autoencode&&(b[e]=$.jgrid.htmlEncode(b[e]))}return!0}function r(e,t,i,r){var s,o,a,l,d,c,u,p,h,f=0,g=[],v=!1,b="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",_="";for(u=1;u<=r;u++)_+=b;("_empty"!==e&&(v=$(t).jqGrid("getInd",e)),$(t.p.colModel).each((function(u){if(s=this.name,o=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,d=o?"style='display:none'":"","cb"!==s&&"subgrid"!==s&&!0===this.editable&&"rn"!==s){if(!1===v)l="";else if(s===t.p.ExpandColumn&&!0===t.p.treeGrid)l=$("td[role='gridcell']:eq("+u+")",t.rows[v]).text();else{try{l=$.unformat.call(t,$("td[role='gridcell']:eq("+u+")",t.rows[v]),{rowId:e,colModel:this},u)}catch(e){l=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+u+")",t.rows[v]).text():$("td[role='gridcell']:eq("+u+")",t.rows[v]).html()}(!l||"&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l="")}var h=$.extend({},this.editoptions||{},{id:s,name:s,rowId:e,oper:"edit"}),b=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),y=parseInt(b.rowpos,10)||f+1,x=parseInt(2*(parseInt(b.colpos,10)||1),10);if("_empty"===e&&h.defaultValue&&(l=$.isFunction(h.defaultValue)?h.defaultValue.call(m):h.defaultValue),this.edittype||(this.edittype="text"),m.p.autoencode&&(l=$.jgrid.htmlDecode(l)),c=$.jgrid.createEl.call(m,this.edittype,h,l,!1,$.extend({},$.jgrid.ajaxOptions,t.p.ajaxSelectOptions||{})),"select"===this.edittype&&(l=$(c).val(),"select-multiple"===$(c).get(0).type&&l&&(l=l.join(","))),"checkbox"===this.edittype&&(l=$(c).is(":checked")?$(c).val():$(c).attr("offval")),$(c).addClass("FormElement"),$.inArray(this.edittype,["text","textarea","password","select"])>-1&&$(c).addClass(n.inputClass),p=!0,I){var j=$(O).find("#"+s);j.length?j.replaceWith(c):p=!1}else{if(a=$(i).find("tr[rowpos="+y+"]"),b.rowabove){var D=$("<tr><td class='contentinfo' colspan='"+2*r+"'>"+b.rowcontent+"</td></tr>");$(i).append(D),D[0].rp=y}0===a.length&&(a=$("<tr "+d+" rowpos='"+y+"'></tr>").addClass("FormData").attr("id","tr_"+s),$(a).append(_),$(i).append(a),a[0].rp=y),$("td:eq("+(x-2)+")",a[0]).html("<label for='"+s+"'>"+(void 0===b.label?t.p.colNames[u]:b.label)+"</label>"),$("td:eq("+(x-1)+")",a[0]).append(b.elmprefix).append(c).append(b.elmsuffix)}(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&p&&(m.p.savedData[s]=l),"custom"===this.edittype&&$.isFunction(h.custom_value)&&h.custom_value.call(m,$("#"+s,w),"set",l),$.jgrid.bindEv.call(m,c,h),g[f]=u,f++}})),f>0)&&(I?(h="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/>",$(O).append(h)):((h=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*r-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+t.p.id+"_id' value='"+e+"'/></td></tr>"))[0].rp=f+999,$(i).append(h)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[t.p.id+"_id"]=e));return g}function o(e,t,i){var r,n,s,o,a,l,d=0;(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData={},m.p.savedData[t.p.id+"_id"]=e);var c=t.p.colModel;if("_empty"===e)return $(c).each((function(){r=this.name,o=$.extend({},this.editoptions||{}),(s=$("#"+$.jgrid.jqID(r),i))&&s.length&&null!==s[0]&&(a="","custom"===this.edittype&&$.isFunction(o.custom_value)?o.custom_value.call(m,$("#"+r,i),"set",a):o.defaultValue?(a=$.isFunction(o.defaultValue)?o.defaultValue.call(m):o.defaultValue,"checkbox"===s[0].type?(l=a.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(s[0].checked=!0,s[0].defaultChecked=!0,s[0].value=a):(s[0].checked=!1,s[0].defaultChecked=!1):s.val(a)):"checkbox"===s[0].type?(s[0].checked=!1,s[0].defaultChecked=!1,a=$(s).attr("offval")):s[0].type&&"select"===s[0].type.substr(0,6)?s[0].selectedIndex=0:s.val(a),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[r]=a))})),void $("#id_g",i).val(e);var u=$(t).jqGrid("getInd",e,!0);u&&($('td[role="gridcell"]',u).each((function(s){if("cb"!==(r=c[s].name)&&"subgrid"!==r&&"rn"!==r&&!0===c[s].editable){if(r===t.p.ExpandColumn&&!0===t.p.treeGrid)n=$(this).text();else try{n=$.unformat.call(t,$(this),{rowId:e,colModel:c[s]},s)}catch(e){n="textarea"===c[s].edittype?$(this).text():$(this).html()}switch(m.p.autoencode&&(n=$.jgrid.htmlDecode(n)),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[r]=n),r=$.jgrid.jqID(r),c[s].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),$("#"+r,i).val(n);break;case"select":var o=n.split(",");o=$.map(o,(function(e){return $.trim(e)})),$("#"+r+" option",i).each((function(){c[s].editoptions.multiple||$.trim(n)!==$.trim($(this).text())&&o[0]!==$.trim($(this).text())&&o[0]!==$.trim($(this).val())?c[s].editoptions.multiple&&($.inArray($.trim($(this).text()),o)>-1||$.inArray($.trim($(this).val()),o)>-1)?this.selected=!0:this.selected=!1:this.selected=!0})),(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(n=$("#"+r,i).val(),c[s].editoptions.multiple&&(n=n.join(",")),m.p.savedData[r]=n);break;case"checkbox":if(n=String(n),c[s].editoptions&&c[s].editoptions.value)c[s].editoptions.value.split(":")[0]===n?$("#"+r,i)[m.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):$("#"+r,i)[m.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1});else(n=n.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==n?($("#"+r,i)[m.p.useProp?"prop":"attr"]("checked",!0),$("#"+r,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+r,i)[m.p.useProp?"prop":"attr"]("checked",!1),$("#"+r,i)[m.p.useProp?"prop":"attr"]("defaultChecked",!1));(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(n=$("#"+r,i).is(":checked")?$("#"+r,i).val():$("#"+r,i).attr("offval"),m.p.savedData[r]=n);break;case"custom":try{if(!c[s].editoptions||!$.isFunction(c[s].editoptions.custom_value))throw"e1";c[s].editoptions.custom_value.call(m,$("#"+r,i),"set",n)}catch(e){"e1"===e?$.jgrid.info_dialog(T.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(T.errcap,e.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}}d++}})),d>0&&($("#id_g",j).val(e),
(!0===rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&(m.p.savedData[t.p.id+"_id"]=e)))}function a(){$.each(m.p.colModel,(function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&b.hasOwnProperty(t.name)&&""===b[t.name]&&(b[t.name]="null")}))}function l(){var e,i,r,n,l,d,c,u=[!0,"",""],p={},h=m.p.prmNames,f=$(m).triggerHandler("jqGridAddEditBeforeCheckValues",[$(w),_]);for(n in f&&"object"==typeof f&&(b=f),$.isFunction(rp_ge[m.p.id].beforeCheckValues)&&(f=rp_ge[m.p.id].beforeCheckValues.call(m,b,$(w),_))&&"object"==typeof f&&(b=f),b)if(b.hasOwnProperty(n)&&!1===(u=$.jgrid.checkValues.call(m,b[n],n))[0])break;if(a(),u[0]&&(void 0===(p=$(m).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[m.p.id],b,_]))&&$.isFunction(rp_ge[m.p.id].onclickSubmit)&&(p=rp_ge[m.p.id].onclickSubmit.call(m,rp_ge[m.p.id],b,_)||{}),void 0===(u=$(m).triggerHandler("jqGridAddEditBeforeSubmit",[b,$(w),_]))&&(u=[!0,"",""]),u[0]&&$.isFunction(rp_ge[m.p.id].beforeSubmit)&&(u=rp_ge[m.p.id].beforeSubmit.call(m,b,$(w),_))),u[0]&&!rp_ge[m.p.id].processing){if(rp_ge[m.p.id].processing=!0,$("#sData",j+"_2").addClass(s.active),c=rp_ge[m.p.id].url||$(m).jqGrid("getGridParam","editurl"),r=h.oper,i="clientArray"===c?m.p.keyName:h.id,b[r]="_empty"===$.trim(b[m.p.id+"_id"])?h.addoper:h.editoper,(b[r]!==h.addoper||void 0===b[i])&&(b[i]=b[m.p.id+"_id"]),delete b[m.p.id+"_id"],b=$.extend(b,rp_ge[m.p.id].editData,p),!0===m.p.treeGrid){if(b[r]===h.addoper){l=$(m).jqGrid("getGridParam","selrow");var g="adjacency"===m.p.treeGridModel?m.p.treeReader.parent_id_field:"parent_id";b[g]=l}for(d in m.p.treeReader)if(m.p.treeReader.hasOwnProperty(d)){var v=m.p.treeReader[d];if(b.hasOwnProperty(v)){if(b[r]===h.addoper&&"parent_id_field"===d)continue;delete b[v]}}}b[i]=$.jgrid.stripPref(m.p.idPrefix,b[i]);var x=$.extend({url:c,type:rp_ge[m.p.id].mtype,data:$.isFunction(rp_ge[m.p.id].serializeEditData)?rp_ge[m.p.id].serializeEditData.call(m,b):b,complete:function(n,a){var d;if($("#sData",j+"_2").removeClass(s.active),b[i]=m.p.idPrefix+b[i],n.status>=300&&304!==n.status?(u[0]=!1,u[1]=$(m).triggerHandler("jqGridAddEditErrorTextFormat",[n,_]),$.isFunction(rp_ge[m.p.id].errorTextFormat)?u[1]=rp_ge[m.p.id].errorTextFormat.call(m,n,_):u[1]=a+" Status: '"+n.statusText+"'. Error code: "+n.status):(void 0===(u=$(m).triggerHandler("jqGridAddEditAfterSubmit",[n,b,_]))&&(u=[!0,"",""]),u[0]&&$.isFunction(rp_ge[m.p.id].afterSubmit)&&(u=rp_ge[m.p.id].afterSubmit.call(m,n,b,_))),!1===u[0])$(".FormError",w).html(u[1]),$(".FormError",w).show();else if(m.p.autoencode&&$.each(b,(function(e,t){b[e]=$.jgrid.htmlDecode(t)})),b[r]===h.addoper?(u[2]||(u[2]=$.jgrid.randId()),null==b[i]||"_empty"===b[i]?b[i]=u[2]:u[2]=b[i],rp_ge[m.p.id].reloadAfterSubmit?$(m).trigger("reloadGrid"):!0===m.p.treeGrid?$(m).jqGrid("addChildNode",u[2],l,b):$(m).jqGrid("addRowData",u[2],b,t.addedrow),rp_ge[m.p.id].closeAfterAdd?(!0!==m.p.treeGrid&&$(m).jqGrid("setSelection",u[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})):rp_ge[m.p.id].clearAfterAdd&&o("_empty",m,w)):(rp_ge[m.p.id].reloadAfterSubmit?($(m).trigger("reloadGrid"),rp_ge[m.p.id].closeAfterEdit||setTimeout((function(){$(m).jqGrid("setSelection",b[i])}),1e3)):!0===m.p.treeGrid?$(m).jqGrid("setTreeRow",b[i],b):$(m).jqGrid("setRowData",b[i],b),rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form})),$.isFunction(rp_ge[m.p.id].afterComplete)&&(e=n,setTimeout((function(){$(m).triggerHandler("jqGridAddEditAfterComplete",[e,b,$(w),_]),rp_ge[m.p.id].afterComplete.call(m,e,b,$(w),_),e=null}),500)),(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate)&&($(w).data("disabled",!1),"_empty"!==m.p.savedData[m.p.id+"_id"]))for(d in m.p.savedData)m.p.savedData.hasOwnProperty(d)&&b[d]&&(m.p.savedData[d]=b[d]);rp_ge[m.p.id].processing=!1;try{$(":input:visible",w)[0].focus()}catch(e){}}},$.jgrid.ajaxOptions,rp_ge[m.p.id].ajaxEditOptions);if(x.url||rp_ge[m.p.id].useDataProxy||($.isFunction(m.p.dataProxy)?rp_ge[m.p.id].useDataProxy=!0:(u[0]=!1,u[1]+=" "+T.nourl)),u[0])if(rp_ge[m.p.id].useDataProxy){var k=m.p.dataProxy.call(m,x,"set_"+m.p.id);void 0===k&&(k=[!0,""]),!1===k[0]?(u[0]=!1,u[1]=k[1]||"Error deleting the selected row!"):(x.data.oper===h.addoper&&rp_ge[m.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),x.data.oper===h.editoper&&rp_ge[m.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}))}else"clientArray"===x.url?(rp_ge[m.p.id].reloadAfterSubmit=!1,b=x.data,x.complete({status:200,statusText:""},"")):$.ajax(x)}!1===u[0]&&($(".FormError",w).html(u[1]),$(".FormError",w).show())}function d(e,t){var i,r=!1;if(!(r=!($.isPlainObject(e)&&$.isPlainObject(t)&&Object.getOwnPropertyNames(e).length===Object.getOwnPropertyNames(t).length)))for(i in t)if(t.hasOwnProperty(i)){if(!e.hasOwnProperty(i)){r=!0;break}if(e[i]!==t[i]){r=!0;break}}return r}function c(){var e=!0;return $(".FormError",w).hide(),rp_ge[m.p.id].checkOnUpdate&&(b={},i(),d(b,m.p.savedData)&&($(w).data("disabled",!0),$(".confirm","#"+D.themodal).show(),e=!1)),e}function u(){var t;if("_empty"!==e&&void 0!==m.p.savedRow&&m.p.savedRow.length>0&&$.isFunction($.fn.jqGrid.restoreRow))for(t=0;t<m.p.savedRow.length;t++)if(m.p.savedRow[t].id===e){$(m).jqGrid("restoreRow",e);break}}function p(e,t){var i=t[1].length-1;0===e||void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(s.disabled)?$("#pData",v).addClass(s.disabled):$("#pData",v).removeClass(s.disabled),e===i||void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(s.disabled)?$("#nData",v).addClass(s.disabled):$("#nData",v).removeClass(s.disabled)}function h(){var e=$(m).jqGrid("getDataIDs"),t=$("#id_g",j).val();if(m.p.multiselect&&rp_ge[m.p.id].editselected){for(var i=[],r=0,n=e.length;r<n;r++)-1!==$.inArray(e[r],m.p.selarrrow)&&i.push(e[r]);return[$.inArray(t,i),i]}return[$.inArray(t,e),e]}function f(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,(function(e,t){return'<span id="'+t+'" ></span>'}))),t}function g(){if(rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){var e=[],t={};for(var i in e=$.map(m.p.savedData,(function(e,t){return t})),$(".FormElement",O).each((function(){if(-1===e.indexOf(this.name)){var i=$(this).val(),r=$(this).get(0).type;if("checkbox"===r)$(this).is(":checked")||(i=$(this).attr("offval"));else if("select-multiple"===r)i=i.join(",");else if("radio"===r){if(t.hasOwnProperty(this.name))return!0;t[this.name]=void 0===$(this).attr("offval")?"off":$(this).attr("offval")}m.p.savedData[this.name]=i}})),t)if(t.hasOwnProperty(i)){var r=$('input[name="'+i+'"]:checked',O).val();m.p.savedData[i]=void 0!==r?r:t[i]}}}var m=this;if(m.grid&&e){m.p.savedData={};var v,b,_,y=m.p.id,w="FrmGrid_"+y,x="TblGrid_"+y,j="#"+$.jgrid.jqID(x),D={themodal:"editmod"+y,modalhead:"edithd"+y,modalcontent:"editcnt"+y,scrollelm:w},k=!0,C=1,S=0,I="string"==typeof rp_ge[m.p.id].template&&rp_ge[m.p.id].template.length>0,T=$.jgrid.getRegional(this,"errors");rp_ge[m.p.id].styleUI=m.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[m.p.id].resize=!1),"new"===e?(e="_empty",_="add",t.caption=rp_ge[m.p.id].addCaption):(t.caption=rp_ge[m.p.id].editCaption,_="edit"),t.recreateForm||$(m).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(m).data("formProp"));var q=!0;t.checkOnUpdate&&t.jqModal&&!t.modal&&(q=!1);var A,M=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",F=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",O=$("<form name='FormPost' id='"+w+"' class='FormGrid' onSubmit='return false;' style='width:"+F+";height:"+M+";'></form>").data("disabled",!1);if(I?(A=f(rp_ge[$(this)[0].p.id].template),v=j):(A=$("<table id='"+x+"' class='EditTable ui-common-table'><tbody></tbody></table>"),v=j+"_2"),w="#"+$.jgrid.jqID(w),$(O).append("<div class='FormError "+s.error+"' style='display:none;'></div>"),$(O).append("<div class='tinfo topinfo'>"+rp_ge[m.p.id].topinfo+"</div>"),$(m.p.colModel).each((function(){var e=this.formoptions;C=Math.max(C,e&&e.colpos||0),S=Math.max(S,e&&e.rowpos||0)})),$(O).append(A),void 0===(k=$(m).triggerHandler("jqGridAddEditBeforeInitData",[O,_]))&&(k=!0),k&&$.isFunction(rp_ge[m.p.id].beforeInitData)&&(k=rp_ge[m.p.id].beforeInitData.call(m,O,_)),!1!==k){u(),r(e,m,A,C);var P="rtl"===m.p.direction,N=P?"pData":"nData",E="<a id='"+(P?"nData":"pData")+"' class='fm-button "+s.button+"'><span class='"+s.icon_base+" "+n.icon_prev+"'></span></a>",R="<a id='"+N+"' class='fm-button "+s.button+"'><span class='"+s.icon_base+" "+n.icon_next+"'></span></a>",G="<a id='sData' class='fm-button "+s.button+"'>"+t.bSubmit+"</a>",z="<a id='cData' class='fm-button "+s.button+"'>"+t.bCancel+"</a>",H="<table style='height:auto' class='EditTable ui-common-table' id='"+x+"_2'><tbody><tr><td colspan='2'><hr class='"+s.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(P?R+E:E+R)+"</td><td class='EditButton'>"+G+z+"</td></tr>";if(H+="</tbody></table>",S>0){var L=[];$.each($(A)[0].rows,(function(e,t){L[e]=t})),L.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(L,(function(e,t){$("tbody",A).append(t)}))}t.gbox="#gbox_"+$.jgrid.jqID(y);var W,B=!1;if(!0===t.closeOnEscape&&(t.closeOnEscape=!1,B=!0),I?($(O).find("#pData").replaceWith(E),$(O).find("#nData").replaceWith(R),$(O).find("#sData").replaceWith(G),$(O).find("#cData").replaceWith(z),W=$("<div id="+x+"></div>").append(O)):W=$("<div></div>").append(O).append(H),$(O).append("<div class='binfo topinfo bottominfo'>"+rp_ge[m.p.id].bottominfo+"</div>"),$.jgrid.createModal(D,W,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(m.p.id),$("#gbox_"+$.jgrid.jqID(m.p.id))[0]),P&&($("#pData, #nData",j+"_2").css("float","right"),$(".EditButton",j+"_2").css("text-align","left")),rp_ge[m.p.id].topinfo&&$(".tinfo",w).show(),rp_ge[m.p.id].bottominfo&&$(".binfo",w).show(),W=null,H=null,$("#"+$.jgrid.jqID(D.themodal)).keydown((function(e){var i=e.target;if(!0===$(w).data("disabled"))return!1;if(!0===rp_ge[m.p.id].savekey[0]&&e.which===rp_ge[m.p.id].savekey[1]&&"TEXTAREA"!==i.tagName)return $("#sData",j+"_2").trigger("click"),!1;if(27===e.which)return!!c()&&(B&&$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1);if(!0===rp_ge[m.p.id].navkeys[0]){if("_empty"===$("#id_g",j).val())return!0;if(e.which===rp_ge[m.p.id].navkeys[1])return $("#pData",v).trigger("click"),!1;if(e.which===rp_ge[m.p.id].navkeys[2])return $("#nData",v).trigger("click"),!1}})),t.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(D.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(D.themodal)).unbind("click").click((function(){return!!c()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)}))),t.saveicon=$.extend([!0,"left",n.icon_save],t.saveicon),t.closeicon=$.extend([!0,"left",n.icon_close],t.closeicon),!0===t.saveicon[0]&&$("#sData",v).addClass("right"===t.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+s.icon_base+" "+t.saveicon[2]+"'></span>"),!0===t.closeicon[0]&&$("#cData",v).addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+s.icon_base+" "+t.closeicon[2]+"'></span>"),rp_ge[m.p.id].checkOnSubmit||rp_ge[m.p.id].checkOnUpdate){G="<a id='sNew' class='fm-button "+s.button+"' style='z-index:1002'>"+t.bYes+"</a>",R="<a id='nNew' class='fm-button "+s.button+"' style='z-index:1002;margin-left:5px'>"+t.bNo+"</a>",z="<a id='cNew' class='fm-button "+s.button+"' style='z-index:1002;margin-left:5px;'>"+t.bExit+"</a>";var U=t.zIndex||999;U++,$("<div class='"+t.overlayClass+" jqgrid-overlay confirm' style='z-index:"+U+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+s.content+"' style='z-index:"+(U+1)+"'>"+t.saveData+"<br/><br/>"+G+R+z+"</div>").insertAfter(w),$("#sNew","#"+$.jgrid.jqID(D.themodal)).click((function(){return l(),$(w).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),!1})),$("#nNew","#"+$.jgrid.jqID(D.themodal)).click((function(){return $(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),$(w).data("disabled",!1),setTimeout((function(){$(":input:visible",w)[0].focus()}),0),!1})),$("#cNew","#"+$.jgrid.jqID(D.themodal)).click((function(){return $(".confirm","#"+$.jgrid.jqID(D.themodal)).hide(),$(w).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1}))}$(m).triggerHandler("jqGridAddEditInitializeForm",[$(w),_]),$.isFunction(rp_ge[m.p.id].onInitializeForm)&&rp_ge[m.p.id].onInitializeForm.call(m,$(w),_),"_empty"!==e&&rp_ge[m.p.id].viewPagerButtons?$("#pData,#nData",v).show():$("#pData,#nData",v).hide(),$(m).triggerHandler("jqGridAddEditBeforeShowForm",[$(w),_]),$.isFunction(rp_ge[m.p.id].beforeShowForm)&&rp_ge[m.p.id].beforeShowForm.call(m,$(w),_),g(),$("#"+$.jgrid.jqID(D.themodal)).data("onClose",rp_ge[m.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(D.themodal),{gbox:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,overlayClass:t.overlayClass,focusField:t.focusField,onHide:function(e){var t=$("#editmod"+y)[0].style.height,i=$("#editmod"+y)[0].style.width;t.indexOf("px")>-1&&(t=parseFloat(t)),i.indexOf("px")>-1&&(i=parseFloat(i)),$(m).data("formProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:i,height:t,dataheight:$(w).height(),datawidth:$(w).width()}),e.w.remove(),e.o&&e.o.remove()}}),q||$("."+$.jgrid.jqID(t.overlayClass)).click((function(){return!!c()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)})),$(".fm-button","#"+$.jgrid.jqID(D.themodal)).hover((function(){$(this).addClass(s.hover)}),(function(){$(this).removeClass(s.hover)})),$("#sData",v).click((function(){return b={},$(".FormError",w).hide(),i(),"_empty"===b[m.p.id+"_id"]?l():!0===t.checkOnSubmit&&d(b,m.p.savedData)?($(w).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(D.themodal)).show()):l(),!1})),$("#cData",v).click((function(){return!!c()&&($.jgrid.hideModal("#"+$.jgrid.jqID(D.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:t.jqModal,onClose:rp_ge[m.p.id].onClose,removemodal:rp_ge[m.p.id].removemodal,formprop:!rp_ge[m.p.id].recreateForm,form:rp_ge[m.p.id].form}),!1)})),$("#nData",v).click((function(){if(!c())return!1;$(".FormError",w).hide();var e=h();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){var i;if($(m).triggerHandler("jqGridAddEditClickPgButtons",["next",$(w),e[1][e[0]]]),$.isFunction(t.onclickPgButtons)&&void 0!==(i=t.onclickPgButtons.call(m,"next",$(w),e[1][e[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(e[1][e[0]+1])).hasClass(s.disabled))return!1;o(e[1][e[0]+1],m,w),m.p.multiselect&&rp_ge[m.p.id].editselected||$(m).jqGrid("setSelection",e[1][e[0]+1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(w),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(m,"next",$(w),e[1][e[0]+1]),g(),p(e[0]+1,e)}return!1})),$("#pData",v).click((function(){if(!c())return!1;$(".FormError",w).hide();var e=h();if(-1!==e[0]&&e[1][e[0]-1]){var i;if($(m).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(w),e[1][e[0]]]),$.isFunction(t.onclickPgButtons)&&void 0!==(i=t.onclickPgButtons.call(m,"prev",$(w),e[1][e[0]]))&&!1===i)return!1;if($("#"+$.jgrid.jqID(e[1][e[0]-1])).hasClass(s.disabled))return!1;o(e[1][e[0]-1],m,w),m.p.multiselect&&rp_ge[m.p.id].editselected||$(m).jqGrid("setSelection",e[1][e[0]-1]),$(m).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(w),e[1][e[0]]]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(m,"prev",$(w),e[1][e[0]-1]),g(),p(e[0]-1,e)}return!1})),$(m).triggerHandler("jqGridAddEditAfterShowForm",[$(w),_]),$.isFunction(rp_ge[m.p.id].afterShowForm)&&rp_ge[m.p.id].afterShowForm.call(m,$(w),_);var V=h();p(V[0],V)}}}))},viewGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"view"),r=this[0].p.styleUI,n=$.jgrid.styleUI[r].formedit,s=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each((function(){function i(){!0!==rp_ge[d.p.id].closeOnEscape&&!0!==rp_ge[d.p.id].navkeys[0]||setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(g.modalhead)).attr("tabindex","-1").focus()}),0)}function r(e,i,r,n){var o,a,l,d,c,u,p,h,f,g=0,m=[],v=!1,b="<td class='CaptionTD form-view-label "+s.content+"' width='"+t.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+s.content+"'>&#160;</td>",_="",y="<td class='CaptionTD form-view-label "+s.content+"'>&#160;</td><td class='DataTD form-view-data "+s.content+"'>&#160;</td>",w=["integer","number","currency"],x=0,j=0;for(u=1;u<=n;u++)_+=1===u?b:y;if($(i.p.colModel).each((function(){(a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,w)?x=Math.max(x,parseInt(this.width,10)):j=Math.max(j,parseInt(this.width,10)))})),p=0!==x?x:0!==j?j:0,v=$(i).jqGrid("getInd",e),$(i.p.colModel).each((function(e){if(o=this.name,h=!1,a=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,c=a?"style='display:none'":"",f="boolean"!=typeof this.viewable||this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&f){d=!1===v?"":o===i.p.ExpandColumn&&!0===i.p.treeGrid?$("td:eq("+e+")",i.rows[v]).text():$("td:eq("+e+")",i.rows[v]).html(),h="right"===this.align&&0!==p;var t=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),s=parseInt(t.rowpos,10)||g+1,u=parseInt(2*(parseInt(t.colpos,10)||1),10);if(t.rowabove){var b=$("<tr><td class='contentinfo' colspan='"+2*n+"'>"+t.rowcontent+"</td></tr>");$(r).append(b),b[0].rp=s}0===(l=$(r).find("tr[rowpos="+s+"]")).length&&(l=$("<tr "+c+" rowpos='"+s+"'></tr>").addClass("FormData").attr("id","trv_"+o),$(l).append(_),$(r).append(l),l[0].rp=s),$("td:eq("+(u-2)+")",l[0]).html("<b>"+(void 0===t.label?i.p.colNames[e]:t.label)+"</b>"),$("td:eq("+(u-1)+")",l[0]).append("<span>"+d+"</span>").attr("id","v_"+o),h&&$("td:eq("+(u-1)+") span",l[0]).css({"text-align":"right",width:p+"px"}),m[g]=e,g++}})),g>0){var D=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*n-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");D[0].rp=g+99,$(r).append(D)}return m}function o(e,t){var i,r,n,s,o=0;(s=$(t).jqGrid("getInd",e,!0))&&($("td",s).each((function(e){i=t.p.colModel[e].name,r=(!t.p.colModel[e].editrules||!0!==t.p.colModel[e].editrules.edithidden)&&!0===t.p.colModel[e].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(n=i===t.p.ExpandColumn&&!0===t.p.treeGrid?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+p).html(n),r&&$("#"+i,"#"+p).parents("tr:first").hide(),o++)})),o>0&&$("#id_g","#"+p).val(e))}function a(e,t){var i=t[1].length-1;0===e?$("#pData","#"+p+"_2").addClass(s.disabled):void 0!==t[1][e-1]&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(s.disabled)?$("#pData",p+"_2").addClass(s.disabled):$("#pData","#"+p+"_2").removeClass(s.disabled),e===i?$("#nData","#"+p+"_2").addClass(s.disabled):void 0!==t[1][e+1]&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(s.disabled)?$("#nData",p+"_2").addClass(s.disabled):$("#nData","#"+p+"_2").removeClass(s.disabled)}function l(){var e=$(d).jqGrid("getDataIDs"),t=$("#id_g","#"+p).val();return[$.inArray(t,e),e]}var d=this;if(d.grid&&e){var c=d.p.id,u="ViewGrid_"+$.jgrid.jqID(c),p="ViewTbl_"+$.jgrid.jqID(c),h="ViewGrid_"+c,f="ViewTbl_"+c,g={themodal:"viewmod"+c,modalhead:"viewhd"+c,modalcontent:"viewcnt"+c,scrollelm:u},m=!!$.isFunction(rp_ge[d.p.id].beforeInitData)&&rp_ge[d.p.id].beforeInitData,v=!0,b=1,_=0;rp_ge[d.p.id].styleUI=d.p.styleUI||"jQueryUI",t.recreateForm||$(d).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(d).data("viewProp"));var y=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",w=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",x=$("<form name='FormPost' id='"+h+"' class='FormGrid' style='width:"+w+";height:"+y+";'></form>"),j=$("<table id='"+f+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(d.p.colModel).each((function(){var e=this.formoptions;b=Math.max(b,e&&e.colpos||0),_=Math.max(_,e&&e.rowpos||0)})),$(x).append(j),m&&void 0===(v=m.call(d,x))&&(v=!0),!1!==v){r(e,d,j,b);var D="rtl"===d.p.direction,k=D?"pData":"nData",C="<a id='"+(D?"nData":"pData")+"' class='fm-button "+s.button+"'><span class='"+s.icon_base+" "+n.icon_prev+"'></span></a>",S="<a id='"+k+"' class='fm-button "+s.button+"'><span class='"+s.icon_base+" "+n.icon_next+"'></span></a>",I="<a id='cData' class='fm-button "+s.button+"'>"+t.bClose+"</a>";if(_>0){var T=[];$.each($(j)[0].rows,(function(e,t){T[e]=t})),T.sort((function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0})),$.each(T,(function(e,t){$("tbody",j).append(t)}))}t.gbox="#gbox_"+$.jgrid.jqID(c);var q=$("<div></div>").append(x).append("<table border='0' class='EditTable' id='"+p+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+t.labelswidth+"'>"+(D?S+C:C+S)+"</td><td class='EditButton'>"+I+"</td></tr></tbody></table>");$.jgrid.createModal(g,q,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(d.p.id),$("#gview_"+$.jgrid.jqID(d.p.id))[0]),D&&($("#pData, #nData","#"+p+"_2").css("float","right"),$(".EditButton","#"+p+"_2").css("text-align","left")),t.viewPagerButtons||$("#pData, #nData","#"+p+"_2").hide(),q=null,$("#"+g.themodal).keydown((function(e){if(27===e.which)return rp_ge[d.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:t.gbox,jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1;if(!0===t.navkeys[0]){if(e.which===t.navkeys[1])return $("#pData","#"+p+"_2").trigger("click"),!1;if(e.which===t.navkeys[2])return $("#nData","#"+p+"_2").trigger("click"),!1}})),t.closeicon=$.extend([!0,"left",n.icon_close],t.closeicon),!0===t.closeicon[0]&&$("#cData","#"+p+"_2").addClass("right"===t.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+s.icon_base+" "+t.closeicon[2]+"'></span>"),$.isFunction(t.beforeShowForm)&&t.beforeShowForm.call(d,$("#"+u)),$.jgrid.viewModal("#"+$.jgrid.jqID(g.themodal),{gbox:"#gbox_"+$.jgrid.jqID(c),jqm:t.jqModal,overlay:t.overlay,modal:t.modal,onHide:function(e){$(d).data("viewProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:$(e.w).width(),height:$(e.w).height(),dataheight:$("#"+u).height(),datawidth:$("#"+u).width()}),e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+s.disabled+")","#"+p+"_2").hover((function(){$(this).addClass(s.hover)}),(function(){$(this).removeClass(s.hover)})),i(),$("#cData","#"+p+"_2").click((function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(g.themodal),{gb:"#gbox_"+$.jgrid.jqID(c),jqm:t.jqModal,onClose:t.onClose,removemodal:rp_ge[d.p.id].removemodal,formprop:!rp_ge[d.p.id].recreateForm,form:rp_ge[d.p.id].form}),!1})),$("#nData","#"+p+"_2").click((function(){$("#FormError","#"+p).hide();var e=l();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"next",$("#"+u),e[1][e[0]]),o(e[1][e[0]+1],d),$(d).jqGrid("setSelection",e[1][e[0]+1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"next",$("#"+u),e[1][e[0]+1]),a(e[0]+1,e)),i(),!1})),$("#pData","#"+p+"_2").click((function(){$("#FormError","#"+p).hide();var e=l();return-1!==e[0]&&e[1][e[0]-1]&&($.isFunction(t.onclickPgButtons)&&t.onclickPgButtons.call(d,"prev",$("#"+u),e[1][e[0]]),o(e[1][e[0]-1],d),$(d).jqGrid("setSelection",e[1][e[0]-1]),$.isFunction(t.afterclickPgButtons)&&t.afterclickPgButtons.call(d,"prev",$("#"+u),e[1][e[0]-1]),a(e[0]-1,e)),i(),!1}));var A=l();a(A[0],A)}}}))},delGridRow:function(e,t){var i=$.jgrid.getRegional(this[0],"del"),r=this[0].p.styleUI,n=$.jgrid.styleUI[r].formedit,s=$.jgrid.styleUI[r].common;return t=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},i,t||{}),rp_ge[$(this)[0].p.id]=t,this.each((function(){var i=this;if(i.grid&&e){var r,o,a,l,d=$.isFunction(rp_ge[i.p.id].beforeShowForm),c=$.isFunction(rp_ge[i.p.id].afterShowForm),u=!!$.isFunction(rp_ge[i.p.id].beforeInitData)&&rp_ge[i.p.id].beforeInitData,p=i.p.id,h={},f=!0,g="DelTbl_"+$.jgrid.jqID(p),m="DelTbl_"+p,v={themodal:"delmod"+p,modalhead:"delhd"+p,modalcontent:"delcnt"+p,scrollelm:g};if(rp_ge[i.p.id].styleUI=i.p.styleUI||"jQueryUI",$.isArray(e)&&(e=e.join()),void 0!==$("#"+$.jgrid.jqID(v.themodal))[0]){if(u&&void 0===(f=u.call(i,$("#"+g)))&&(f=!0),!1===f)return;$("#DelData>td","#"+g).text(e),$("#DelError","#"+g).hide(),!0===rp_ge[i.p.id].processing&&(rp_ge[i.p.id].processing=!1,$("#dData","#"+g).removeClass(s.active)),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+g)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(p),jqm:rp_ge[i.p.id].jqModal,jqM:!1,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),c&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+g))}else{var b=isNaN(rp_ge[i.p.id].dataheight)?rp_ge[i.p.id].dataheight:rp_ge[i.p.id].dataheight+"px",_="<div id='"+m+"' class='formdata' style='width:"+(isNaN(t.datawidth)?t.datawidth:t.datawidth+"px")+";overflow:auto;position:relative;height:"+b+";'>";_+="<table class='DelTable'><tbody>",_+="<tr id='DelError' style='display:none'><td class='"+s.error+"'></td></tr>",_+="<tr id='DelData' style='display:none'><td >"+e+"</td></tr>",_+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[i.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",_+="</tbody></table></div>";var y="<a id='dData' class='fm-button "+s.button+"'>"+t.bSubmit+"</a>",w="<a id='eData' class='fm-button "+s.button+"'>"+t.bCancel+"</a>";if(_+="<table class='EditTable ui-common-table' id='"+g+"_2'><tbody><tr><td><hr class='"+s.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+y+"&#160;"+w+"</td></tr></tbody></table>",t.gbox="#gbox_"+$.jgrid.jqID(p),$.jgrid.createModal(v,_,rp_ge[i.p.id],"#gview_"+$.jgrid.jqID(i.p.id),$("#gview_"+$.jgrid.jqID(i.p.id))[0]),u&&void 0===(f=u.call(i,$(_)))&&(f=!0),!1===f)return;$(".fm-button","#"+g+"_2").hover((function(){$(this).addClass(s.hover)}),(function(){$(this).removeClass(s.hover)})),t.delicon=$.extend([!0,"left",n.icon_del],rp_ge[i.p.id].delicon),t.cancelicon=$.extend([!0,"left",n.icon_cancel],rp_ge[i.p.id].cancelicon),!0===t.delicon[0]&&$("#dData","#"+g+"_2").addClass("right"===t.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+s.icon_base+" "+t.delicon[2]+"'></span>"),!0===t.cancelicon[0]&&$("#eData","#"+g+"_2").addClass("right"===t.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+s.icon_base+" "+t.cancelicon[2]+"'></span>"),$("#dData","#"+g+"_2").click((function(){var e,n=[!0,""],d=$("#DelData>td","#"+g).text();if(h={},$.isFunction(rp_ge[i.p.id].onclickSubmit)&&(h=rp_ge[i.p.id].onclickSubmit.call(i,rp_ge[i.p.id],d)||{}),$.isFunction(rp_ge[i.p.id].beforeSubmit)&&(n=rp_ge[i.p.id].beforeSubmit.call(i,d)),n[0]&&!rp_ge[i.p.id].processing){if(rp_ge[i.p.id].processing=!0,a=i.p.prmNames,r=$.extend({},rp_ge[i.p.id].delData,h),l=a.oper,r[l]=a.deloper,o=a.id,!(d=String(d).split(",")).length)return!1;for(e in d)d.hasOwnProperty(e)&&(d[e]=$.jgrid.stripPref(i.p.idPrefix,d[e]));r[o]=d.join(),$(this).addClass(s.active);var c=$.extend({url:rp_ge[i.p.id].url||$(i).jqGrid("getGridParam","editurl"),type:rp_ge[i.p.id].mtype,data:$.isFunction(rp_ge[i.p.id].serializeDelData)?rp_ge[i.p.id].serializeDelData.call(i,r):r,complete:function(e,o){var a;if($("#dData","#"+g+"_2").removeClass(s.active),e.status>=300&&304!==e.status?(n[0]=!1,$.isFunction(rp_ge[i.p.id].errorTextFormat)?n[1]=rp_ge[i.p.id].errorTextFormat.call(i,e):n[1]=o+" Status: '"+e.statusText+"'. Error code: "+e.status):$.isFunction(rp_ge[i.p.id].afterSubmit)&&(n=rp_ge[i.p.id].afterSubmit.call(i,e,r)),!1===n[0])$("#DelError>td","#"+g).html(n[1]),$("#DelError","#"+g).show();else{if(rp_ge[i.p.id].reloadAfterSubmit&&"local"!==i.p.datatype)$(i).trigger("reloadGrid");else{if(!0===i.p.treeGrid)try{$(i).jqGrid("delTreeNode",i.p.idPrefix+d[0])}catch(e){}else for(a=0;a<d.length;a++)$(i).jqGrid("delRowData",i.p.idPrefix+d[a]);i.p.selrow=null,i.p.selarrrow=[]}$.isFunction(rp_ge[i.p.id].afterComplete)&&setTimeout((function(){rp_ge[i.p.id].afterComplete.call(i,e,d)}),500)}rp_ge[i.p.id].processing=!1,n[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}},$.jgrid.ajaxOptions,rp_ge[i.p.id].ajaxDelOptions);if(c.url||rp_ge[i.p.id].useDataProxy||($.isFunction(i.p.dataProxy)?rp_ge[i.p.id].useDataProxy=!0:(n[0]=!1,n[1]+=" "+$.jgrid.getRegional(i,"errors.nourl"))),n[0])if(rp_ge[i.p.id].useDataProxy){var u=i.p.dataProxy.call(i,c,"del_"+i.p.id);void 0===u&&(u=[!0,""]),!1===u[0]?(n[0]=!1,n[1]=u[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(p),jqm:t.jqModal,onClose:rp_ge[i.p.id].onClose})}else"clientArray"===c.url?(r=c.data,c.complete({status:200,statusText:""},"")):$.ajax(c)}return!1===n[0]&&($("#DelError>td","#"+g).html(n[1]),$("#DelError","#"+g).show()),!1})),$("#eData","#"+g+"_2").click((function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(v.themodal),{gb:"#gbox_"+$.jgrid.jqID(p),jqm:rp_ge[i.p.id].jqModal,onClose:rp_ge[i.p.id].onClose}),!1})),d&&rp_ge[i.p.id].beforeShowForm.call(i,$("#"+g)),$.jgrid.viewModal("#"+$.jgrid.jqID(v.themodal),{gbox:"#gbox_"+$.jgrid.jqID(p),jqm:rp_ge[i.p.id].jqModal,overlay:rp_ge[i.p.id].overlay,modal:rp_ge[i.p.id].modal}),c&&rp_ge[i.p.id].afterShowForm.call(i,$("#"+g))}!0===rp_ge[i.p.id].closeOnEscape&&setTimeout((function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(v.modalhead)).attr("tabindex","-1").focus()}),0)}}))},navGrid:function(e,t,i,r,n,s,o){var a=$.jgrid.getRegional(this[0],"nav"),l=this[0].p.styleUI,d=$.jgrid.styleUI[l].navigator,c=$.jgrid.styleUI[l].common;return t=$.extend({edit:!0,editicon:d.icon_edit_nav,add:!0,addicon:d.icon_add_nav,del:!0,delicon:d.icon_del_nav,search:!0,searchicon:d.icon_search_nav,refresh:!0,refreshicon:d.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:d.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},a,t||{}),this.each((function(){if(!this.p.navGrid){var d,u,p,h={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},f=this;if(f.grid&&"string"==typeof e){$(f).data("navGrid")||$(f).data("navGrid",t),p=$(f).data("navGrid"),f.p.force_regional&&(p=$.extend(p,a)),
void 0===$("#"+h.themodal)[0]&&(p.alerttop||p.alertleft||(void 0!==window.innerWidth?(p.alertleft=window.innerWidth,p.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(p.alertleft=document.documentElement.clientWidth,p.alerttop=document.documentElement.clientHeight):(p.alertleft=1024,p.alerttop=768),p.alertleft=p.alertleft/2-parseInt(p.alertwidth,10)/2,p.alerttop=p.alerttop/2-25),$.jgrid.createModal(h,"<div>"+p.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqModal:!0,drag:!0,resize:!0,caption:p.alertcap,top:p.alerttop,left:p.alertleft,width:p.alertwidth,height:p.alertheight,closeOnEscape:p.closeOnEscape,zIndex:p.alertzIndex,styleUI:f.p.styleUI},"#gview_"+$.jgrid.jqID(f.p.id),$("#gbox_"+$.jgrid.jqID(f.p.id))[0],!0));var g,m=1,v=function(){$(this).hasClass(c.disabled)||$(this).addClass(c.hover)},b=function(){$(this).removeClass(c.hover)};for(p.cloneToTop&&f.p.toppager&&(m=2),g=0;g<m;g++){var _,y,w,x=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),j="<td class='ui-pg-button "+c.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===g?(y=e,w=f.p.id,y===f.p.toppager&&(w+="_top",m=1)):(y=f.p.toppager,w=f.p.id+"_top"),"rtl"===f.p.direction&&$(x).attr("dir","rtl").css("float","right"),r=r||{},p.add&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.addicon+"'></span>"+p.addtext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.addtitle||"",id:r.id||"add_"+w}).click((function(){return $(this).hasClass(c.disabled)||($.isFunction(p.addfunc)?p.addfunc.call(f):$(f).jqGrid("editGridRow","new",r)),!1})).hover(v,b),_=null),i=i||{},p.edit&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.editicon+"'></span>"+p.edittext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.edittitle||"",id:i.id||"edit_"+w}).click((function(){if(!$(this).hasClass(c.disabled)){var e=f.p.selrow;e?$.isFunction(p.editfunc)?p.editfunc.call(f,e):$(f).jqGrid("editGridRow",e,i):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1})).hover(v,b),_=null),o=o||{},p.view&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.viewicon+"'></span>"+p.viewtext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.viewtitle||"",id:o.id||"view_"+w}).click((function(){if(!$(this).hasClass(c.disabled)){var e=f.p.selrow;e?$.isFunction(p.viewfunc)?p.viewfunc.call(f,e):$(f).jqGrid("viewGridRow",e,o):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1})).hover(v,b),_=null),n=n||{},p.del&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.delicon+"'></span>"+p.deltext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.deltitle||"",id:n.id||"del_"+w}).click((function(){var e;$(this).hasClass(c.disabled)||(f.p.multiselect?0===(e=f.p.selarrrow).length&&(e=null):e=f.p.selrow,e?$.isFunction(p.delfunc)?p.delfunc.call(f,e):$(f).jqGrid("delGridRow",e,n):($.jgrid.viewModal("#"+h.themodal,{gbox:"#gbox_"+$.jgrid.jqID(f.p.id),jqm:!0}),$("#jqg_alrt").focus()));return!1})).hover(v,b),_=null),(p.add||p.edit||p.del||p.view)&&$("tr",x).append(j),s=s||{},p.search&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.searchicon+"'></span>"+p.searchtext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.searchtitle||"",id:s.id||"search_"+w}).click((function(){return $(this).hasClass(c.disabled)||($.isFunction(p.searchfunc)?p.searchfunc.call(f,s):$(f).jqGrid("searchGrid",s)),!1})).hover(v,b),s.showOnLoad&&!0===s.showOnLoad&&$(_,x).click(),_=null),p.refresh&&(_=$("<td class='ui-pg-button "+c.cornerall+"'></td>"),$(_).append("<div class='ui-pg-div'><span class='"+c.icon_base+" "+p.refreshicon+"'></span>"+p.refreshtext+"</div>"),$("tr",x).append(_),$(_,x).attr({title:p.refreshtitle||"",id:"refresh_"+w}).click((function(){if(!$(this).hasClass(c.disabled)){$.isFunction(p.beforeRefresh)&&p.beforeRefresh.call(f),f.p.search=!1,f.p.resetsearch=!0;try{if("currentfilter"!==p.refreshstate){var e=f.p.id;f.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(e){}$.isFunction(f.clearToolbar)&&f.clearToolbar.call(f,!1)}}catch(e){}switch(p.refreshstate){case"firstpage":$(f).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(f).trigger("reloadGrid",[{current:!0}])}$.isFunction(p.afterRefresh)&&p.afterRefresh.call(f)}return!1})).hover(v,b),_=null),u=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[l].base.entrieBox+"' style='font-size:"+u+";visibility:hidden;' ></div>"),d=$(x).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),f.p._nvtd&&(p.dropmenu?(x=null,$(f).jqGrid("_buildNavMenu",y,w,t,i,r,n,s,o)):d>f.p._nvtd[0]?(f.p.responsive?(x=null,$(f).jqGrid("_buildNavMenu",y,w,t,i,r,n,s,o)):$(y+"_"+p.position,y).append(x).width(d),f.p._nvtd[0]=d):$(y+"_"+p.position,y).append(x),f.p._nvtd[1]=d),f.p.navGrid=!0}f.p.storeNavOptions&&(f.p.navOptions=p,f.p.editOptions=i,f.p.addOptions=r,f.p.delOptions=n,f.p.searchOptions=s,f.p.viewOptions=o,f.p.navButtons=[])}}}))},navButtonAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].navigator;return t=$.extend({caption:"newButton",title:"",buttonicon:r.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},t||{}),this.each((function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var r=$(".navtable",e)[0],n=this,s=$.jgrid.styleUI[i].common.disabled,o=$.jgrid.styleUI[i].common.hover,a=$.jgrid.styleUI[i].common.cornerall,l=$.jgrid.styleUI[i].common.icon_base;if(n.p.storeNavOptions&&!t.internal&&n.p.navButtons.push([e,t]),r){if(t.id&&void 0!==$("#"+$.jgrid.jqID(t.id),r)[0])return;var d=$("<td></td>");"NONE"===t.buttonicon.toString().toUpperCase()?$(d).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'>"+t.caption+"</div>"):$(d).addClass("ui-pg-button "+a).append("<div class='ui-pg-div'><span class='"+l+" "+t.buttonicon+"'></span>"+t.caption+"</div>"),t.id&&$(d).attr("id",t.id),"first"===t.position?0===r.rows[0].cells.length?$("tr",r).append(d):$("tr td:eq(0)",r).before(d):$("tr",r).append(d),$(d,r).attr("title",t.title||"").click((function(e){return $(this).hasClass(s)||$.isFunction(t.onClickButton)&&t.onClickButton.call(n,e),!1})).hover((function(){$(this).hasClass(s)||$(this).addClass(o)}),(function(){$(this).removeClass(o)}))}else if(r=$(".dropdownmenu",e)[0]){var c=$(r).val(),u=t.id||$.jgrid.randId(),p=$('<li class="ui-menu-item" role="presentation"><a class="'+a+' g-menu-item" tabindex="0" role="menuitem" id="'+u+'">'+(t.caption||t.title)+"</a></li>");c&&("first"===t.position?$("#"+c).prepend(p):$("#"+c).append(p),$(p).on("click",(function(e){return $(this).hasClass(s)||($("#"+c).hide(),$.isFunction(t.onClickButton)&&t.onClickButton.call(n,e)),!1})).find("a").hover((function(){$(this).hasClass(s)||$(this).addClass(o)}),(function(){$(this).removeClass(o)})))}}}))},navSeparatorAdd:function(e,t){var i=this[0].p.styleUI,r=$.jgrid.styleUI[i].common;return t=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},t||{}),this.each((function(){if(this.grid){"string"==typeof e&&0!==e.indexOf("#")&&(e="#"+$.jgrid.jqID(e));var i,n,s=$(".navtable",e)[0];this.p.storeNavOptions&&this.p.navButtons.push([e,t]),s?(i="<td class='ui-pg-button "+r.disabled+"' style='width:4px;'><span class='"+t.sepclass+"'></span>"+t.sepcontent+"</td>","first"===t.position?0===s.rows[0].cells.length?$("tr",s).append(i):$("tr td:eq(0)",s).before(i):$("tr",s).append(i)):(s=$(".dropdownmenu",e)[0],i="<li class='ui-menu-item "+r.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",s&&(n=$(s).val())&&("first"===t.position?$("#"+n).prepend(i):$("#"+n).append(i)))}}))},_buildNavMenu:function(e,t,i,r,n,s,o,a){return this.each((function(){var l=this,d=$.jgrid.getRegional(l,"nav"),c=l.p.styleUI,u=($.jgrid.styleUI[c].navigator,$.jgrid.styleUI[c].filter),p=$.jgrid.styleUI[c].common,h="form_menu_"+$.jgrid.randId(),f=i.navButtonText?i.navButtonText:d.selectcaption||"Actions",g="<button class='dropdownmenu "+p.button+"' value='"+h+"'>"+f+"</button>";$(e+"_"+i.position,e).append(g);var m={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id};(function(){var e,d,c=$(".ui-jqgrid-view").css("font-size")||"11px",f=$('<ul id="'+h+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+c+'"></ul>');i.add&&(e=(n=n||{}).id||"add_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.addtext||i.addtitle)+"</a></li>").click((function(){return $(this).hasClass(p.disabled)||($.isFunction(i.addfunc)?i.addfunc.call(l):$(l).jqGrid("editGridRow","new",n),$(f).hide()),!1})),$(f).append(d)),i.edit&&(e=(r=r||{}).id||"edit_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.edittext||i.edittitle)+"</a></li>").click((function(){if(!$(this).hasClass(p.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.editfunc.call(l,e):$(l).jqGrid("editGridRow",e,r):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1})),$(f).append(d)),i.view&&(e=(a=a||{}).id||"view_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.viewtext||i.viewtitle)+"</a></li>").click((function(){if(!$(this).hasClass(p.disabled)){var e=l.p.selrow;e?$.isFunction(i.editfunc)?i.viewfunc.call(l,e):$(l).jqGrid("viewGridRow",e,a):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide()}return!1})),$(f).append(d)),i.del&&(e=(s=s||{}).id||"del_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.deltext||i.deltitle)+"</a></li>").click((function(){var e;$(this).hasClass(p.disabled)||(l.p.multiselect?0===(e=l.p.selarrrow).length&&(e=null):e=l.p.selrow,e?$.isFunction(i.delfunc)?i.delfunc.call(l,e):$(l).jqGrid("delGridRow",e,s):($.jgrid.viewModal("#"+m.themodal,{gbox:"#gbox_"+$.jgrid.jqID(l.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(f).hide());return!1})),$(f).append(d)),(i.add||i.edit||i.del||i.view)&&$(f).append("<li class='ui-menu-item "+p.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),i.search&&(e=(o=o||{}).id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.searchtext||i.searchtitle)+"</a></li>").click((function(){return $(this).hasClass(p.disabled)||($.isFunction(i.searchfunc)?i.searchfunc.call(l,o):$(l).jqGrid("searchGrid",o),$(f).hide()),!1})),$(f).append(d),o.showOnLoad&&!0===o.showOnLoad&&$(d).click()),i.refresh&&(e=o.id||"search_"+t,d=$('<li class="ui-menu-item" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+e+'">'+(i.refreshtext||i.refreshtitle)+"</a></li>").click((function(){if(!$(this).hasClass(p.disabled)){$.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(l),l.p.search=!1,l.p.resetsearch=!0;try{if("currentfilter"!==i.refreshstate){var e=l.p.id;l.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(e)).jqFilter("resetFilter")}catch(e){}$.isFunction(l.clearToolbar)&&l.clearToolbar.call(l,!1)}}catch(e){}switch(i.refreshstate){case"firstpage":$(l).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(l).trigger("reloadGrid",[{current:!0}])}$.isFunction(i.afterRefresh)&&i.afterRefresh.call(l),$(f).hide()}return!1})),$(f).append(d)),$(f).hide(),$("body").append(f),$("#"+h).addClass("ui-menu "+u.menu_widget),$("#"+h+" > li > a").hover((function(){$(this).addClass(p.hover)}),(function(){$(this).removeClass(p.hover)}))})(),$(".dropdownmenu",e+"_"+i.position).on("click",(function(e){var t=$(this).offset(),i=t.left,r=parseInt(t.top),n=$(this).val();$("#"+n).show().css({top:r-($("#"+n).height()+10)+"px",left:i+"px"}),e.stopPropagation()})),$("body").on("click",(function(e){$(e.target).hasClass("dropdownmenu")||$("#"+h).hide()}))}))},GridToForm:function(e,t){return this.each((function(){var i,r=this;if(r.grid){var n=$(r).jqGrid("getRowData",e);if(n)for(i in n)n.hasOwnProperty(i)&&($("[name="+$.jgrid.jqID(i)+"]",t).is("input:radio")||$("[name="+$.jgrid.jqID(i)+"]",t).is("input:checkbox")?$("[name="+$.jgrid.jqID(i)+"]",t).each((function(){$(this).val()==n[i]?$(this)[r.p.useProp?"prop":"attr"]("checked",!0):$(this)[r.p.useProp?"prop":"attr"]("checked",!1)})):$("[name="+$.jgrid.jqID(i)+"]",t).val(n[i]))}}))},FormToGrid:function(e,t,i,r){return this.each((function(){var n=this;if(n.grid){i||(i="set"),r||(r="first");var s=$(t).serializeArray(),o={};$.each(s,(function(e,t){o[t.name]=t.value})),"add"===i?$(n).jqGrid("addRowData",e,o,r):"set"===i&&$(n).jqGrid("setRowData",e,o)}}))}}),$.jgrid.extend({groupingSetup:function(){return this.each((function(){var e,t,i,r=this,n=r.p.colModel,s=r.p.groupingView,o=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].grouping;if(null===s||"object"!=typeof s&&!$.isFunction(s))r.p.grouping=!1;else if(s.plusicon||(s.plusicon=o.icon_plus),s.minusicon||(s.minusicon=o.icon_minus),s.groupField.length){for(void 0===s.visibiltyOnNextGrouping&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],e=0;e<s.groupField.length;e++)s.groupOrder[e]||(s.groupOrder[e]="asc"),s.groupText[e]||(s.groupText[e]="{0}"),"boolean"!=typeof s.groupColumnShow[e]&&(s.groupColumnShow[e]=!0),"boolean"!=typeof s.groupSummary[e]&&(s.groupSummary[e]=!1),s.groupSummaryPos[e]||(s.groupSummaryPos[e]="footer"),!0===s.groupColumnShow[e]?(s.visibiltyOnNextGrouping[e]=!0,$(r).jqGrid("showCol",s.groupField[e])):(s.visibiltyOnNextGrouping[e]=$("#"+$.jgrid.jqID(r.p.id+"_"+s.groupField[e])).is(":visible"),$(r).jqGrid("hideCol",s.groupField[e]));for(s.summary=[],s.hideFirstGroupCol&&$.isArray(s.formatDisplayField)&&!$.isFunction(s.formatDisplayField[0])&&(s.formatDisplayField[0]=function(e){return e}),t=0,i=n.length;t<i;t++)s.hideFirstGroupCol&&(n[t].hidden||s.groupField[0]!==n[t].name||(n[t].formatter=function(){return""})),n[t].summaryType&&(n[t].summaryDivider?s.summary.push({nm:n[t].name,st:n[t].summaryType,v:"",sd:n[t].summaryDivider,vd:"",sr:n[t].summaryRound,srt:n[t].summaryRoundType||"round"}):s.summary.push({nm:n[t].name,st:n[t].summaryType,v:"",sr:n[t].summaryRound,srt:n[t].summaryRoundType||"round"}))}else r.p.grouping=!1}))},groupingPrepare:function(e,t){return this.each((function(){var i,r,n,s,o,a=this.p.groupingView,l=this,d=function(){$.isFunction(this.st)?this.v=this.st.call(l,this.v,this.nm,e):(this.v=$(l).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,e),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(l).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,e)))},c=a.groupField.length,u=0;for(i=0;i<c;i++)r=a.groupField[i],s=a.displayField[i],n=e[r],null==(o=null==s?null:e[s])&&(o=n),void 0!==n&&(0===t?(a.groups.push({idx:i,dataIndex:r,value:n,displayValue:o,startRow:t,cnt:1,summary:[]}),a.lastvalues[i]=n,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,d),a.groups[a.counters[i].pos].summary=a.counters[i].summary):"object"==typeof n||($.isArray(a.isInTheSameGroup)&&$.isFunction(a.isInTheSameGroup[i])?a.isInTheSameGroup[i].call(l,a.lastvalues[i],n,i,a):a.lastvalues[i]===n)?1===u?(a.groups.push({idx:i,dataIndex:r,value:n,displayValue:o,startRow:t,cnt:1,summary:[]}),a.lastvalues[i]=n,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,d),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.counters[i].cnt+=1,a.groups[a.counters[i].pos].cnt=a.counters[i].cnt,$.each(a.counters[i].summary,d),a.groups[a.counters[i].pos].summary=a.counters[i].summary):(a.groups.push({idx:i,dataIndex:r,value:n,displayValue:o,startRow:t,cnt:1,summary:[]}),a.lastvalues[i]=n,u=1,a.counters[i]={cnt:1,pos:a.groups.length-1,summary:$.extend(!0,[],a.summary)},$.each(a.counters[i].summary,d),a.groups[a.counters[i].pos].summary=a.counters[i].summary))})),this},groupingToggle:function(e){return this.each((function(){var t=this,i=t.p.groupingView,r=e.split("_"),n=parseInt(r[r.length-2],10);r.splice(r.length-2,2);var s,o,a=r.join("_"),l=i.minusicon,d=i.plusicon,c=$("#"+$.jgrid.jqID(e)),u=c.length?c[0].nextSibling:null,p=$("#"+$.jgrid.jqID(e)+" span.tree-wrap-"+t.p.direction),h=function(e){var t=$.map(e.split(" "),(function(e){if(e.substring(0,a.length+1)===a+"_")return parseInt(e.substring(a.length+1),10)}));return t.length>0?t[0]:void 0},f=!1,g=!1,m=!!t.p.frozenColumns&&t.p.id+"_frozen",v=!!m&&$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(m)),b=v&&v.length?v[0].nextSibling:null;if(p.hasClass(l)){if(u)for(;u&&!(void 0!==(s=h(u.className))&&s<=n);)$(u).hide(),u=u.nextSibling,m&&($(b).hide(),b=b.nextSibling);p.removeClass(l).addClass(d),f=!0}else{if(u)for(o=void 0;u;){if(s=h(u.className),void 0===o&&(o=void 0===s),g=$(u).hasClass("ui-subgrid")&&$(u).hasClass("ui-sg-collapsed"),void 0!==s){if(s<=n)break;s===n+1&&(g||($(u).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d),m&&$(b).show().find(">td>span.tree-wrap-"+t.p.direction).removeClass(l).addClass(d)))}else o&&(g||($(u).show(),m&&$(b).show()));u=u.nextSibling,m&&(b=b.nextSibling)}p.removeClass(d).addClass(l)}$(t).triggerHandler("jqGridGroupingClickGroup",[e,f]),$.isFunction(t.p.onClickGroup)&&t.p.onClickGroup.call(t,e,f)})),!1},groupingRender:function(e,t,i,r){return this.each((function(){function n(e,t,i){var r,n=!1;if(0===t)n=i[e];else{var s=i[e].idx;if(0===s)n=i[e];else for(r=e;r>=0;r--)if(i[r].idx===s-t){n=i[r];break}}return n}function s(e,i,r,s){var o,a,l=n(e,i,r),c=d.p.colModel,u=l.cnt,p="";for(a=s;a<t;a++){var h="<td "+d.formatCol(a,1,"")+">&#160;</td>",f="{0}";$.each(l.summary,(function(){if(this.nm===c[a].name){c[a].summaryTpl&&(f=c[a].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&u>0&&(this.v=this.v/u));try{this.groupCount=l.cnt,this.groupIndex=l.dataIndex,this.groupValue=l.value,o=d.formatter("",this.v,a,this)}catch(e){o=this.v}return h="<td "+d.formatCol(a,1,"")+">"+$.jgrid.template(f,o)+"</td>",!1}})),p+=h}return p}var o,a,l,d=this,c=d.p.groupingView,u="",p="",h=c.groupCollapse?c.plusicon:c.minusicon,f=[],g=c.groupField.length,m=$.jgrid.styleUI[d.p.styleUI||"jQueryUI"].common;h=h+" tree-wrap-"+d.p.direction,$.each(d.p.colModel,(function(e,t){var i;for(i=0;i<g;i++)if(c.groupField[i]===t.name){f[i]=e;break}}));var v,b=0,_=$.makeArray(c.groupSummary);_.reverse(),v=d.p.multiselect?' colspan="2"':"",$.each(c.groups,(function(n,y){if(c._locgr&&!(y.startRow+y.cnt>(i-1)*r&&y.startRow<i*r))return!0;b++,a=d.p.id+"ghead_"+y.idx,o=a+"_"+n,p="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+m.icon_base+" "+h+"' onclick=\"jQuery('#"+$.jgrid.jqID(d.p.id)+"').jqGrid('groupingToggle','"+o+"');return false;\"></span>";try{$.isArray(c.formatDisplayField)&&$.isFunction(c.formatDisplayField[y.idx])?(y.displayValue=c.formatDisplayField[y.idx].call(d,y.displayValue,y.value,d.p.colModel[f[y.idx]],y.idx,c),l=y.displayValue):l=d.formatter(o,y.displayValue,f[y.idx],y.value)}catch(e){l=y.displayValue}var w="";if("string"!=typeof(w=$.isFunction(c.groupText[y.idx])?c.groupText[y.idx].call(d,l,y.cnt,y.summary):$.jgrid.template(c.groupText[y.idx],l,y.cnt,y.summary))&&"number"!=typeof w&&(w=l),"header"===c.groupSummaryPos[y.idx]?(u+='<tr id="'+o+'"'+(c.groupCollapse&&y.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+a+'"><td style="padding-left:'+12*y.idx+'px;"'+v+">"+p+w+"</td>",u+=s(n,0,c.groups,!1===c.groupColumnShow[y.idx]?""===v?2:3:""===v?1:2),u+="</tr>"):u+='<tr id="'+o+'"'+(c.groupCollapse&&y.idx>0?' style="display:none;" ':" ")+'role="row" class= "'+m.content+" jqgroup ui-row-"+d.p.direction+" "+a+'"><td style="padding-left:'+12*y.idx+'px;" colspan="'+(!1===c.groupColumnShow[y.idx]?t-1:t)+'">'+p+w+"</td></tr>",g-1===y.idx){var x,j,D=c.groups[n+1],k=0,C=y.startRow,S=void 0!==D?D.startRow:c.groups[n].startRow+c.groups[n].cnt;for(c._locgr&&(k=(i-1)*r)>y.startRow&&(C=k),x=C;x<S&&e[x-k];x++)u+=e[x-k].join("");if("header"!==c.groupSummaryPos[y.idx]){var I;if(void 0!==D){for(I=0;I<c.groupField.length&&D.dataIndex!==c.groupField[I];I++);b=c.groupField.length-I}for(j=0;j<b;j++)if(_[j]){var T="";c.groupCollapse&&!c.showSummaryOnHide&&(T=' style="display:none;"'),u+="<tr"+T+' jqfootlevel="'+(y.idx-j)+'" role="row" class="'+m.content+" jqfoot ui-row-"+d.p.direction+'">',u+=s(n,j,c.groups,0),u+="</tr>"}b=I}}})),$("#"+$.jgrid.jqID(d.p.id)+" tbody:first").append(u),u=null}))},groupingGroupBy:function(e,t){return this.each((function(){var i=this;"string"==typeof e&&(e=[e]);var r,n=i.p.groupingView;for(i.p.grouping=!0,n._locgr=!1,void 0===n.visibiltyOnNextGrouping&&(n.visibiltyOnNextGrouping=[]),r=0;r<n.groupField.length;r++)!n.groupColumnShow[r]&&n.visibiltyOnNextGrouping[r]&&$(i).jqGrid("showCol",n.groupField[r]);for(r=0;r<e.length;r++)n.visibiltyOnNextGrouping[r]=$("#"+$.jgrid.jqID(i.p.id)+"_"+$.jgrid.jqID(e[r])).is(":visible");i.p.groupingView=$.extend(i.p.groupingView,t||{}),n.groupField=e,$(i).trigger("reloadGrid")}))},groupingRemove:function(e){return this.each((function(){var t=this;if(void 0===e&&(e=!0),t.p.grouping=!1,!0===e){var i,r=t.p.groupingView;for(i=0;i<r.groupField.length;i++)!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&$(t).jqGrid("showCol",r.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(t.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(t.p.id)+" tbody:first").show()}else $(t).trigger("reloadGrid")}))},groupingCalculations:{handler:function(e,t,i,r,n,s){var o={sum:function(){return parseFloat(t||0)+parseFloat(s[i]||0)},min:function(){return""===t?parseFloat(s[i]||0):Math.min(parseFloat(t),parseFloat(s[i]||0))},max:function(){return""===t?parseFloat(s[i]||0):Math.max(parseFloat(t),parseFloat(s[i]||0))},count:function(){return""===t&&(t=0),s.hasOwnProperty(i)?t+1:0},avg:function(){return o.sum()}};if(!o[e])throw"jqGrid Grouping No such method: "+e;var a=o[e]();if(null!=r)if("fixed"===n)a=a.toFixed(r);else{var l=Math.pow(10,r);a=Math.round(a*l)/l}return a}},setGroupHeaders:function(e){return e=$.extend({useColSpanStyle:!1,groupHeaders:[]},e||{}),this.each((function(){var t,i,r,n,s,o,a,l,d,c,u,p,h,f,g=this,m=0,v=g.p.colModel,b=v.length,_=g.grid.headers,y=$("table.ui-jqgrid-htable",g.grid.hDiv),w=y.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),x=y.children("thead"),j=y.find(".jqg-first-row-header"),D=$.jgrid.styleUI[g.p.styleUI||"jQueryUI"].base;g.p.groupHeader||(g.p.groupHeader=[]),g.p.groupHeader.push(e),void 0===j[0]?j=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):j.empty();var k,C=function(e,t){var i,r=t.length;for(i=0;i<r;i++)if(t[i].startColumnName===e)return i;return-1};for($(g).prepend(x),r=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),t=0;t<b;t++)if(s=_[t].el,o=$(s),i=v[t],a={height:"0px",width:_[t].width+"px",display:i.hidden?"none":""},$("<th>",{role:"gridcell"}).css(a).addClass("ui-first-th-"+g.p.direction).appendTo(j),s.style.width="",(l=C(i.name,e.groupHeaders))>=0){for(c=(d=e.groupHeaders[l]).numberOfColumns,u=d.titleText,h=d.className||"",p=0,l=0;l<c&&t+l<b;l++)v[t+l].hidden||p++;n=$("<th>").attr({role:"columnheader"}).addClass(D.headerBox+" ui-th-column-header ui-th-"+g.p.direction+" "+h).html(u),p>0&&n.attr("colspan",String(p)),g.p.headertitles&&n.attr("title",n.text()),0===p&&n.hide(),o.before(n),r.append(s),m=c-1}else 0===m?e.useColSpanStyle?o.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass(D.headerBox+" ui-th-column-header ui-th-"+g.p.direction).css({display:i.hidden?"none":""}).insertBefore(o),r.append(s)):(r.append(s),m--);(f=$(g).children("thead")).prepend(j),r.insertAfter(w),y.append(f),e.useColSpanStyle&&(y.find("span.ui-jqgrid-resize").each((function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")})),y.find("div.ui-jqgrid-sortable").each((function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2-4+"px")}))),k=f.find("tr.jqg-first-row-header"),$(g).bind("jqGridResizeStop.setGroupHeaders",(function(e,t,i){k.find("th").eq(i)[0].style.width=t+"px"}))}))},destroyGroupHeader:function(e){return void 0===e&&(e=!0),this.each((function(){var t,i,r,n,s,o,a,l=this,d=l.grid,c=$("table.ui-jqgrid-htable thead",d.hDiv),u=l.p.colModel;if(d){for($(this).unbind(".setGroupHeaders"),t=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),i=0,r=(n=d.headers).length;i<r;i++){a=u[i].hidden?"none":"",s=$(n[i].el).width(n[i].width).css("display",a);try{s.removeAttr("rowSpan")}catch(e){s.attr("rowSpan",1)}t.append(s),(o=s.children("span.ui-jqgrid-resize")).length>0&&(o[0].style.height=""),s.children("div")[0].style.top=""}$(c).children("tr.ui-jqgrid-labels").remove(),$(c).prepend(t),!0===e&&$(l).jqGrid("setGridParam",{groupHeader:null})}}))}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(e,t){if(t=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16",debug:!1},t||{}),e){var i,r,n="",s="",o=$("#"+e)[0];if(o.grid){(r=$(o).data("inlineNav"))&&o.p.inlineNav&&$(o).jqGrid("setGridParam",{_iN:r}),(r=$(o).data("filterToolbar"))&&o.p.filterToolbar&&$(o).jqGrid("setGridParam",{_fT:r}),n=$(o).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""});var a=(s=$(o.grid.bDiv).find(".ui-jqgrid-btable tbody:first").html()).indexOf("</tr>");if(s=s.slice(a+5),$.isFunction(t.beforeSetItem)&&null!=(i=t.beforeSetItem.call(o,n))&&(n=i),t.debug){$("#gbox_tree").prepend('<a id="link_save" target="_blank" download="jqGrid_dump.txt">Click to save Dump Data</a>');var l,d,c=[],u={};c.push("Grid Options\n"),c.push(n),c.push("\n"),c.push("GridData\n"),c.push(s),u.type="plain/text;charset=utf-8";try{l=new File(c,"jqGrid_dump.txt",u)}catch(e){l=new Blob(c,u)}d=URL.createObjectURL(l),$("#link_save").attr("href",d).bind("click",(function(){$(this).remove()}))}if(t.compression&&t.compressionModule)try{null!=(i=window[t.compressionModule][t.compressionMethod](n))&&(n=i,s=window[t.compressionModule][t.compressionMethod](s))}catch(e){}if(t.useStorage&&$.jgrid.isLocalStorage())try{window[t.storageType].setItem("jqGrid"+o.p.id,n),window[t.storageType].setItem("jqGrid"+o.p.id+"_data",s)}catch(e){22===e.code&&alert("Local storage limit is over!")}return n}}},loadState:function(e,t,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},i||{}),e){var r,n,s,o,a,l=$("#"+e)[0];if(i.useStorage)try{t=window[i.storageType].getItem("jqGrid"+l.id),s=window[i.storageType].getItem("jqGrid"+l.id+"_data")}catch(e){}if(t){if(i.decompression&&i.decompressionModule)try{null!=(r=window[i.decompressionModule][i.decompressionMethod](t))&&(t=r,s=window[i.decompressionModule][i.decompressionMethod](s))}catch(e){}if((r=jqGridUtils.parse(t))&&"object"===$.type(r)){l.grid&&$.jgrid.gridUnload(e),$.isFunction(i.beforeSetGrid)&&(n=i.beforeSetGrid(r))&&"object"===$.type(n)&&(r=n);var d=function(e){return e},c={reccount:r.reccount,records:r.records,lastpage:r.lastpage,shrinkToFit:d(r.shrinkToFit),data:d(r.data),datatype:d(r.datatype),grouping:d(r.grouping)};r.shrinkToFit=!1,r.data=[],r.datatype="local",r.grouping=!1,r.inlineNav&&(o=d(r._iN),r._iN=null,delete r._iN),r.filterToolbar&&(a=d(r._fT),r._fT=null,delete r._fT);var u=$("#"+e).jqGrid(r);if(u.append(s),u.jqGrid("setGridParam",c),r.storeNavOptions&&r.navGrid&&(u[0].p.navGrid=!1,u.jqGrid("navGrid",r.pager,r.navOptions,r.editOptions,r.addOptions,r.delOptions,r.searchOptions,r.viewOptions),r.navButtons&&r.navButtons.length))for(var p=0;p<r.navButtons.length;p++)"sepclass"in r.navButtons[p][1]?u.jqGrid("navSeparatorAdd",r.navButtons[p][0],r.navButtons[p][1]):u.jqGrid("navButtonAdd",r.navButtons[p][0],r.navButtons[p][1]);if(u[0].refreshIndex(),r.subGrid){var h=1===r.multiselect?1:0,f=!0===r.rownumbers?1:0;u.jqGrid("addSubGrid",h+f)}if(r.treeGrid)for(var g=1,m=u[0].rows.length,v=r.expColInd,b=r.treeReader.leaf_field,_=r.treeReader.expanded_field;g<m;)$(u[0].rows[g].cells[v]).find("div.treeclick").bind("click",(function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.idPrefix,$(t,u[0].rows).closest("tr.jqgrow")[0].id),n=u[0].p._index[i];return u[0].p.data[n][b]||(u[0].p.data[n][_]?(u.jqGrid("collapseRow",u[0].p.data[n]),u.jqGrid("collapseNode",u[0].p.data[n])):(u.jqGrid("expandRow",u[0].p.data[n]),u.jqGrid("expandNode",u[0].p.data[n]))),!1})),!0===r.ExpandColClick&&$(u[0].rows[g].cells[v]).find("span.cell-wrapper").css("cursor","pointer").bind("click",(function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.idPrefix,$(t,u[0].rows).closest("tr.jqgrow")[0].id),n=u[0].p._index[i];return u[0].p.data[n][b]||(u[0].p.data[n][_]?(u.jqGrid("collapseRow",u[0].p.data[n]),u.jqGrid("collapseNode",u[0].p.data[n])):(u.jqGrid("expandRow",u[0].p.data[n]),u.jqGrid("expandNode",u[0].p.data[n]))),u.jqGrid("setSelection",i),!1})),g++;r.multiselect&&$.each(r.selarrrow,(function(){$("#jqg_"+e+"_"+this)[r.useProp?"prop":"attr"]("checked","checked")})),r.inlineNav&&o&&(u.jqGrid("setGridParam",{inlineNav:!1}),u.jqGrid("inlineNav",r.pager,o)),r.filterToolbar&&a&&(u.jqGrid("setGridParam",{filterToolbar:!1}),a.restoreFromFilters=!0,u.jqGrid("filterToolbar",a)),r.frozenColumns&&u.jqGrid("setFrozenColumns"),u[0].updatepager(!0,!0),$.isFunction(i.afterSetGrid)&&i.afterSetGrid(u),i.clearAfterLoad&&(window[i.storageType].removeItem("jqGrid"+l.id),window[i.storageType].removeItem("jqGrid"+l.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(e,t){var i,r,n,s={storageType:"localStorage"};s=$.extend(s,t||{});try{r=window[s.storageType].getItem("jqGrid"+e),n=window[s.storageType].getItem("jqGrid"+e+"_data"),i=null!=r&&null!=n&&"string"==typeof r&&"string"==typeof n}catch(e){i=!1}return i},setRegional:function(e,t){var i={storageType:"sessionStorage"};if((i=$.extend(i,t||{})).regional){$.jgrid.saveState(e,i),i.beforeSetGrid=function(e){return e.regional=i.regional,e.force_regional=!0,e},$.jgrid.loadState(e,null,i);var r=$("#"+e)[0],n=$(r).jqGrid("getGridParam","colModel"),s=-1,o=$.jgrid.getRegional(r,"nav");$.each(n,(function(e){if(this.formatter&&"actions"===this.formatter)return s=e,!1})),-1!==s&&o&&$("#"+e+" tbody tr").each((function(){var e=this.cells[s];$(e).find(".ui-inline-edit").attr("title",o.edittitle),$(e).find(".ui-inline-del").attr("title",o.deltitle),$(e).find(".ui-inline-save").attr("title",o.savetitle),$(e).find(".ui-inline-cancel").attr("title",o.canceltitle)}));try{window[i.storageType].removeItem("jqGrid"+r.id),window[i.storageType].removeItem("jqGrid"+r.id+"_data")}catch(e){}}},jqGridImport:function(e,t){t=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{});var i=(0===e.indexOf("#")?"":"#")+$.jgrid.jqID(e),r=function(e,t){var r,n,s,o=$(t.xmlGrid.config,e)[0],a=$(t.xmlGrid.data,e)[0];if(jqGridUtils.xmlToJSON){for(s in r=jqGridUtils.xmlToJSON(o))r.hasOwnProperty(s)&&(n=r[s]);if(a){var l=r.grid.datatype;r.grid.datatype="xmlstring",r.grid.datastr=e,$(i).jqGrid(n).jqGrid("setGridParam",{datatype:l})}else setTimeout((function(){$(i).jqGrid(n)}),0)}else alert("xml2json or parse are not present")},n=function(e,t){if(e&&"string"==typeof e){var r=jqGridUtils.parse(e),n=r[t.jsonGrid.config],s=r[t.jsonGrid.data];if(s){var o=n.datatype;n.datatype="jsonstring",n.datastr=s,$(i).jqGrid(n).jqGrid("setGridParam",{datatype:o})}else $(i).jqGrid(n)}};switch(t.imptype){case"xml":
$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(e,n){"success"===n&&(r(e.responseXML,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)),e=null}},t.ajaxOptions));break;case"xmlstring":if(t.impstring&&"string"==typeof t.impstring){var s=$.parseXML(t.impstring);s&&(r(s,t),$(i).triggerHandler("jqGridImportComplete",[s,t]),$.isFunction(t.importComplete)&&t.importComplete(s))}break;case"json":$.ajax($.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(e){try{n(e.responseText,t),$(i).triggerHandler("jqGridImportComplete",[e,t]),$.isFunction(t.importComplete)&&t.importComplete(e)}catch(e){}e=null}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(n(t.impstring,t),$(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),$.isFunction(t.importComplete)&&t.importComplete(t.impstring))}}}),$.jgrid.extend({jqGridExport:function(e){e=$.extend({exptype:"xmlstring",root:"grid",ident:"\t",addOptions:{}},e||{});var t=null;return this.each((function(){if(this.grid){var i=$.extend(!0,{},$(this).jqGrid("getGridParam"),e.addOptions);switch(i.rownumbers&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.multiselect&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.subGrid&&(i.colNames.splice(0,1),i.colModel.splice(0,1)),i.knv=null,e.exptype){case"xmlstring":t="<"+e.root+">"+jqGridUtils.jsonToXML(i,{xmlDecl:""})+"</"+e.root+">";break;case"jsonstring":t=jqGridUtils.stringify(i),e.root&&(t="{"+e.root+":"+t+"}")}}})),t},excelExport:function(e){return e=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",beforeExport:null,exporthidden:!1,exportgrouping:!1,exportOptions:{}},e||{}),this.each((function(){var t;if(this.grid&&"remote"===e.exptype){var i,r=$.extend({},this.p.postData);if(r[e.oper]=e.tag,$.isFunction(e.beforeExport)){var n=e.beforeExport.call(this,r);$.isPlainObject(n)&&(r=n)}if(e.exporthidden){var s,o=this.p.colModel,a=o.length,l=[];for(s=0;s<a;s++)void 0===o[s].hidden&&(o[s].hidden=!1),l.push({name:o[s].name,hidden:o[s].hidden});var d=JSON.stringify(l);"string"==typeof d&&(r.colModel=d)}e.exportgrouping&&"string"==typeof(i=JSON.stringify(this.p.groupingView))&&(r.groupingView=i);var c=jQuery.param(r);t=-1!==e.url.indexOf("?")?e.url+"&"+c:e.url+"?"+c,window.location=t}}))}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(e,t,i,r,n,s,o,a,l){var d={},c=$.makeArray(arguments).slice(1);return"object"===$.type(c[0])?d=c[0]:(void 0!==t&&(d.keys=t),$.isFunction(i)&&(d.oneditfunc=i),$.isFunction(r)&&(d.successfunc=r),void 0!==n&&(d.url=n),void 0!==s&&(d.extraparam=s),$.isFunction(o)&&(d.aftersavefunc=o),$.isFunction(a)&&(d.errorfunc=a),$.isFunction(l)&&(d.afterrestorefunc=l)),d=$.extend(!0,{keys:!1,keyevent:"keydown",oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},$.jgrid.inlineEdit,d),this.each((function(){var t,i,r,n,s,o=this,a=0,l=null,c={},u=$(this).jqGrid("getStyleUI",o.p.styleUI+".inlinedit","inputClass",!0);o.grid&&!1!==(r=$(o).jqGrid("getInd",e,!0))&&(o.p.beforeAction=!0,void 0===(s=$.isFunction(d.beforeEditRow)?d.beforeEditRow.call(o,d,e):void 0)&&(s=!0),s?"0"!==($(r).attr("editable")||"0")||$(r).hasClass("not-editable-row")||(n=o.p.colModel,$('td[role="gridcell"]',r).each((function(r){t=n[r].name;var s=!0===o.p.treeGrid&&t===o.p.ExpandColumn;if(s)i=$("span:first",this).html();else try{i=$.unformat.call(o,this,{rowId:e,colModel:n[r]},r)}catch(e){i=n[r].edittype&&"textarea"===n[r].edittype?$(this).text():$(this).html()}if("cb"!==t&&"subgrid"!==t&&"rn"!==t&&(o.p.autoencode&&(i=$.jgrid.htmlDecode(i)),c[t]=i,!0===n[r].editable)){null===l&&(l=r),s?$("span:first",this).html(""):$(this).html("");var d=$.extend({},n[r].editoptions||{},{id:e+"_"+t,name:t,rowId:e,oper:"edit"});n[r].edittype||(n[r].edittype="text"),("&nbsp;"===i||"&#160;"===i||1===i.length&&160===i.charCodeAt(0))&&(i="");var p=$.jgrid.createEl.call(o,n[r].edittype,d,i,!0,$.extend({},$.jgrid.ajaxOptions,o.p.ajaxSelectOptions||{}));$(p).addClass("editable inline-edit-cell"),$.inArray(n[r].edittype,["text","textarea","password","select"])>-1&&$(p).addClass(u),s?$("span:first",this).append(p):$(this).append(p),$.jgrid.bindEv.call(o,p,d),"select"===n[r].edittype&&void 0!==n[r].editoptions&&!0===n[r].editoptions.multiple&&void 0===n[r].editoptions.dataUrl&&$.jgrid.msie()&&$(p).width($(p).width()),a++}})),a>0&&(c.id=e,o.p.savedRow.push(c),$(r).attr("editable","1"),d.focusField&&("number"==typeof d.focusField&&parseInt(d.focusField,10)<=n.length&&(l=d.focusField),setTimeout((function(){var e=$("td:eq("+l+") :input:visible",r).not(":disabled");e.length>0&&e.focus()}),0)),!0===d.keys&&$(r).bind(d.keyevent,(function(t){if(27===t.keyCode){if($(o).jqGrid("restoreRow",e,d.afterrestorefunc),o.p.inlineNav)try{$(o).jqGrid("showAddEditButtons")}catch(e){}return!1}if(13===t.keyCode){if("TEXTAREA"===t.target.tagName)return!0;if($(o).jqGrid("saveRow",e,d)&&o.p.inlineNav)try{$(o).jqGrid("showAddEditButtons")}catch(e){}return!1}})),$(o).triggerHandler("jqGridInlineEditRow",[e,d]),$.isFunction(d.oneditfunc)&&d.oneditfunc.call(o,e))):o.p.beforeAction=!1)}))},saveRow:function(e,t,i,r,n,s,o){var a=$.makeArray(arguments).slice(1),l={},d=this[0];"object"===$.type(a[0])?l=a[0]:($.isFunction(t)&&(l.successfunc=t),void 0!==i&&(l.url=i),void 0!==r&&(l.extraparam=r),$.isFunction(n)&&(l.aftersavefunc=n),$.isFunction(s)&&(l.errorfunc=s),$.isFunction(o)&&(l.afterrestorefunc=o)),l=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(d,"defaults.savetext")},$.jgrid.inlineEdit,l);var c,u,p,h,f,g=!1,m={},v={},b={},_=!1,y=$.trim($(d).jqGrid("getStyleUI",d.p.styleUI+".common","error",!0));if(!d.grid)return g;if(!1===(f=$(d).jqGrid("getInd",e,!0)))return g;var w=$.jgrid.getRegional(d,"errors"),x=$.jgrid.getRegional(d,"edit"),j=$.isFunction(l.beforeSaveRow)?l.beforeSaveRow.call(d,l,e):void 0;if(void 0===j&&(j=!0),j){if(u=$(f).attr("editable"),l.url=l.url||d.p.editurl,"1"===u){var D;if($('td[role="gridcell"]',f).each((function(e){if(D=d.p.colModel[e],"cb"!==(c=D.name)&&"subgrid"!==c&&!0===D.editable&&"rn"!==c&&!$(this).hasClass("not-editable-cell")){switch(D.edittype){case"checkbox":var t=["Yes","No"];D.editoptions&&(t=D.editoptions.value.split(":")),m[c]=$("input",this).is(":checked")?t[0]:t[1];break;case"text":case"password":case"textarea":case"button":m[c]=$("input, textarea",this).val();break;case"select":if(D.editoptions.multiple){var i=$("select",this),r=[];m[c]=$(i).val(),m[c]?m[c]=m[c].join(","):m[c]="",$("select option:selected",this).each((function(e,t){r[e]=$(t).text()})),v[c]=r.join(",")}else m[c]=$("select option:selected",this).val(),v[c]=$("select option:selected",this).text();D.formatter&&"select"===D.formatter&&(v={});break;case"custom":try{if(!D.editoptions||!$.isFunction(D.editoptions.custom_value))throw"e1";if(m[c]=D.editoptions.custom_value.call(d,$(".customelement",this),"get"),void 0===m[c])throw"e2"}catch(e){"e1"===e?$.jgrid.info_dialog(w.errcap,"function 'custom_value' "+x.msg.nodefined,x.bClose,{styleUI:d.p.styleUI}):$.jgrid.info_dialog(w.errcap,e.message,x.bClose,{styleUI:d.p.styleUI})}}if(!1===(h=$.jgrid.checkValues.call(d,m[c],e))[0])return!1;d.p.autoencode&&(m[c]=$.jgrid.htmlEncode(m[c])),"clientArray"!==l.url&&D.editoptions&&!0===D.editoptions.NullIfEmpty&&""===m[c]&&(b[c]="null",_=!0)}})),!1===h[0]){try{var k=$(d).jqGrid("getGridRowById",e),C=$.jgrid.findPos(k);$.jgrid.info_dialog(w.errcap,h[1],x.bClose,{left:C[0],top:C[1]+$(k).outerHeight(),styleUI:d.p.styleUI})}catch(e){alert(h[1])}return g}var S,I=d.p.prmNames,T=e;if(S=!1===d.p.keyName?I.id:d.p.keyName,m){if(m[I.oper]=I.editoper,void 0===m[S]||""===m[S])m[S]=e;else if(f.id!==d.p.idPrefix+m[S]){var q=$.jgrid.stripPref(d.p.idPrefix,e);if(void 0!==d.p._index[q]&&(d.p._index[m[S]]=d.p._index[q],delete d.p._index[q]),e=d.p.idPrefix+m[S],$(f).attr("id",e),d.p.selrow===T&&(d.p.selrow=e),$.isArray(d.p.selarrrow)){var A=$.inArray(T,d.p.selarrrow);A>=0&&(d.p.selarrrow[A]=e)}if(d.p.multiselect){var M="jqg_"+d.p.id+"_"+e;$("input.cbox",f).attr("id",M).attr("name",M)}}void 0===d.p.inlineData&&(d.p.inlineData={}),m=$.extend({},m,d.p.inlineData,l.extraparam)}if("clientArray"===l.url){m=$.extend({},m,v),d.p.autoencode&&$.each(m,(function(e,t){m[e]=$.jgrid.htmlDecode(t)}));var F,O=$(d).jqGrid("setRowData",e,m);for($(f).attr("editable","0"),F=0;F<d.p.savedRow.length;F++)if(String(d.p.savedRow[F].id)===String(T)){p=F;break}p>=0&&d.p.savedRow.splice(p,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,O,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,O,m,l),g=!0,$(f).removeClass("jqgrid-new-row").unbind("keydown")}else $(d).jqGrid("progressBar",{method:"show",loadtype:l.saveui,htmlcontent:l.savetext}),(b=$.extend({},m,b))[S]=$.jgrid.stripPref(d.p.idPrefix,b[S]),$.ajax($.extend({url:l.url,data:$.isFunction(d.p.serializeRowData)?d.p.serializeRowData.call(d,b):b,type:l.mtype,async:!1,complete:function(t,i){if($(d).jqGrid("progressBar",{method:"hide",loadtype:l.saveui,htmlcontent:l.savetext}),"success"===i){var r,n,s=!0;if(r=$(d).triggerHandler("jqGridInlineSuccessSaveRow",[t,e,l]),$.isArray(r)||(r=[!0,b]),r[0]&&$.isFunction(l.successfunc)&&(r=l.successfunc.call(d,t)),$.isArray(r)?(s=r[0],m=r[1]||m):s=r,!0===s){for(d.p.autoencode&&$.each(m,(function(e,t){m[e]=$.jgrid.htmlDecode(t)})),_&&$.each(m,(function(e){"null"===m[e]&&(m[e]="")})),m=$.extend({},m,v),$(d).jqGrid("setRowData",e,m),$(f).attr("editable","0"),n=0;n<d.p.savedRow.length;n++)if(String(d.p.savedRow[n].id)===String(e)){p=n;break}p>=0&&d.p.savedRow.splice(p,1),$(d).triggerHandler("jqGridInlineAfterSaveRow",[e,t,m,l]),$.isFunction(l.aftersavefunc)&&l.aftersavefunc.call(d,e,t,m,l),g=!0,$(f).removeClass("jqgrid-new-row").unbind("keydown")}else $(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,null,l]),$.isFunction(l.errorfunc)&&l.errorfunc.call(d,e,t,i,null),!0===l.restoreAfterError&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}},error:function(t,i,r){if($("#lui_"+$.jgrid.jqID(d.p.id)).hide(),$(d).triggerHandler("jqGridInlineErrorSaveRow",[e,t,i,r,l]),$.isFunction(l.errorfunc))l.errorfunc.call(d,e,t,i,r);else{var n=t.responseText||t.statusText;try{$.jgrid.info_dialog(w.errcap,'<div class="'+y+'">'+n+"</div>",x.bClose,{buttonalign:"right",styleUI:d.p.styleUI})}catch(e){alert(n)}}!0===l.restoreAfterError&&$(d).jqGrid("restoreRow",e,l.afterrestorefunc)}},$.jgrid.ajaxOptions,d.p.ajaxRowOptions||{}))}return g}},restoreRow:function(e,t){var i=$.makeArray(arguments).slice(1),r={};return"object"===$.type(i[0])?r=i[0]:$.isFunction(t)&&(r.afterrestorefunc=t),r=$.extend(!0,{},$.jgrid.inlineEdit,r),this.each((function(){var t,i,n=this,s=-1,o={};if(n.grid&&!1!==(t=$(n).jqGrid("getInd",e,!0))){var a=$.isFunction(r.beforeCancelRow)?r.beforeCancelRow.call(n,r,e):void 0;if(void 0===a&&(a=!0),a){for(i=0;i<n.p.savedRow.length;i++)if(String(n.p.savedRow[i].id)===String(e)){s=i;break}if(s>=0){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+$.jgrid.jqID(t.id)).datepicker("hide")}catch(e){}$.each(n.p.colModel,(function(){!0===this.editable&&n.p.savedRow[s].hasOwnProperty(this.name)&&(o[this.name]=n.p.savedRow[s][this.name])})),$(n).jqGrid("setRowData",e,o),$(t).attr("editable","0").unbind("keydown"),n.p.savedRow.splice(s,1),$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(n.p.id)).hasClass("jqgrid-new-row")&&setTimeout((function(){$(n).jqGrid("delRowData",e),$(n).jqGrid("showAddEditButtons")}),0)}$(n).triggerHandler("jqGridInlineAfterRestoreRow",[e]),$.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(n,e)}}}))},addRow:function(e){return e=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},e||{}),this.each((function(){if(this.grid){var t=this;t.p.beforeAction=!0;var i=$.isFunction(e.beforeAddRow)?e.beforeAddRow.call(t,e.addRowParams):void 0;if(void 0===i&&(i=!0),i)if(e.rowID=$.isFunction(e.rowID)?e.rowID.call(t,e):null!=e.rowID?e.rowID:$.jgrid.randId(),!0===e.useDefValues&&$(t.p.colModel).each((function(){if(this.editoptions&&this.editoptions.defaultValue){var i=this.editoptions.defaultValue,r=$.isFunction(i)?i.call(t):i;e.initdata[this.name]=r}})),$(t).jqGrid("addRowData",e.rowID,e.initdata,e.position),e.rowID=t.p.idPrefix+e.rowID,$("#"+$.jgrid.jqID(e.rowID),"#"+$.jgrid.jqID(t.p.id)).addClass("jqgrid-new-row"),e.useFormatter)$("#"+$.jgrid.jqID(e.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(t.p.id)).click();else{var r=t.p.prmNames,n=r.oper;e.addRowParams.extraparam[n]=r.addoper,$(t).jqGrid("editRow",e.rowID,e.addRowParams),$(t).jqGrid("setSelection",e.rowID)}else t.p.beforeAction=!1}}))},inlineNav:function(e,t){var i=this[0],r=$.jgrid.getRegional(i,"nav"),n=$.jgrid.styleUI[i.p.styleUI].inlinedit;return t=$.extend(!0,{edit:!0,editicon:n.icon_edit_nav,add:!0,addicon:n.icon_add_nav,save:!0,saveicon:n.icon_save_nav,cancel:!0,cancelicon:n.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0,saveAfterSelect:!1},r,t||{}),this.each((function(){if(this.grid&&!this.p.inlineNav){var n=$.jgrid.jqID(i.p.id),s=$.trim($(i).jqGrid("getStyleUI",i.p.styleUI+".common","disabled",!0));if(i.p.navGrid||$(i).jqGrid("navGrid",e,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(i).data("inlineNav")||$(i).data("inlineNav",t),i.p.force_regional&&(t=$.extend(t,r)),i.p.inlineNav=!0,!0===t.addParams.useFormatter){var o,a=i.p.colModel;for(o=0;o<a.length;o++)if(a[o].formatter&&"actions"===a[o].formatter){if(a[o].formatoptions){var l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},d=$.extend(l,a[o].formatoptions);t.addParams.addRowParams={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:d.afterSave,errorfunc:d.onError,afterrestorefunc:d.afterRestore}}break}}t.add&&$(i).jqGrid("navButtonAdd",e,{caption:t.addtext,title:t.addtitle,buttonicon:t.addicon,id:i.p.id+"_iladd",internal:!0,onClickButton:function(){void 0===i.p.beforeAction&&(i.p.beforeAction=!0),$(i).jqGrid("addRow",t.addParams),!t.addParams.useFormatter&&i.p.beforeAction&&($("#"+n+"_ilsave").removeClass(s),$("#"+n+"_ilcancel").removeClass(s),$("#"+n+"_iladd").addClass(s),$("#"+n+"_iledit").addClass(s))}}),t.edit&&$(i).jqGrid("navButtonAdd",e,{caption:t.edittext,title:t.edittitle,buttonicon:t.editicon,id:i.p.id+"_iledit",internal:!0,onClickButton:function(){var e=$(i).jqGrid("getGridParam","selrow");e?(void 0===i.p.beforeAction&&(i.p.beforeAction=!0),$(i).jqGrid("editRow",e,t.editParams),i.p.beforeAction&&($("#"+n+"_ilsave").removeClass(s),$("#"+n+"_ilcancel").removeClass(s),$("#"+n+"_iladd").addClass(s),$("#"+n+"_iledit").addClass(s))):($.jgrid.viewModal("#alertmod_"+n,{gbox:"#gbox_"+n,jqm:!0}),$("#jqg_alrt").focus())}}),t.save&&($(i).jqGrid("navButtonAdd",e,{caption:t.savetext||"",title:t.savetitle||"Save row",buttonicon:t.saveicon,id:i.p.id+"_ilsave",internal:!0,onClickButton:function(){var e=i.p.savedRow[0].id;if(e){var r=i.p.prmNames,s=r.oper,o=t.editParams;$("#"+$.jgrid.jqID(e),"#"+n).hasClass("jqgrid-new-row")?(t.addParams.addRowParams.extraparam[s]=r.addoper,o=t.addParams.addRowParams):(t.editParams.extraparam||(t.editParams.extraparam={}),t.editParams.extraparam[s]=r.editoper),$(i).jqGrid("saveRow",e,o)&&$(i).jqGrid("showAddEditButtons")}else $.jgrid.viewModal("#alertmod_"+n,{gbox:"#gbox_"+n,jqm:!0}),$("#jqg_alrt").focus()}}),$("#"+n+"_ilsave").addClass(s)),t.cancel&&($(i).jqGrid("navButtonAdd",e,{caption:t.canceltext||"",title:t.canceltitle||"Cancel row editing",buttonicon:t.cancelicon,id:i.p.id+"_ilcancel",internal:!0,onClickButton:function(){var e=i.p.savedRow[0].id,r=t.editParams;e?($("#"+$.jgrid.jqID(e),"#"+n).hasClass("jqgrid-new-row")&&(r=t.addParams.addRowParams),$(i).jqGrid("restoreRow",e,r),$(i).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+n,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+n+"_ilcancel").addClass(s)),!0!==t.restoreAfterSelect&&!0!==t.saveAfterSelect||$(i).bind("jqGridBeforeSelectRow.inlineNav",(function(e,r){i.p.savedRow.length>0&&!0===i.p.inlineNav&&r!==i.p.selrow&&null!==i.p.selrow&&(i.p.selrow===t.addParams.rowID?$(i).jqGrid("delRowData",i.p.selrow):!0===t.restoreAfterSelect?$(i).jqGrid("restoreRow",i.p.selrow,t.editParams):$(i).jqGrid("saveRow",i.p.selrow,t.editParams),$(i).jqGrid("showAddEditButtons"))}))}}))},showAddEditButtons:function(){return this.each((function(){if(this.grid){var e=$.jgrid.jqID(this.p.id),t=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+e+"_ilsave").addClass(t),$("#"+e+"_ilcancel").addClass(t),$("#"+e+"_iladd").removeClass(t),$("#"+e+"_iledit").removeClass(t)}}))}}),$.jgrid.msie()&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var r=this.element;this.selectedList.find("li").each((function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(r)}))}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),void 0===$.Widget?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(e){return this.each((function(){function t(){i.p.disableClick=!0}var i=this,r=$.jgrid.jqID(i.p.id),n={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var r=$(t.item).parent(),n=$(">th",r),s=i.p.colModel,o={},a=i.p.id+"_";$.each(s,(function(e){o[this.name]=e}));var l=[];n.each((function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(a,"");o.hasOwnProperty(e)&&l.push(o[e])})),$(i).jqGrid("remapColumns",l,!0,!0),$.isFunction(i.p.sortable.update)&&i.p.sortable.update(l),setTimeout((function(){i.p.disableClick=!1}),50)}};if(i.p.sortable.options?$.extend(n,i.p.sortable.options):$.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable}),n.start){var s=n.start;n.start=function(e,i){t(),s.call(this,e,i)}}else n.start=t;i.p.sortable.exclude&&(n.items+=":not("+i.p.sortable.exclude+")");var o=e.sortable(n),a=o.data("sortable")||o.data("uiSortable");null!=a&&(a.data("sortable").floating=!0)}))},columnChooser:function(e){function t(e,t,i){var r,n;return t>=0?(n=(r=e.slice()).splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),r[t]=i,r.concat(n)):e}function i(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,n,s,o,a,l,d,c=this,u={},p=[],h=c.jqGrid("getGridParam","colModel"),f=c.jqGrid("getGridParam","colNames"),g=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(c[0].p.id)).length){if(r=$('<div id="colchooser_'+c[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),n=$("select",r),e=$.extend({width:400,height:240,classname:null,done:function(e){e&&c.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=g(n),t=e.container.closest(".ui-dialog-content");t.length>0&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var i=[];$("option",n).each((function(){$(this).is(":selected")?c.jqGrid("showCol",h[this.value].name):c.jqGrid("hideCol",h[this.value].name)})),$("option[selected]",n).each((function(){i.push(parseInt(this.value,10))})),$.each(i,(function(){delete u[h[parseInt(this,10)].name]})),$.each(u,(function(){var e=parseInt(this,10);i=t(i,e,e)})),e.done&&e.done.call(c,i),c.jqGrid("setGridWidth",c[0].p.width,c[0].p.shrinkToFit)},cleanup:function(t){i(e.dlog,r,"destroy"),i(e.msel,n,"destroy"),r.remove(),t&&e.done&&e.done.call(c)},msel_opts:{}},m,e||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");e.msel_opts=$.extend($.ui.multiselect.defaults,e.msel_opts)}e.caption&&r.attr("title",e.caption),e.classname&&(r.addClass(e.classname),n.addClass(e.classname)),e.width&&($(">div",r).css({width:e.width,margin:"0 auto"}),n.css("width",e.width)),e.height&&($(">div",r).css("height",e.height),n.css("height",e.height-10)),n.empty(),$.each(h,(function(e){u[this.name]=e,this.hidedlg?this.hidden||p.push(e):n.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(f[e])+"</option>")})),s=$.isFunction(e.dlog_opts)?e.dlog_opts.call(c,e):e.dlog_opts,i(e.dlog,r,s),o=$.isFunction(e.msel_opts)?e.msel_opts.call(c,e):e.msel_opts,i(e.msel,n,o),(a=$("#colchooser_"+$.jgrid.jqID(c[0].p.id))).css({margin:"auto"}),a.find(">div").css({width:"100%",height:"100%",margin:"auto"}),(l=g(n)).container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),d=Math.max(l.selectedList.height(),l.availableList.height()),d=Math.min(d,$(window).height()),l.selectedList.css("height",d),l.availableList.css("height",d)}},sortableRows:function(e){return this.each((function(){var t=this;t.grid&&(t.p.treeGrid||$.fn.sortable&&((e=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},e||{})).start&&$.isFunction(e.start)?(e._start_=e.start,delete e.start):e._start_=!1,e.update&&$.isFunction(e.update)?(e._update_=e.update,delete e.update):e._update_=!1,e.start=function(i,r){if($(r.item).css("border-width","0"),$("td",r.item).each((function(e){this.style.width=t.grid.cols[e].style.width})),t.p.subGrid){var n=$(r.item).attr("id");try{$(t).jqGrid("collapseSubGridRow",n)}catch(e){}}e._start_&&e._start_.apply(this,[i,r])},e.update=function(i,r){$(r.item).css("border-width",""),!0===t.p.rownumbers&&$("td.jqgrid-rownum",t.rows).each((function(e){$(this).html(e+1+(parseInt(t.p.page,10)-1)*parseInt(t.p.rowNum,10))})),e._update_&&e._update_.apply(this,[i,r])},$("tbody:first",t).sortable(e),$("tbody:first > .jqgrow",t).disableSelection()))}))},gridDnD:function(e){return this.each((function(){function t(){var e=$.data(n,"dnd");$("tr.jqgrow:not(.ui-draggable)",n).draggable($.isFunction(e.drag)?e.drag.call($(n),e):e.drag)}var i,r,n=this;if(n.grid&&!n.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var s="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if(void 0===$("#jqgrid_dnd")[0]&&$("body").append(s),"string"!=typeof e||"updateDnD"!==e||!0!==n.p.jqgdnd){if(e=$.extend({drag:function(e){return $.extend({start:function(t,i){var r,s;if(n.p.subGrid){s=$(i.helper).attr("id");try{$(n).jqGrid("collapseSubGridRow",s)}catch(e){}}for(r=0;r<$.data(n,"dnd").connectWith.length;r++)0===$($.data(n,"dnd").connectWith[r]).jqGrid("getGridParam","reccount")&&$($.data(n,"dnd").connectWith[r]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each((function(e){this.style.width=n.grid.headers[e].width+"px"})),e.onstart&&$.isFunction(e.onstart)&&e.onstart.call($(n),t,i)},stop:function(t,i){var r,s;for(i.helper.dropped&&!e.dragcopy&&(void 0===(s=$(i.helper).attr("id"))&&(s=$(this).attr("id")),$(n).jqGrid("delRowData",s)),r=0;r<$.data(n,"dnd").connectWith.length;r++)$($.data(n,"dnd").connectWith[r]).jqGrid("delRowData","jqg_empty_row");e.onstop&&$.isFunction(e.onstop)&&e.onstop.call($(n),t,i)}},e.drag_opts||{})},drop:function(e){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(t.length>0&&void 0!==$.data(t[0],"dnd")){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var r,s=$(i.draggable).attr("id"),o=i.draggable.parent().parent().jqGrid("getRowData",s);if(!e.dropbyname){var a,l,d=0,c={},u=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(l in o)o.hasOwnProperty(l)&&("cb"!==(a=u[d].name)&&"rn"!==a&&"subgrid"!==a&&o.hasOwnProperty(l)&&u[d]&&(c[a]=o[l]),d++);o=c}catch(e){}}if(i.helper.dropped=!0,e.beforedrop&&$.isFunction(e.beforedrop)){var p=e.beforedrop.call(this,t,i,o,$("#"+$.jgrid.jqID(n.p.id)),$(this));null!=p&&"object"==typeof p&&(o=p)}if(i.helper.dropped)e.autoid&&($.isFunction(e.autoid)?r=e.autoid.call(this,o):(r=Math.ceil(1e3*Math.random()),r=e.autoidprefix+r)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",r,o,e.droppos);e.ondrop&&$.isFunction(e.ondrop)&&e.ondrop.call(this,t,i,o)}}},e.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},e||{}),e.connectWith)for(e.connectWith=e.connectWith.split(","),e.connectWith=$.map(e.connectWith,(function(e){return $.trim(e)})),$.data(n,"dnd",e),0===n.p.reccount||n.p.jqgdnd||t(),n.p.jqgdnd=!0,i=0;i<e.connectWith.length;i++)r=e.connectWith[i],$(r).droppable($.isFunction(e.drop)?e.drop.call($(n),e):e.drop)}else t()}}))},gridResize:function(opts){return this.each((function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout((function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")})))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}}))}}),$.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},$.jgrid.extend({pivotSetup:function(e,t){var i=[],r=[],n=[],s=[],o=[],a={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},l=[],d=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},t||{});return this.each((function(){function t(e,t,i){var r;return(r=_pivotfilter.call(e,t,i)).length>0?r[0]:null}function c(e,t){var i,r=0,n=!0;for(i in e)if(e.hasOwnProperty(i)){if(e[i]!=this[r]){n=!1;break}if(++r>=this.length)break}return n&&(g=t),n}function u(e,t,i,r,n){var s;switch(e){case"sum":s=parseFloat(t||0)+parseFloat(r[i]||0);break;case"count":""!==t&&null!=t||(t=0),s=r.hasOwnProperty(i)?t+1:0;break;case"min":s=""===t||null==t?parseFloat(r[i]||0):Math.min(parseFloat(t),parseFloat(r[i]||0));break;case"max":s=""===t||null==t?parseFloat(r[i]||0):Math.max(parseFloat(t),parseFloat(r[i]||0));break;case"avg":s=(parseFloat(t||0)*(n-1)+parseFloat(r[i]||0))/n}return s}function p(e,t,i,r){var n,a,l,d,c=t.length,p="",h=[];for($.isArray(i)?(d=i.length,h=i):(d=1,h[0]=i),o=[],(s=[]).root=0,r._count?r._count++:r._count=1,l=0;l<d;l++){var f,g=[];for(n=0;n<c;n++){if(null==i)f=a=$.trim(t[n].member)+"_"+t[n].aggregator,h[0]=t[n].label||t[n].aggregator+" "+$.trim(t[n].member);else{f=i[l].replace(/\s+/g,"");try{a=1===c?p+f:p+f+"_"+t[n].aggregator+"_"+String(n)}catch(e){}h[l]=i[l]}r[a=isNaN(parseInt(a,10))?a:a+" "]=g[a]=u(t[n].aggregator,r[a],t[n].member,e,r._count)}p+=i[l].replace(/\s+/g,""),s[a]=g,o[a]=h[l]}return r}function h(e){var t,r,n,s,o;for(n in e)if(e.hasOwnProperty(n)){if("object"!=typeof e[n]){if("level"===n){if(void 0===N[e.level]&&(N[e.level]="",e.level>0&&-1===e.text.indexOf("_r_Totals")&&(l[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),N[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&e.level>0){l[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var a=l[e.level-1].groupHeaders.length-1,c=0===a?R:E;if(e.level-1==(d.rowTotals?1:0)&&a>0){for(var u=0,p=0;p<a;p++)u+=l[e.level-1].groupHeaders[p].numberOfColumns;u&&(c=u+v)}i[c]&&(l[e.level-1].groupHeaders[a].startColumnName=i[c].name,l[e.level-1].groupHeaders[a].numberOfColumns=i.length-c),E=i.length}N[e.level]=e.text}if(e.level===b&&"level"===n&&b>0)if(_>1){var f=1;for(t in e.fields)e.fields.hasOwnProperty(t)&&(1===f&&l[b-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),f++);l[b-1].groupHeaders[l[b-1].groupHeaders.length-1].numberOfColumns=f-1}else l.splice(b-1,1)}if(null!=e[n]&&"object"==typeof e[n]&&h(e[n]),"level"===n&&e.level>0&&(e.level===(0===b?e.level:b)||-1!==N[e.level].indexOf("_r_Totals")))for(t in r=0,e.fields)if(e.fields.hasOwnProperty(t)){for(s in o={},d.aggregates[r])if(d.aggregates[r].hasOwnProperty(s))switch(s){case"member":case"label":case"aggregator":break;default:o[s]=d.aggregates[r][s]}_>1?(o.name=t,o.label=d.aggregates[r].label||e.label):(o.name=e.text,o.label="_r_Totals"===e.text?d.rowTotalsText:e.label),i.push(o),r++}}}var f,g,m,v,b,_,y,w,x,j=e.length,D=0;if(d.rowTotals&&d.yDimension.length>0){var k=d.yDimension[0].dataName;d.yDimension.splice(0,0,{dataName:k}),d.yDimension[0].converter=function(){return"_r_Totals"}}if(v=$.isArray(d.xDimension)?d.xDimension.length:0,b=d.yDimension.length,_=$.isArray(d.aggregates)?d.aggregates.length:0,0===v||0===_)throw"xDimension or aggregates optiona are not set!";for(m=0;m<v;m++)x={name:d.xDimension[m].dataName,frozen:d.frozenStaticCols},null==d.xDimension[m].isGroupField&&(d.xDimension[m].isGroupField=!0),x=$.extend(!0,x,d.xDimension[m]),i.push(x);for(var C=v-1,S={};D<j;){f=e[D];var I=[],T=[];y={},m=0;do{I[m]=$.trim(f[d.xDimension[m].dataName]),y[d.xDimension[m].dataName]=I[m],m++}while(m<v);var q=0;if(g=-1,w=t(r,c,I)){if(g>=0){if(q=0,b>=1){for(q=0;q<b;q++)T[q]=$.trim(f[d.yDimension[q].dataName]),d.yDimension[q].converter&&$.isFunction(d.yDimension[q].converter)&&(T[q]=d.yDimension[q].converter.call(this,T[q],I,T));w=p(f,d.aggregates,T,w)}else 0===b&&(w=p(f,d.aggregates,null,w));r[g]=w}}else{if(q=0,b>=1){for(q=0;q<b;q++)T[q]=$.trim(f[d.yDimension[q].dataName]),d.yDimension[q].converter&&$.isFunction(d.yDimension[q].converter)&&(T[q]=d.yDimension[q].converter.call(this,T[q],I,T));y=p(f,d.aggregates,T,y)}else 0===b&&(y=p(f,d.aggregates,null,y));r.push(y)}var A,M=0,F=null,O=null;for(A in s)if(s.hasOwnProperty(A)){if(0===M)S.children&&void 0!==S.children||(S={text:A,level:0,children:[],label:A}),F=S.children;else{for(O=null,m=0;m<F.length;m++)if(F[m].text===A){O=F[m];break}O?F=O.children:(F.push({children:[],text:A,level:M,fields:s[A],label:o[A]}),F=F[F.length-1].children)}M++}
D++}var P,N=[],E=i.length,R=E;if(b>0&&(l[b-1]={useColSpanStyle:!1,groupHeaders:[]}),h(S),d.colTotals)for(var G=r.length;G--;)for(m=v;m<i.length;m++)P=i[m].name,n[P]?n[P]+=parseFloat(r[G][P]||0):n[P]=parseFloat(r[G][P]||0);if(C>0)for(m=0;m<C;m++)i[m].isGroupField&&(a.groupingView.groupField.push(i[m].name),a.groupingView.groupSummary.push(d.groupSummary),a.groupingView.groupSummaryPos.push(d.groupSummaryPos));else a.grouping=!1;a.sortname=i[C].name,a.groupingView.hideFirstGroupCol=!0})),{colModel:i,rows:r,groupOptions:a,groupHeaders:l,summary:n}},jqPivot:function(e,t,i,r){return this.each((function(){function n(e){var r,n,o,a,l=jQuery(s).jqGrid("pivotSetup",e,t),d=$.assocArraySize(l.summary)>0,c=$.jgrid.from.call(s,l.rows);for(t.ignoreCase&&(c=c.ignoreCase()),r=0;r<l.groupOptions.groupingView.groupField.length;r++)n=t.xDimension[r].sortorder?t.xDimension[r].sortorder:"asc",o=t.xDimension[r].sorttype?t.xDimension[r].sorttype:"text",c.orderBy(l.groupOptions.groupingView.groupField[r],n,o,"",o);a=t.xDimension.length,l.groupOptions.sortname&&a&&(n=t.xDimension[a-1].sortorder?t.xDimension[a-1].sortorder:"asc",o=t.xDimension[a-1].sorttype?t.xDimension[a-1].sorttype:"text",c.orderBy(l.groupOptions.sortname,n,o,"",o)),jQuery(s).jqGrid($.extend(!0,{datastr:$.extend(c.select(),d?{userdata:l.summary}:{}),datatype:"jsonstring",footerrow:d,userDataOnFooter:d,colModel:l.colModel,viewrecords:!0,sortname:t.xDimension[0].dataName},l.groupOptions,i||{}));var u=l.groupHeaders;if(u.length)for(r=0;r<u.length;r++)u[r]&&u[r].groupHeaders.length&&jQuery(s).jqGrid("setGroupHeaders",u[r]);t.frozenStaticCols&&jQuery(s).jqGrid("setFrozenColumns")}var s=this;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(e){n($.jgrid.getAccessor(e,r&&r.reader?r.reader:"rows"))}},r||{})):n(e)}))}}),$.jgrid.extend({setSubGrid:function(){return this.each((function(){var e,t,i=this,r=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,n={plusicon:r.icon_plus,minusicon:r.icon_minus,openicon:r.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(n,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(e=i.p.subGridModel)[0])for(e[0].align=$.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++)e[0].align[t]=e[0].align[t]||"left"}))},addSubGridCell:function(e,t){var i,r,n,s="";return this.each((function(){s=this.formatCol(e,t),r=this.p.id,i=this.p.subGridOptions.plusicon,n=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common})),'<td role="gridcell" aria-describedby="'+r+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+s+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+n.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(e,t){return this.each((function(){var i=this;if(i.grid){var r,n,s,o,a,l=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].base,d=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,c=function(e,t,r){var n=$("<td align='"+i.p.subGridModel[0].align[r]+"'></td>").html(t);$(e).append(n)},u=function(e,t){var r,n,s,o=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),a=$("<tr></tr>");for(n=0;n<i.p.subGridModel[0].name.length;n++)r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[n]),$(r).width(i.p.subGridModel[0].width[n]),$(a).append(r);$(o).append(a),e&&(s=i.p.xmlReader.subgrid,$(s.root+" "+s.row,e).each((function(){if(a=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),!0===s.repeatitems)$(s.cell,this).each((function(e){c(a,$(this).text()||"&#160;",e)}));else{var e=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(e)for(n=0;n<e.length;n++)c(a,$(e[n],this).text()||"&#160;",n)}$(o).append(a)})));var u=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(u+t)).append(o),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},p=function(e,t){var r,n,s,o,a,u,p=$("<table class='"+l.rowTable+" ui-common-table'><tbody></tbody></table>"),h=$("<tr></tr>");for(s=0;s<i.p.subGridModel[0].name.length;s++)r=$("<th class='"+l.headerBox+" ui-th-subgrid ui-th-column ui-th-"+i.p.direction+"'></th>"),$(r).html(i.p.subGridModel[0].name[s]),$(r).width(i.p.subGridModel[0].width[s]),$(h).append(r);if($(p).append(h),e&&(a=i.p.jsonReader.subgrid,void 0!==(n=$.jgrid.getAccessor(e,a.root))))for(s=0;s<n.length;s++){if(o=n[s],h=$("<tr class='"+d.content+" ui-subtblcell'></tr>"),!0===a.repeatitems)for(a.cell&&(o=o[a.cell]),u=0;u<o.length;u++)c(h,o[u]||"&#160;",u);else{var f=i.p.subGridModel[0].mapping||i.p.subGridModel[0].name;if(f.length)for(u=0;u<f.length;u++)c(h,o[f[u]]||"&#160;",u)}$(p).append(h)}var g=$("table:first",i.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(g+t)).append(p),i.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(i.p.id)).hide(),!1},h=function(e){var t,r,n,s;if(t=$(e).attr("id"),(r={nd_:(new Date).getTime()})[i.p.prmNames.subgridid]=t,!i.p.subGridModel[0])return!1;if(i.p.subGridModel[0].params)for(s=0;s<i.p.subGridModel[0].params.length;s++)for(n=0;n<i.p.colModel.length;n++)i.p.colModel[n].name===i.p.subGridModel[0].params[s]&&(r[i.p.colModel[n].name]=$("td:eq("+n+")",e).text().replace(/\&#160\;/gi,""));if(!i.grid.hDiv.loading)switch(i.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(i.p.id)).show(),i.p.subgridtype||(i.p.subgridtype=i.p.datatype),$.isFunction(i.p.subgridtype)?i.p.subgridtype.call(i,r):i.p.subgridtype=i.p.subgridtype.toLowerCase(),i.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:i.p.mtype,url:$.isFunction(i.p.subGridUrl)?i.p.subGridUrl.call(i,r):i.p.subGridUrl,dataType:i.p.subgridtype,data:$.isFunction(i.p.serializeSubGridData)?i.p.serializeSubGridData.call(i,r):r,complete:function(e){"xml"===i.p.subgridtype?u(e.responseXML,t):p($.jgrid.parse(e.responseText),t),e=null}},$.jgrid.ajaxOptions,i.p.ajaxSubgridOptions||{}))}return!1},f=0;$.each(i.p.colModel,(function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||f++}));var g=i.rows.length,m=1,v=$.isFunction(i.p.isHasSubGrid);for(void 0!==t&&t>0&&(m=t,g=t+1);m<g;){if($(i.rows[m]).hasClass("jqgrow")){if(i.p.scroll&&$(i.rows[m].cells[e]).unbind("click"),b=null,v)var b=i.p.isHasSubGrid.call(i,i.rows[m].id);!1===b?i.rows[m].cells[e].innerHTML="":$(i.rows[m].cells[e]).bind("click",(function(){var t=$(this).parent("tr")[0];if(n=i.p.id,r=t.id,a=$("#"+n+"_"+r+"_expandedContent"),$(this).hasClass("sgcollapsed")){if((o=!1!==(o=$(i).triggerHandler("jqGridSubGridBeforeExpand",[n+"_"+r,r]))&&"stop"!==o)&&$.isFunction(i.p.subGridBeforeExpand)&&(o=i.p.subGridBeforeExpand.call(i,n+"_"+r,r)),!1===o)return!1;!0===i.p.subGridOptions.reloadOnExpand||!1===i.p.subGridOptions.reloadOnExpand&&!a.hasClass("ui-subgrid")?(s=e>=1?"<td colspan='"+e+"'>&#160;</td>":"",$(t).after("<tr role='row' id='"+n+"_"+r+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+s+"<td class='"+d.content+" subgrid-cell'><span class='"+d.icon_base+" "+i.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(i.p.colNames.length-1-f,10)+"' class='"+d.content+" subgrid-data'><div id="+n+"_"+r+" class='tablediv'></div></td></tr>"),$(i).triggerHandler("jqGridSubGridRowExpanded",[n+"_"+r,r]),$.isFunction(i.p.subGridRowExpanded)?i.p.subGridRowExpanded.call(i,n+"_"+r,r):h(t)):a.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),i.p.subGridOptions.selectOnExpand&&$(i).jqGrid("setSelection",r)}else if($(this).hasClass("sgexpanded")){if((o=!1!==(o=$(i).triggerHandler("jqGridSubGridRowColapsed",[n+"_"+r,r]))&&"stop"!==o)&&$.isFunction(i.p.subGridRowColapsed)&&(o=i.p.subGridRowColapsed.call(i,n+"_"+r,r)),!1===o)return!1;!0===i.p.subGridOptions.reloadOnExpand?a.remove(".ui-subgrid"):a.hasClass("ui-subgrid")&&a.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+d.icon_base+" "+i.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),i.p.subGridOptions.selectOnCollapse&&$(i).jqGrid("setSelection",r)}return!1}))}m++}!0===i.p.subGridOptions.expandOnLoad&&$(i.rows).filter(".jqgrow").each((function(e,t){$(t.cells[0]).click()})),i.subGridXml=function(e,t){u(e,t)},i.subGridJson=function(e,t){p(e,t)}}}))},expandSubGridRow:function(e){return this.each((function(){var t=this;if((t.grid||e)&&!0===t.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];r&&$(r).trigger("click")}}}))},collapseSubGridRow:function(e){return this.each((function(){var t=this;if((t.grid||e)&&!0===t.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgexpanded",i)[0];r&&$(r).trigger("click")}}}))},toggleSubGridRow:function(e){return this.each((function(){var t=this;if((t.grid||e)&&!0===t.p.subGrid){var i=$(this).jqGrid("getInd",e,!0);if(i){var r=$("td.sgcollapsed",i)[0];(r||(r=$("td.sgexpanded",i)[0]))&&$(r).trigger("click")}}}))}}),$.jgrid.extend({setTreeNode:function(e,t){return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var r,n,s,o,a,l,d,c,u=i.p.expColInd,p=i.p.treeReader.expanded_field,h=i.p.treeReader.leaf_field,f=i.p.treeReader.level_field,g=i.p.treeReader.icon_field,m=i.p.treeReader.loaded,v=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].common,b=e;for($(i).triggerHandler("jqGridBeforeSetTreeNode",[b,t]),$.isFunction(i.p.beforeSetTreeNode)&&i.p.beforeSetTreeNode.call(i,b,t);e<t;){var _=$.jgrid.stripPref(i.p.idPrefix,i.rows[e].id),y=i.p._index[_];d=i.p.data[y],"nested"===i.p.treeGridModel&&(d[h]||(r=parseInt(d[i.p.treeReader.left_field],10),n=parseInt(d[i.p.treeReader.right_field],10),d[h]=n===r+1?"true":"false",i.rows[e].cells[i.p._treeleafpos].innerHTML=d[h])),s=parseInt(d[f],10),0===i.p.tree_root_level?(o=s+1,a=s):(o=s,a=s-1),l="<div class='tree-wrap tree-wrap-"+i.p.direction+"' style='width:"+18*o+"px;'>",l+="<div style='"+("rtl"===i.p.direction?"right:":"left:")+18*a+"px;' class='"+v.icon_base+" ",void 0!==d[m]&&("true"===d[m]||!0===d[m]?d[m]=!0:d[m]=!1),"true"===d[h]||!0===d[h]?(l+=(void 0!==d[g]&&""!==d[g]?d[g]:i.p.treeIcons.leaf)+" tree-leaf treeclick",d[h]=!0,c="leaf"):(d[h]=!1,c=""),d[p]=("true"===d[p]||!0===d[p])&&(d[m]||void 0===d[m]),!1===d[p]?l+=!0===d[h]?"'":i.p.treeIcons.plus+" tree-plus treeclick'":l+=!0===d[h]?"'":i.p.treeIcons.minus+" tree-minus treeclick'",l+="></div></div>",$(i.rows[e].cells[u]).wrapInner("<span class='cell-wrapper"+c+"'></span>").prepend(l),s!==parseInt(i.p.tree_root_level,10)&&($(i).jqGrid("isVisibleNode",d)||$(i.rows[e]).css("display","none")),$(i.rows[e].cells[u]).find("div.treeclick").bind("click",(function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),n=i.p._index[r];return i.p.data[n][h]||(i.p.data[n][p]?($(i).jqGrid("collapseRow",i.p.data[n]),$(i).jqGrid("collapseNode",i.p.data[n])):($(i).jqGrid("expandRow",i.p.data[n]),$(i).jqGrid("expandNode",i.p.data[n]))),!1})),!0===i.p.ExpandColClick&&$(i.rows[e].cells[u]).find("span.cell-wrapper").css("cursor","pointer").bind("click",(function(e){var t=e.target||e.srcElement,r=$.jgrid.stripPref(i.p.idPrefix,$(t,i.rows).closest("tr.jqgrow")[0].id),n=i.p._index[r];return i.p.data[n][h]||(i.p.data[n][p]?($(i).jqGrid("collapseRow",i.p.data[n]),$(i).jqGrid("collapseNode",i.p.data[n])):($(i).jqGrid("expandRow",i.p.data[n]),$(i).jqGrid("expandNode",i.p.data[n]))),$(i).jqGrid("setSelection",r),!1})),e++}$(i).triggerHandler("jqGridAfterSetTreeNode",[b,t]),$.isFunction(i.p.afterSetTreeNode)&&i.p.afterSetTreeNode.call(i,b,t)}}))},setTreeGrid:function(){return this.each((function(){var e,t,i,r,n=this,s=0,o=!1,a=[],l=$.jgrid.styleUI[n.p.styleUI||"jQueryUI"].treegrid;if(n.p.treeGrid){for(i in n.p.treedatatype||$.extend(n.p,{treedatatype:n.p.datatype}),n.p.loadonce&&(n.p.treedatatype="local"),n.p.subGrid=!1,n.p.altRows=!1,n.p.pgbuttons=!1,n.p.pginput=!1,n.p.gridview=!0,null===n.p.rowTotal&&(n.p.rowNum=1e4),n.p.multiselect=!1,n.p.rowList=[],n.p.expColInd=0,e=l.icon_plus,"jQueryUI"===n.p.styleUI&&(e+="rtl"===n.p.direction?"w":"e"),n.p.treeIcons=$.extend({plus:e,minus:l.icon_minus,leaf:l.icon_leaf},n.p.treeIcons||{}),"nested"===n.p.treeGridModel?n.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.p.treeReader):"adjacency"===n.p.treeGridModel&&(n.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},n.p.treeReader)),n.p.colModel)if(n.p.colModel.hasOwnProperty(i))for(r in(t=n.p.colModel[i].name)!==n.p.ExpandColumn||o||(o=!0,n.p.expColInd=s),s++,n.p.treeReader)n.p.treeReader.hasOwnProperty(r)&&n.p.treeReader[r]===t&&a.push(t);$.each(n.p.treeReader,(function(e,t){t&&-1===$.inArray(t,a)&&("leaf_field"===e&&(n.p._treeleafpos=s),s++,n.p.colNames.push(t),n.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))}))}}))},expandRow:function(e){this.each((function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,n=e[t.p.localReader.id];!1!==(!$.isFunction(t.p.beforeExpandTreeGridRow)||t.p.beforeExpandTreeGridRow.call(t,n,e,i))&&($(i).each((function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display",""),this[r]&&$(t).jqGrid("expandRow",this)})),$.isFunction(t.p.afterExpandTreeGridRow)&&t.p.afterExpandTreeGridRow.call(t,n,e,i))}}))},collapseRow:function(e){this.each((function(){var t=this;if(t.grid&&t.p.treeGrid){var i=$(t).jqGrid("getNodeChildren",e),r=t.p.treeReader.expanded_field,n=e[t.p.localReader.id];!1!==(!$.isFunction(t.p.beforeCollapseTreeGridRow)||t.p.beforeCollapseTreeGridRow.call(t,n,e,i))&&($(i).each((function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display","none"),this[r]&&$(t).jqGrid("collapseRow",this)})),$.isFunction(t.p.afterCollapseTreeGridRow)&&t.p.afterCollapseTreeGridRow.call(t,n,e,i))}}))},getRootNodes:function(e){var t=[];return this.each((function(){var i,r,n,s=this;if(s.grid&&s.p.treeGrid)switch("boolean"!=typeof e&&(e=!1),n=e?$(s).jqGrid("getRowData",null,!0):s.p.data,s.p.treeGridModel){case"nested":i=s.p.treeReader.level_field,$(n).each((function(){parseInt(this[i],10)===parseInt(s.p.tree_root_level,10)&&(e?t.push(s.p.data[s.p._index[this[s.p.keyName]]]):t.push(this))}));break;case"adjacency":r=s.p.treeReader.parent_id_field,$(n).each((function(){null!==this[r]&&"null"!==String(this[r]).toLowerCase()||(e?t.push(s.p.data[s.p._index[this[s.p.keyName]]]):t.push(this))}))}})),t},getNodeDepth:function(e){var t=null;return this.each((function(){if(this.grid&&this.p.treeGrid){var i=this;switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.level_field;t=parseInt(e[r],10)-parseInt(i.p.tree_root_level,10);break;case"adjacency":t=$(i).jqGrid("getNodeAncestors",e).length}}})),t},getNodeParent:function(e){var t=null;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":var r=i.p.treeReader.left_field,n=i.p.treeReader.right_field,s=i.p.treeReader.level_field,o=parseInt(e[r],10),a=parseInt(e[n],10),l=parseInt(e[s],10);$(this.p.data).each((function(){if(parseInt(this[s],10)===l-1&&parseInt(this[r],10)<o&&parseInt(this[n],10)>a)return t=this,!1}));break;case"adjacency":for(var d=i.p.treeReader.parent_id_field,c=i.p.localReader.id,u=e[c],p=i.p._index[u];p--;)if(i.p.data[p][c]===$.jgrid.stripPref(i.p.idPrefix,e[d])){t=i.p.data[p];break}}})),t},getNodeChildren:function(e,t){var i=[];return this.each((function(){var r=this;if(r.grid&&r.p.treeGrid){var n,s,o=t?this.rows.length:this.p.data.length;switch(r.p.treeGridModel){case"nested":var a=r.p.treeReader.left_field,l=r.p.treeReader.right_field,d=r.p.treeReader.level_field,c=parseInt(e[a],10),u=parseInt(e[l],10),p=parseInt(e[d],10);for(n=0;n<o;n++)(s=t?r.p.data[r.p._index[this.rows[n].id]]:r.p.data[n])&&parseInt(s[d],10)===p+1&&parseInt(s[a],10)>c&&parseInt(s[l],10)<u&&i.push(s);break;case"adjacency":var h=r.p.treeReader.parent_id_field,f=r.p.localReader.id;for(n=0;n<o;n++)(s=t?r.p.data[r.p._index[this.rows[n].id]]:r.p.data[n])&&String(s[h])===$.jgrid.stripPref(r.p.idPrefix,e[f])&&i.push(s)}}})),i},getFullTreeNode:function(e,t){var i=[];return this.each((function(){var r,n=this,s=n.p.treeReader.expanded_field;if(n.grid&&n.p.treeGrid)switch(null!=t&&"boolean"==typeof t||(t=!1),n.p.treeGridModel){case"nested":var o=n.p.treeReader.left_field,a=n.p.treeReader.right_field,l=n.p.treeReader.level_field,d=parseInt(e[o],10),c=parseInt(e[a],10),u=parseInt(e[l],10);$(this.p.data).each((function(){parseInt(this[l],10)>=u&&parseInt(this[o],10)>=d&&parseInt(this[o],10)<=c&&(t&&(this[s]=!0),i.push(this))}));break;case"adjacency":if(e){i.push(e);var p=n.p.treeReader.parent_id_field,h=n.p.localReader.id;$(this.p.data).each((function(e){for(r=i.length,e=0;e<r;e++)if($.jgrid.stripPref(n.p.idPrefix,i[e][h])===this[p]){t&&(this[s]=!0),i.push(this);break}}))}}})),i},getNodeAncestors:function(e,t,i){var r=[];return void 0===t&&(t=!1),this.each((function(){if(this.grid&&this.p.treeGrid){i=void 0!==i&&this.p.treeReader.expanded_field;for(var n=$(this).jqGrid("getNodeParent",e);n;){if(i)try{n[i]=!0}catch(e){}t?r.unshift(n):r.push(n),n=$(this).jqGrid("getNodeParent",n)}}})),r},isVisibleNode:function(e){var t=!0;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var r=$(i).jqGrid("getNodeAncestors",e),n=i.p.treeReader.expanded_field;$(r).each((function(){if(!(t=t&&this[n]))return!1}))}})),t},isNodeLoaded:function(e){var t;return this.each((function(){var i=this;if(i.grid&&i.p.treeGrid){var r=i.p.treeReader.leaf_field,n=i.p.treeReader.loaded;t=void 0!==e&&(void 0!==e[n]?e[n]:!!(e[r]||$(i).jqGrid("getNodeChildren",e).length>0))}})),t},setLeaf:function(e,t,i){return this.each((function(){var r=$.jgrid.getAccessor(e,this.p.localReader.id),n=$("#"+r,this.grid.bDiv)[0],s=this.p.treeReader.leaf_field;try{var o=this.p._index[r];null!=o&&(this.p.data[o][s]=t)}catch(e){}if(!0===t)$("div.treeclick",n).removeClass(this.p.treeIcons.minus+" tree-minus "+this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.leaf+" tree-leaf");else if(!1===t){var a=this.p.treeIcons.minus+" tree-minus";i&&(a=this.p.treeIcons.plus+" tree-plus"),$("div.treeclick",n).removeClass(this.p.treeIcons.leaf+" tree-leaf").addClass(a)}}))},reloadNode:function(e,t){return this.each((function(){if(this.grid&&this.p.treeGrid){var i=this.p.localReader.id,r=this.p.selrow;$(this).jqGrid("delChildren",e[i]),void 0===t&&(t=!1),t||jQuery._data(this,"events").jqGridAfterSetTreeNode||$(this).bind("jqGridAfterSetTreeNode.reloadNode",(function(){var e=this.p.treeReader.leaf_field;if(this.p.reloadnode){var t=this.p.reloadnode,i=$(this).jqGrid("getNodeChildren",t);t[e]&&i.length?$(this).jqGrid("setLeaf",t,!1):t[e]||0!==i.length||$(this).jqGrid("setLeaf",t,!0)}this.p.reloadnode=!1}));var n=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,o=this.p.treeReader.loaded,a=this.p.treeReader.level_field,l=this.p.treeReader.leaf_field,d=this.p.treeReader.left_field,c=this.p.treeReader.right_field,u=$.jgrid.getAccessor(e,this.p.localReader.id),p=$("#"+u,this.grid.bDiv)[0];e[n]=!0,e[l]||$("div.treeclick",p).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=p.rowIndex,this.p.datatype=this.p.treedatatype,this.p.reloadnode=e,t&&(this.p.treeANode=p.rowIndex>0?p.rowIndex-1:1,$(this).jqGrid("delRowData",u)),"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:u,n_left:e[d],n_right:e[c],n_level:e[a]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:u,parentid:e[s],n_level:e[a]}}),$(this).trigger("reloadGrid"),e[o]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:r,postData:{nodeid:"",parentid:"",n_level:""}})}}))},expandNode:function(e){return this.each((function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field,i=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,n=this.p.treeReader.level_field,s=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!e[t]){var a=$.jgrid.getAccessor(e,this.p.localReader.id),l=$("#"+this.p.idPrefix+$.jgrid.jqID(a),this.grid.bDiv)[0],d=this.p._index[a];if(!1===(!$.isFunction(this.p.beforeExpandTreeGridNode)||this.p.beforeExpandTreeGridNode.call(this,a,e)))return;$(this).jqGrid("isNodeLoaded",this.p.data[d])?(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(e[t]=!0,$("div.treeclick",l).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=l.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:a,n_left:e[s],n_right:e[o],n_level:e[n]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:a,parentid:e[i],n_level:e[n]}}),$(this).trigger("reloadGrid"),e[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,a,e)}}}))},collapseNode:function(e){return this.each((function(){if(this.grid&&this.p.treeGrid){var t=this.p.treeReader.expanded_field;if(e[t]){var i=$.jgrid.getAccessor(e,this.p.localReader.id),r=!$.isFunction(this.p.beforeCollapseTreeGridNode)||this.p.beforeCollapseTreeGridNode.call(this,i,e),n=$("#"+this.p.idPrefix+$.jgrid.jqID(i),this.grid.bDiv)[0];if(e[t]=!1,!1===r)return;$("div.treeclick",n).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,i,e)}}}))},SortTree:function(e,t,i,r){return this.each((function(){if(this.grid&&this.p.treeGrid){var n,s,o,a,l,d=[],c=this,u=$(this).jqGrid("getRootNodes",c.p.search);for((a=$.jgrid.from.call(this,u)).orderBy(e,t,i,r),n=0,s=(l=a.select()).length;n<s;n++)o=l[n],d.push(o),$(this).jqGrid("collectChildrenSortTree",d,o,e,t,i,r);$.each(d,(function(e){var t=$.jgrid.getAccessor(this,c.p.localReader.id);$("#"+$.jgrid.jqID(c.p.id)+" tbody tr:eq("+e+")").after($("tr#"+$.jgrid.jqID(t),c.grid.bDiv))})),a=null,l=null,d=null}}))},searchTree:function(e){var t,i,r,n,s,o,a=e.length||0,l=[],d=[],c=[];return this.each((function(){if(this.grid&&this.p.treeGrid&&a)for(t=this.p.localReader.id;a--;)if((l=$(this).jqGrid("getNodeAncestors",e[a],!0,!0)).push(e[a]),i=l[0][t],-1===$.inArray(i,d))d.push(i),c=c.concat(l);else for(s=0,r=l.length;s<r;s++){var u=!1;for(o=0,n=c.length;o<n;o++)if(l[s][t]===c[o][t]){u=!0;break}u||c.push(l[s])}})),c},collectChildrenSortTree:function(e,t,i,r,n,s){return this.each((function(){var o,a,l,d,c,u;if(this.grid&&this.p.treeGrid)for(d=$(this).jqGrid("getNodeChildren",t,this.p.search),(c=$.jgrid.from.call(this,d)).orderBy(i,r,n,s),o=0,a=(u=c.select()).length;o<a;o++)l=u[o],e.push(l),$(this).jqGrid("collectChildrenSortTree",e,l,i,r,n,s)}))},setTreeRow:function(e,t){var i=!1;return this.each((function(){var r=this;r.grid&&r.p.treeGrid&&(i=$(r).jqGrid("setRowData",e,t))})),i},delTreeNode:function(e){return this.each((function(){var t,i,r,n,s,o=this,a=o.p.localReader.id,l=o.p.treeReader.left_field,d=o.p.treeReader.right_field;if(o.grid&&o.p.treeGrid){var c=o.p._index[e];if(void 0!==c){r=(i=parseInt(o.p.data[c][d],10))-parseInt(o.p.data[c][l],10)+1;var u=$(o).jqGrid("getFullTreeNode",o.p.data[c]);if(u.length>0)for(t=0;t<u.length;t++)$(o).jqGrid("delRowData",u[t][a]);if("nested"===o.p.treeGridModel){if((n=$.jgrid.from.call(o,o.p.data).greater(l,i,{stype:"integer"}).select()).length)for(s in n)n.hasOwnProperty(s)&&(n[s][l]=parseInt(n[s][l],10)-r);if((n=$.jgrid.from.call(o,o.p.data).greater(d,i,{stype:"integer"}).select()).length)for(s in n)n.hasOwnProperty(s)&&(n[s][d]=parseInt(n[s][d],10)-r)}}}}))},delChildren:function(e){return this.each((function(){var t,i,r,n,s=this,o=s.p.localReader.id,a=s.p.treeReader.left_field,l=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var d=s.p._index[e];if(void 0!==d){i=(t=parseInt(s.p.data[d][l],10))-parseInt(s.p.data[d][a],10)+1;var c=$(s).jqGrid("getFullTreeNode",s.p.data[d]);if(c.length>0)for(var u=0;u<c.length;u++)c[u][o]!==e&&$(s).jqGrid("delRowData",c[u][o]);if("nested"===s.p.treeGridModel){if((r=$.jgrid.from(s.p.data).greater(a,t,{stype:"integer"}).select()).length)for(n in r)r.hasOwnProperty(n)&&(r[n][a]=parseInt(r[n][a],10)-i);if((r=$.jgrid.from(s.p.data).greater(l,t,{stype:"integer"}).select()).length)for(n in r)r.hasOwnProperty(n)&&(r[n][l]=parseInt(r[n][l],10)-i)}}}}))},addChildNode:function(e,t,i,r){var n=this[0];if(i){var s,o,a,l,d,c,u,p,h=n.p.treeReader.expanded_field,f=n.p.treeReader.leaf_field,g=n.p.treeReader.level_field,m=n.p.treeReader.parent_id_field,v=n.p.treeReader.left_field,b=n.p.treeReader.right_field,_=n.p.treeReader.loaded,y=0,w=t;if(void 0===r&&(r=!1),null==e){if((d=n.p.data.length-1)>=0)for(;d>=0;)y=Math.max(y,parseInt(n.p.data[d][n.p.localReader.id],10)),d--;e=y+1}var x,j,D=$(n).jqGrid("getInd",t);if(u=!1,null==t||""===t)t=null,w=null,s="last",l=n.p.tree_root_level,d=n.p.data.length+1;else{s="after",o=n.p._index[t],t=(a=n.p.data[o])[n.p.localReader.id],l=parseInt(a[g],10)+1;var k=$(n).jqGrid("getFullTreeNode",a);k.length?(w=d=k[k.length-1][n.p.localReader.id],d=$(n).jqGrid("getInd",w)+1):d=$(n).jqGrid("getInd",t)+1,a[f]&&(u=!0,a[h]=!0,$(n.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(n.p.treeIcons.leaf+" tree-leaf").addClass(n.p.treeIcons.minus+" tree-minus"),n.p.data[o][f]=!1,a[_]=!0)}if(c=d+1,void 0===i[h]&&(i[h]=!1),void 0===i[_]&&(i[_]=!1),i[g]=l,void 0===i[f]&&(i[f]=!0),"adjacency"===n.p.treeGridModel&&(i[m]=t),"nested"===n.p.treeGridModel)if(null!==t){if(p=parseInt(a[b],10),(x=$.jgrid.from.call(n,n.p.data).greaterOrEquals(b,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][v]=x[j][v]>p?parseInt(x[j][v],10)+2:x[j][v],x[j][b]=x[j][b]>=p?parseInt(x[j][b],10)+2:x[j][b]);i[v]=p,i[b]=p+1}else{if(p=parseInt($(n).jqGrid("getCol",b,!1,"max"),10),(x=$.jgrid.from.call(n,n.p.data).greater(v,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][v]=parseInt(x[j][v],10)+2);if((x=$.jgrid.from.call(n,n.p.data).greater(b,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][b]=parseInt(x[j][b],10)+2);i[v]=p+1,i[b]=p+2}(null===t||$(n).jqGrid("isNodeLoaded",a)||u)&&($(n).jqGrid("addRowData",e,i,s,w),$(n).jqGrid("setTreeNode",d,c)),a&&!a[h]&&r&&$(n.rows[D]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(e){return i(this,e,"d")},$.fn.jqResize=function(e,t){return i(this,e,"r",t)},$.jqDnR={dnr:{},e:0,drag:function(e){return"d"==M.k?E.css({left:M.X+e.pageX-M.pX,top:M.Y+e.pageY-M.pY}):(E.css({width:Math.max(e.pageX-M.pX+M.W,0),height:Math.max(e.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(e.pageX-M1.pX+M1.W,0),height:Math.max(e.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).unbind("mousemove",J.drag).unbind("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(e,t,i,r){return e.each((function(){(t=t?$(t,e):e).bind("mousedown",{e:e,k:i},(function(e){var t=e.data,i={};if(E=t.e,E1=!!r&&$(r),"relative"!=E.css("position"))try{E.position(i)}catch(e){}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},M1=!(!E1||"d"==t.k)&&{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},$("input.hasDatepicker",E[0])[0])try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(e){}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1}))}))},f=function(e){return parseInt(E.css(e),10)||!1},f1=function(e){return parseInt(E1.css(e),10)||!1};$.fn.tinyDraggable=function(e){var t=$.extend({handle:0,exclude:0},e);return this.each((function(){var e,i,r=$(this);(t.handle?$(t.handle,r):r).on({mousedown:function(n){if(!t.exclude||!~$.inArray(n.target,$(t.exclude,r))){n.preventDefault();var s=r.offset();e=n.pageX-s.left,i=n.pageY-s.top,$(document).on("mousemove.drag",(function(t){r.offset({top:t.pageY-i,left:t.pageX-e})}))}},mouseup:function(){$(document).off("mousemove.drag")}})}))},$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each((function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,e);s++,this._jqm=s,H[s]={c:$.extend(t,$.jqm.params,e),a:F,w:$(this).addClass("jqmID"+s),s:s},t.trigger&&$(this).jqmAddTrigger(t.trigger)}))},$.fn.jqmAddClose=function(e){return hs(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return hs(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each((function(){$.jqm.open(this._jqm,e)}))},$.fn.jqmHide=function(e){return this.each((function(){$.jqm.close(this._jqm,e)}))},$.jqm={hash:{},open:function(t,i){var r=H[t],n=r.c,s="."+n.closeClass,o=parseInt(r.w.css("z-index"));o=o>0?o:3e3;var a=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":o-1,opacity:n.overlay/100});if(r.a)return F;if(r.t=i,r.a=!0,r.w.css("z-index",o),n.modal?(A[0]||setTimeout((function(){new L("bind")}),1),A.push(t)):n.overlay>0?n.closeoverlay&&r.w.jqmAddClose(a):a=F,r.o=a?a.addClass(n.overlayClass).prependTo("body"):F,n.ajax){var l=n.target||r.w,d=n.ajax;l="string"==typeof l?$(l,r.w):$(l),d="@"===d.substr(0,1)?$(i).attr(d.substring(1)):d,l.html(n.ajaxText).load(d,(function(){n.onLoad&&n.onLoad.call(this,r),s&&r.w.jqmAddClose($(s,r.w)),e(r)}))}else s&&r.w.jqmAddClose($(s,r.w));return n.toTop&&r.o&&r.w.before('<span id="jqmP'+r.w[0]._jqm+'"></span>').insertAfter(r.o),n.onShow?n.onShow(r):r.w.show(),e(r),F},close:function(e){var t=H[e];return t.a?(t.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(e){void 0===e.c.focusField&&(e.c.focusField=0),e.c.focusField>=0&&f(e)},f=function(e){try{$(":input:visible",e.w)[parseInt(e.c.focusField,10)].focus()}catch(e){}},L=function(e){$(document)[e]("keypress",m)[e]("keydown",m)[e]("mousedown",m)},m=function(e){var t=H[A[A.length-1]],i=!$(e.target).parents(".jqmID"+t.s)[0];return i&&($(".jqmID"+t.s).each((function(){var t=$(this),r=t.offset();if(r.top<=e.pageY&&e.pageY<=r.top+t.height()&&r.left<=e.pageX&&e.pageX<=r.left+t.width())return i=!1,!1})),f(t)),!i},hs=function(e,t,i){return e.each((function(){var e=this._jqm;$(t).each((function(){this[i]||(this[i]=[],$(this).click((function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])H[this[e][t]]&&H[this[e][t]].w[e](this);return F}))),this[i].push(e)}))}))};$.fmatter={},$.extend($.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=$.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),$.fn.fmatter=function(e,t,i,r,n){var s=t;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{s=$.fn.fmatter[e].call(this,t,i,r,n)}catch(e){}return s},$.fmatter.util={NumberFormat:function(e,t){if($.fmatter.isNumber(e)||(e*=1),$.fmatter.isNumber(e)){var i,r=e<0,n=String(e),s=t.decimalSeparator||".";if($.fmatter.isNumber(t.decimalPlaces)){var o=t.decimalPlaces,a=Math.pow(10,o);if(i=(n=String(Math.round(e*a)/a)).lastIndexOf("."),o>0)for(i<0?i=(n+=s).length-1:"."!==s&&(n=n.replace(".",s));n.length-1-i<o;)n+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;i=(i=n.lastIndexOf(s))>-1?i:n.length;var d,c=n.substring(i),u=-1;for(d=i;d>0;d--)++u%3==0&&d!==i&&(!r||d>1)&&(c=l+c),
c=n.charAt(d-1)+c;n=c}return n=t.prefix?t.prefix+n:n,n=t.suffix?n+t.suffix:n}return e}},$.fn.fmatter.defaultFormat=function(e,t){return $.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},$.fn.fmatter.email=function(e,t){return $.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},$.fn.fmatter.checkbox=function(e,t){var i,r=$.extend({},t.checkbox);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),i=!0===r.disabled?'disabled="disabled"':"",($.fmatter.isEmpty(e)||void 0===e)&&(e=$.fn.fmatter.defaultFormat(e,r)),'<input type="checkbox" '+((e=((e=String(e))+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+e+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(e,t){var i={target:t.target},r="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),i.target&&(r="target="+i.target),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):"<a "+r+' href="'+e+'">'+e+"</a>"},$.fn.fmatter.showlink=function(e,t){var i,r={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},n="";return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(r=$.extend({},r,t.colModel.formatoptions)),r.target&&(n="target="+r.target),i=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+t.rowId+r.addParam,$.fmatter.isString(e)||$.fmatter.isNumber(e)?"<a "+n+' href="'+i+'">'+e+"</a>":$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.integer=function(e,t){var i=$.extend({},t.integer);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.number=function(e,t){var i=$.extend({},t.number);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.currency=function(e,t){var i=$.extend({},t.currency);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.date=function(e,t,i,r){var n=$.extend({},t.date);return void 0!==t.colModel&&void 0!==t.colModel.formatoptions&&(n=$.extend({},n,t.colModel.formatoptions)),n.reformatAfterEdit||"edit"!==r?$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,n.srcformat,e,n.newformat,n):$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.select=function(e,t){e=String(e);var i,r,n=!1,s=[];if(void 0!==t.colModel.formatoptions?(n=t.colModel.formatoptions.value,i=void 0===t.colModel.formatoptions.separator?":":t.colModel.formatoptions.separator,r=void 0===t.colModel.formatoptions.delimiter?";":t.colModel.formatoptions.delimiter):void 0!==t.colModel.editoptions&&(n=t.colModel.editoptions.value,i=void 0===t.colModel.editoptions.separator?":":t.colModel.editoptions.separator,r=void 0===t.colModel.editoptions.delimiter?";":t.colModel.editoptions.delimiter),n){var o,a=!0==(null!=t.colModel.editoptions&&!0===t.colModel.editoptions.multiple),l=[];if(a&&(l=e.split(","),l=$.map(l,(function(e){return $.trim(e)}))),$.fmatter.isString(n)){var d,c=n.split(r),u=0;for(d=0;d<c.length;d++)if((o=c[d].split(i)).length>2&&(o[1]=$.map(o,(function(e,t){if(t>0)return e})).join(i)),a)$.inArray(o[0],l)>-1&&(s[u]=o[1],u++);else if($.trim(o[0])===$.trim(e)){s[0]=o[1];break}}else $.fmatter.isObject(n)&&(a?s=$.map(l,(function(e){return n[e]})):s[0]=n[e]||"")}return""===(e=s.join(", "))?$.fn.fmatter.defaultFormat(e,t):e},$.fn.fmatter.rowactions=function(e){var t=$(this).closest("tr.jqgrow"),i=t.attr("id"),r=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),n=$("#"+r),s=n[0],o=s.p,a=o.colModel[$.jgrid.getCellIndex(this)],l=a.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",n):$(this).parent(),d={extraparam:{}},c=function(e,t){$.isFunction(d.afterSave)&&d.afterSave.call(s,e,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},u=function(e){$.isFunction(d.afterRestore)&&d.afterRestore.call(s,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};void 0!==a.formatoptions&&(d=$.extend(d,a.formatoptions)),void 0!==o.editOptions&&(d.editOptions=o.editOptions),void 0!==o.delOptions&&(d.delOptions=o.delOptions),t.hasClass("jqgrid-new-row")&&(d.extraparam[o.prmNames.oper]=o.prmNames.addoper);var p={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:c,errorfunc:d.onError,afterrestorefunc:u,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(e){case"edit":n.jqGrid("editRow",i,p),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),n.triggerHandler("jqGridAfterGridComplete");break;case"save":n.jqGrid("saveRow",i,p)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),n.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":n.jqGrid("restoreRow",i,u),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),n.triggerHandler("jqGridAfterGridComplete");break;case"del":n.jqGrid("delGridRow",i,d.delOptions);break;case"formedit":n.jqGrid("setSelection",i),n.jqGrid("editGridRow",i,d.editOptions)}},$.fn.fmatter.actions=function(e,t){var i,r={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},n=t.rowId,s="",o=$.jgrid.getRegional(this,"nav"),a=$.jgrid.styleUI[t.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[t.styleUI||"jQueryUI"].common;if(void 0!==t.colModel.formatoptions&&(r=$.extend(r,t.colModel.formatoptions)),void 0===n||$.fmatter.isEmpty(n))return"";var d="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return r.editformbutton?(i="id='jEditButton_"+n+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+d,s+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"):r.editbutton&&(i="id='jEditButton_"+n+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+d,s+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"),r.delbutton&&(i="id='jDeleteButton_"+n+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+d,s+="<div title='"+o.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+a.icon_del+"'></span></div>"),i="id='jSaveButton_"+n+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+d,s+="<div title='"+o.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+a.icon_save+"'></span></div>",i="id='jCancelButton_"+n+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+d,"<div style='margin-left:8px;'>"+(s+="<div title='"+o.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+a.icon_cancel+"'></span></div>")+"</div>"},$.unformat=function(e,t,i,r){var n,s,o=t.colModel.formatter,a=t.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=t.colModel.unformat||$.fn.fmatter[o]&&$.fn.fmatter[o].unformat;if(void 0!==d&&$.isFunction(d))n=d.call(this,$(e).text(),t,e);else if(void 0!==o&&$.fmatter.isString(o)){var c,u=$.jgrid.getRegional(this,"formatter")||{};switch(o){case"integer":s=(a=$.extend({},u.integer,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),n=$(e).text().replace(c,"");break;case"number":s=(a=$.extend({},u.number,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),n=$(e).text().replace(c,"").replace(a.decimalSeparator,".");break;case"currency":s=(a=$.extend({},u.currency,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),n=$(e).text(),a.prefix&&a.prefix.length&&(n=n.substr(a.prefix.length)),a.suffix&&a.suffix.length&&(n=n.substr(0,n.length-a.suffix.length)),n=n.replace(c,"").replace(a.decimalSeparator,".");break;case"checkbox":var p=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"];n=$("input",e).is(":checked")?p[0]:p[1];break;case"select":n=$.unformat.select(e,t,i,r);break;case"actions":return"";default:n=$(e).text()}}return void 0!==n?n:!0===r?$(e).text():$.jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,r){var n=[],s=$(e).text();if(!0===r)return s;var o=$.extend({},void 0!==t.colModel.formatoptions?t.colModel.formatoptions:t.colModel.editoptions),a=void 0===o.separator?":":o.separator,l=void 0===o.delimiter?";":o.delimiter;if(o.value){var d,c=o.value,u=!0===o.multiple,p=[];if(u&&(p=s.split(","),p=$.map(p,(function(e){return $.trim(e)}))),$.fmatter.isString(c)){var h,f=c.split(l),g=0;for(h=0;h<f.length;h++)if((d=f[h].split(a)).length>2&&(d[1]=$.map(d,(function(e,t){if(t>0)return e})).join(a)),u)$.inArray($.trim(d[1]),p)>-1&&(n[g]=d[0],g++);else if($.trim(d[1])===$.trim(s)){n[0]=d[0];break}}else($.fmatter.isObject(c)||$.isArray(c))&&(u||(p[0]=s),n=$.map(p,(function(e){var t;if($.each(c,(function(i,r){if(r===e)return t=i,!1})),void 0!==t)return t})));return n.join(", ")}return s||""},$.unformat.date=function(e,t){var i=$.jgrid.getRegional(this,"formatter.date")||{};return void 0!==t.formatoptions&&(i=$.extend({},i,t.formatoptions)),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)};var dragging,placeholders=$();$.fn.html5sortable=function(e){var t=String(e);return e=$.extend({connectWith:!1},e),this.each((function(){if(/^enable|disable|destroy$/.test(t)){var i=$(this).children($(this).data("items")).attr("draggable","enable"===t);"destroy"===t&&i.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}else{i=$(this).children(e.items);var r,n,s=$("<"+(/^ul|ol$/i.test(this.tagName)?"li":/^tbody$/i.test(this.tagName)?"tr":"div")+' class="sortable-placeholder '+e.placeholderClass+'">').html("&nbsp;");i.find(e.handle).mousedown((function(){r=!0})).mouseup((function(){r=!1})),$(this).data("items",e.items),placeholders=placeholders.add(s),e.connectWith&&$(e.connectWith).add(this).data("connectWith",e.connectWith),i.attr("draggable","true").on("dragstart.h5s",(function(t){if(e.handle&&!r)return!1;r=!1;var i=t.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),n=(dragging=$(this)).addClass("sortable-dragging").index()})).on("dragend.h5s",(function(){dragging&&(dragging.removeClass("sortable-dragging").show(),placeholders.detach(),n!==dragging.index()&&dragging.parent().trigger("sortupdate",{item:dragging,startindex:n,endindex:dragging.index()}),dragging=null)})).not("a[href], img").on("selectstart.h5s",(function(){return this.dragDrop&&this.dragDrop(),!1})).end().add([this,s]).on("dragover.h5s dragenter.h5s drop.h5s",(function(t){return!i.is(dragging)&&e.connectWith!==$(dragging).parent().data("connectWith")||("drop"===t.type?(t.stopPropagation(),placeholders.filter(":visible").after(dragging),dragging.trigger("dragend.h5s"),!1):(t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="move",i.is(this)?(e.forcePlaceholderSize&&s.height(dragging.outerHeight()),dragging.hide(),$(this)[s.index()<$(this).index()?"after":"before"](s),placeholders.not(s).detach()):placeholders.is(this)||$(this).children(e.items).length||(placeholders.detach(),$(this).append(s)),!1))}))}}))},window.jqGridUtils={stringify:function(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?t.toString():t}))},parse:function(str){return JSON.parse(str,(function(key,value){if("string"==typeof value&&-1!==value.indexOf("function")){var sv=value.split(" ");return"function"===sv[0].trim()&&"}"===value.trim().slice(-1)?eval("("+value+")"):value}return value}))},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var i=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),r=this,n=function(e,t){return"#text"===e?i.encode?r.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(i.encode?r.encode(t):t)+"</"+e+">\n"},s=function(e,t){for(var i=[],r=0;r<t.length;r++){var a=t[r];void 0===a||null==a?i[i.length]="<"+e+" />":"object"==typeof a&&a.constructor==Array?i[i.length]=s(e,a):i[i.length]="object"==typeof a?o(e,a):n(e,a)}return i.length||(i[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),i.join("")},o=function(e,t){var a=[],l=[];for(var d in t)if(t.hasOwnProperty(d)){var c=t[d];d.charAt(0)!==i.attr_prefix?null==c?a[a.length]="<"+d+" />":"object"==typeof c&&c.constructor===Array?a[a.length]=s(d,c):a[a.length]="object"==typeof c?o(d,c):n(d,c):l[l.length]=" "+d.substring(1)+'="'+(i.encode?r.encode(c):c)+'"'}var u=l.join(""),p=a.join("");return null==e||(p=a.length>0?p.match(/\n/)?"<"+e+u+">\n"+p+"</"+e+">\n":"<"+e+u+">"+p+"</"+e+">\n":"<"+e+u+" />\n"),p},a=o(null,e);return i.xmlDecl+a},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,i,r,n,s={};if(e.attributes&&e.attributes.length)for(t={},i=0;i<e.attributes.length;i++)"string"==typeof(r=e.attributes[i].nodeName)&&(n=e.attributes[i].nodeValue)&&(void 0===s[r=o.attr_prefix+r]&&(s[r]=0),s[r]++,addNode(t,r,s[r],n));if(e.childNodes&&e.childNodes.length){var a=!0;for(t&&(a=!1),i=0;i<e.childNodes.length&&a;i++){var l=e.childNodes[i].nodeType;3!==l&&4!==l&&(a=!1)}if(a)for(t||(t=""),i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].nodeValue;else for(t||(t={}),i=0;i<e.childNodes.length;i++)"string"==typeof(r=e.childNodes[i].nodeName)&&(n=parseElement(e.childNodes[i]))&&(void 0===s[r]&&(s[r]=0),s[r]++,addNode(t,r,s[r],n))}return t}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}}})),function(){"use strict";var e,t,i,r,n,s;n=864e5,s=3600,e=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},t=function(e,i,r){var n=r||"0",s=e.toString();return s.length<i?t(n+s,i):s},i=function(e){var t,r;for(e=e||{},t=1;t<arguments.length;t++)if(r=arguments[t])for(var n in r)r.hasOwnProperty(n)&&("object"==typeof r[n]?i(e[n],r[n]):e[n]=r[n]);return e},r={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,i={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&i[t]?i[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},DateFormatter=function(e){var t=this,n=i(r,e);t.dateSettings=n.dateSettings,t.separators=n.separators,t.validParts=n.validParts,t.intParts=n.intParts,t.tzParts=n.tzParts,t.tzClip=n.tzClip},DateFormatter.prototype={constructor:DateFormatter,parseDate:function(t,i){var r,n,s,o,a,l,d,c,u,p,h=this,f=!1,g=!1,m=h.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);if("U"===i)return(s=parseInt(t))?new Date(1e3*s):t;if("string"!=typeof t)return"";if(!(r=i.match(h.validParts))||0===r.length)throw new Error("Invalid date format definition.");for(n=t.replace(h.separators,"\0").split("\0"),s=0;s<n.length;s++)switch(o=n[s],a=parseInt(o),r[s]){case"y":case"Y":2===(u=o.length)?v.year=parseInt((70>a?"20":"19")+o):4===u&&(v.year=a),f=!0;break;case"m":case"n":case"M":case"F":isNaN(o)?((l=m.monthsShort.indexOf(o))>-1&&(v.month=l+1),(l=m.months.indexOf(o))>-1&&(v.month=l+1)):a>=1&&12>=a&&(v.month=a),f=!0;break;case"d":case"j":a>=1&&31>=a&&(v.day=a),f=!0;break;case"g":case"h":p=n[d=r.indexOf("a")>-1?r.indexOf("a"):r.indexOf("A")>-1?r.indexOf("A"):-1],d>-1?(c=e(p,m.meridiem[0])?0:e(p,m.meridiem[1])?12:-1,a>=1&&12>=a&&c>-1?v.hour=a+c-1:a>=0&&23>=a&&(v.hour=a)):a>=0&&23>=a&&(v.hour=a),g=!0;break;case"G":case"H":a>=0&&23>=a&&(v.hour=a),g=!0;break;case"i":a>=0&&59>=a&&(v.min=a),g=!0;break;case"s":a>=0&&59>=a&&(v.sec=a),g=!0}if(!0===f&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==g)return!1;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date}},guessDate:function(e,t){if("string"!=typeof e)return e;var i,r,n,s,o=this,a=e.replace(o.separators,"\0").split("\0"),l=/^[djmn]/g,d=t.match(o.validParts),c=new Date,u=0;if(!l.test(d[0]))return e;for(r=0;r<a.length;r++){switch(u=2,n=a[r],s=parseInt(n.substr(0,2)),r){case 0:"m"===d[0]||"n"===d[0]?c.setMonth(s-1):c.setDate(s);break;case 1:"m"===d[0]||"n"===d[0]?c.setDate(s):c.setMonth(s-1);break;case 2:i=c.getFullYear(),n.length<4?(c.setFullYear(parseInt(i.toString().substr(0,4-n.length)+n)),u=n.length):(c.setFullYear=parseInt(n.substr(0,4)),u=4);break;case 3:c.setHours(s);break;case 4:c.setMinutes(s);break;case 5:c.setSeconds(s)}n.substr(u).length>0&&a.splice(r+1,0,n.substr(u))}return c},parseFormat:function(e,i){var r,o=this,a=o.dateSettings,l=/\\?(.?)/gi,d=function(e,t){return r[e]?r[e]():t};return r={d:function(){return t(r.j(),2)},D:function(){return a.daysShort[r.w()]},j:function(){return i.getDate()},l:function(){return a.days[r.w()]},N:function(){return r.w()||7},w:function(){return i.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/n)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),i=new Date(e.getFullYear(),0,4);return t(1+Math.round((e-i)/n/7),2)},F:function(){return a.months[i.getMonth()]},m:function(){return t(r.n(),2)},M:function(){return a.monthsShort[i.getMonth()]},n:function(){return i.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=r.n(),t=r.W();return r.Y()+(12===e&&9>t?1:1===e&&t>9?-1:0)},Y:function(){return i.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return r.A().toLowerCase()},A:function(){var e=r.G()<12?0:1;return a.meridiem[e]},B:function(){var e=i.getUTCHours()*s,r=60*i.getUTCMinutes(),n=i.getUTCSeconds();return t(Math.floor((e+r+n+s)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return i.getHours()},h:function(){return t(r.g(),2)},H:function(){return t(r.G(),2)},i:function(){return t(i.getMinutes(),2)},s:function(){return t(i.getSeconds(),2)},u:function(){return t(1e3*i.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(i))[1]||"Coordinated Universal Time"},T:function(){return(String(i).match(o.tzParts)||[""]).pop().replace(o.tzClip,"")||"UTC"},I:function(){return new Date(r.Y(),0)-Date.UTC(r.Y(),0)!=new Date(r.Y(),6)-Date.UTC(r.Y(),6)?1:0},O:function(){var e=i.getTimezoneOffset(),r=Math.abs(e);return(e>0?"-":"+")+t(100*Math.floor(r/60)+r%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-i.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,d)},r:function(){return"D, d M Y H:i:s O".replace(l,d)},U:function(){return i.getTime()/1e3||0}},d(e,e)},formatDate:function(e,t){var i,r,n,s,o,a=this,l="";if("string"==typeof e&&!1===(e=a.parseDate(e,t)))return!1;if(e instanceof Date){for(n=t.length,i=0;n>i;i++)"S"!==(o=t.charAt(i))&&(s=a.parseFormat(o,e),i!==n-1&&a.intParts.test(o)&&"S"===t.charAt(i+1)&&(r=parseInt(s),s+=a.dateSettings.ordinal(r)),l+=s);return l}return""}}}(),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],e):"object"==typeof exports?module.exports=e:e(jQuery)}((function(e){"use strict";function t(e,t,i){this.date=e,this.desc=t,this.style=i}var i={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],dayOfWeekShort:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"],dayOfWeek:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a","\u0627\u0644\u0623\u062d\u062f"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","S\xe2"],dayOfWeek:["Duminic\u0103","Luni","Mar\u0163i","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"],dayOfWeekShort:["Sun","M\xe1n","\xderi\xf0","Mi\xf0","Fim","F\xf6s","Lau"],dayOfWeek:["Sunnudagur","M\xe1nudagur","\xderi\xf0judagur","Mi\xf0vikudagur","Fimmtudagur","F\xf6studagur","Laugardagur"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u044f\u0434\u0430","\u0427\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u041f\u0435\u0442\u044a\u043a","\u0421\u044a\u0431\u043e\u0442\u0430"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeekShort:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],dayOfWeek:["\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647","\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeekShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeekShort:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"],dayOfWeek:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeekShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayOfWeek:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeekShort:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],dayOfWeek:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeekShort:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],dayOfWeek:["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeekShort:["nd","pn","wt","\u015br","cz","pt","sb"],dayOfWeek:["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},no:{
months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeekShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayOfWeek:["\u65e5\u66dc","\u6708\u66dc","\u706b\u66dc","\u6c34\u66dc","\u6728\u66dc","\u91d1\u66dc","\u571f\u66dc"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Ch\u1ee7 nh\u1eadt","Th\u1ee9 hai","Th\u1ee9 ba","Th\u1ee9 t\u01b0","Th\u1ee9 n\u0103m","Th\u1ee9 s\xe1u","Th\u1ee9 b\u1ea3y"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},hu:{months:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],dayOfWeekShort:["Va","H\xe9","Ke","Sze","Cs","P\xe9","Szo"],dayOfWeek:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","\xc7a","\xc7","Ca","C","\u015e"],dayOfWeek:["Bazar","Bazar ert\u0259si","\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131","\xc7\u0259r\u015f\u0259nb\u0259","C\xfcm\u0259 ax\u015fam\u0131","C\xfcm\u0259","\u015e\u0259nb\u0259"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","M\xe4rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["P\xfchap\xe4ev","Esmasp\xe4ev","Teisip\xe4ev","Kolmap\xe4ev","Neljap\xe4ev","Reede","Laup\xe4ev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","M\xe9rcores","Xoves","Venres","S\xe1bado"]},hr:{months:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ko:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},lt:{months:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Tre\u010diadienis","Ketvirtadienis","Penktadienis","\u0160e\u0161tadienis"]},lv:{months:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis ","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Sv\u0113tdiena","Pirmdiena","Otrdiena","Tre\u0161diena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u043e\u043a","\u041f\u0435\u0442\u043e\u043a","\u0421\u0430\u0431\u043e\u0442\u0430"]},mn:{months:["1-\u0440 \u0441\u0430\u0440","2-\u0440 \u0441\u0430\u0440","3-\u0440 \u0441\u0430\u0440","4-\u0440 \u0441\u0430\u0440","5-\u0440 \u0441\u0430\u0440","6-\u0440 \u0441\u0430\u0440","7-\u0440 \u0441\u0430\u0440","8-\u0440 \u0441\u0430\u0440","9-\u0440 \u0441\u0430\u0440","10-\u0440 \u0441\u0430\u0440","11-\u0440 \u0441\u0430\u0440","12-\u0440 \u0441\u0430\u0440"],dayOfWeekShort:["\u0414\u0430\u0432","\u041c\u044f\u0433","\u041b\u0445\u0430","\u041f\u04af\u0440","\u0411\u0441\u043d","\u0411\u044f\u043c","\u041d\u044f\u043c"],dayOfWeek:["\u0414\u0430\u0432\u0430\u0430","\u041c\u044f\u0433\u043c\u0430\u0440","\u041b\u0445\u0430\u0433\u0432\u0430","\u041f\u04af\u0440\u044d\u0432","\u0411\u0430\u0430\u0441\u0430\u043d","\u0411\u044f\u043c\u0431\u0430","\u041d\u044f\u043c"]},"pt-BR":{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},sk:{months:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","\u0160t","Pi","So"],dayOfWeek:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xebntor","Dhjetor"],dayOfWeekShort:["Die","H\xebn","Mar","M\xebr","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E H\xebn\xeb","E Mart\u0113","E M\xebrkur\xeb","E Enjte","E Premte","E Shtun\xeb"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","\u010det","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","\u010cetvrtak","Petak","Subota"]},sr:{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u0459\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0423\u0442\u043e\u0440\u0430\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u041f\u0435\u0442\u0430\u043a","\u0421\u0443\u0431\u043e\u0442\u0430"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"],dayOfWeek:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"]},"zh-TW":{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},zh:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},he:{months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],dayOfWeekShort:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"],dayOfWeek:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea","\u05e8\u05d0\u05e9\u05d5\u05df"]},hy:{months:["\u0540\u0578\u0582\u0576\u057e\u0561\u0580","\u0553\u0565\u057f\u0580\u057e\u0561\u0580","\u0544\u0561\u0580\u057f","\u0531\u057a\u0580\u056b\u056c","\u0544\u0561\u0575\u056b\u057d","\u0540\u0578\u0582\u0576\u056b\u057d","\u0540\u0578\u0582\u056c\u056b\u057d","\u0555\u0563\u0578\u057d\u057f\u0578\u057d","\u054d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580","\u0540\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580","\u0546\u0578\u0575\u0565\u0574\u0562\u0565\u0580","\u0534\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580"],dayOfWeekShort:["\u053f\u056b","\u0535\u0580\u056f","\u0535\u0580\u0584","\u0549\u0578\u0580","\u0540\u0576\u0563","\u0548\u0582\u0580\u0562","\u0547\u0562\u0569"],dayOfWeek:["\u053f\u056b\u0580\u0561\u056f\u056b","\u0535\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b","\u0535\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0549\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0540\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b","\u0548\u0582\u0580\u0562\u0561\u0569","\u0547\u0561\u0562\u0561\u0569"]},kg:{months:["\u04ae\u0447\u0442\u04af\u043d \u0430\u0439\u044b","\u0411\u0438\u0440\u0434\u0438\u043d \u0430\u0439\u044b","\u0416\u0430\u043b\u0433\u0430\u043d \u041a\u0443\u0440\u0430\u043d","\u0427\u044b\u043d \u041a\u0443\u0440\u0430\u043d","\u0411\u0443\u0433\u0443","\u041a\u0443\u043b\u0436\u0430","\u0422\u0435\u043a\u0435","\u0411\u0430\u0448 \u041e\u043e\u043d\u0430","\u0410\u044f\u043a \u041e\u043e\u043d\u0430","\u0422\u043e\u0433\u0443\u0437\u0434\u0443\u043d \u0430\u0439\u044b","\u0416\u0435\u0442\u0438\u043d\u0438\u043d \u0430\u0439\u044b","\u0411\u0435\u0448\u0442\u0438\u043d \u0430\u0439\u044b"],dayOfWeekShort:["\u0416\u0435\u043a","\u0414\u04af\u0439","\u0428\u0435\u0439","\u0428\u0430\u0440","\u0411\u0435\u0439","\u0416\u0443\u043c","\u0418\u0448\u0435"],dayOfWeek:["\u0416\u0435\u043a\u0448\u0435\u043c\u0431","\u0414\u04af\u0439\u0448\u04e9\u043c\u0431","\u0428\u0435\u0439\u0448\u0435\u043c\u0431","\u0428\u0430\u0440\u0448\u0435\u043c\u0431","\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438","\u0416\u0443\u043c\u0430","\u0418\u0448\u0435\u043d\u0431"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8","\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8","\u10db\u10d0\u10e0\u10e2\u10d8","\u10d0\u10de\u10e0\u10d8\u10da\u10d8","\u10db\u10d0\u10d8\u10e1\u10d8","\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8","\u10d8\u10d5\u10da\u10d8\u10e1\u10d8","\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd","\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8","\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8"],dayOfWeekShort:["\u10d9\u10d5","\u10dd\u10e0\u10e8","\u10e1\u10d0\u10db\u10e8","\u10dd\u10d7\u10ee","\u10ee\u10e3\u10d7","\u10de\u10d0\u10e0","\u10e8\u10d0\u10d1"],dayOfWeek:["\u10d9\u10d5\u10d8\u10e0\u10d0","\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8","\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},r=null,n="en",s="en",o={meridiem:["AM","PM"]},a=function(){var t=i.i18n[s],n={days:t.dayOfWeek,daysShort:t.dayOfWeekShort,months:t.months,monthsShort:e.map(t.months,(function(e){return e.substring(0,3)}))};r=new DateFormatter({dateSettings:e.extend({},o,n)})};e.datetimepicker={setLocale:function(e){var t=i.i18n[e]?e:n;s!=t&&(s=t,a())},setDateFormatter:function(e){r=e},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},a(),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,(function(e,t,i){return i.toUpperCase()}))),e.currentStyle[t]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,r;for(i=t||0,r=this.length;r>i;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each((function(){var i,r,n,s,o,a=e(this),l=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(i.x=e.clientX,i.y=e.clientY),i},d=100,c=!1,u=0,p=0,h=0,f=!1,g=0,m=function(){};return"hide"===t?void a.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(i=a.children().eq(0),r=a[0].clientHeight,n=i[0].offsetHeight,s=e('<div class="xdsoft_scrollbar"></div>'),o=e('<div class="xdsoft_scroller"></div>'),s.append(o),a.addClass("xdsoft_scroller_box").append(s),m=function(e){var t=l(e).y-u+g;0>t&&(t=0),t+o[0].offsetHeight>h&&(t=h-o[0].offsetHeight),a.trigger("scroll_element.xdsoft_scroller",[d?t/d:0])},o.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(i){r||a.trigger("resize_scroll.xdsoft_scroller",[t]),u=l(i).y,g=parseInt(o.css("margin-top"),10),h=s[0].offsetHeight,"mousedown"===i.type||"touchstart"===i.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("touchend mouseup.xdsoft_scroller",(function t(){e([document.body,window]).off("touchend mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",m).removeClass("xdsoft_noselect")})),e(document.body).on("mousemove.xdsoft_scroller",m)):(f=!0,i.stopPropagation(),i.preventDefault())})).on("touchmove",(function(e){f&&(e.preventDefault(),m(e))})).on("touchend touchcancel",(function(){f=!1,g=0})),a.on("scroll_element.xdsoft_scroller",(function(e,t){r||a.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,o.css("margin-top",d*t),setTimeout((function(){i.css("marginTop",-parseInt((i[0].offsetHeight-r)*t,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(e,t,l){var c,u;r=a[0].clientHeight,n=i[0].offsetHeight,u=(c=r/n)*s[0].offsetHeight,c>1?o.hide():(o.show(),o.css("height",parseInt(u>10?u:10,10)),d=s[0].offsetHeight-o[0].offsetHeight,!0!==l&&a.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(i.css("marginTop"),10))/(n-r)]))})),a.on("mousewheel",(function(e){var t=Math.abs(parseInt(i.css("marginTop"),10));return 0>(t-=20*e.deltaY)&&(t=0),a.trigger("scroll_element.xdsoft_scroller",[t/(n-r)]),e.stopPropagation(),!1})),a.on("touchstart",(function(e){c=l(e),p=Math.abs(parseInt(i.css("marginTop"),10))})),a.on("touchmove",(function(e){if(c){e.preventDefault();var t=l(e);a.trigger("scroll_element.xdsoft_scroller",[(p-(t.y-c.y))/(n-r)])}})),a.on("touchend touchcancel",(function(){c=!1,p=0}))),void a.trigger("resize_scroll.xdsoft_scroller",[t]))}))},e.fn.datetimepicker=function(n,o){var a,l,d=this,c=48,u=57,p=96,h=105,f=17,g=46,m=13,v=27,b=8,_=37,y=38,$=39,w=40,x=9,j=116,D=65,k=67,C=86,S=90,I=89,T=!1,q=e.isPlainObject(n)||!n?e.extend(!0,{},i,n):e.extend(!0,{},i),A=0,M=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(A),A=setTimeout((function(){e.data("xdsoft_datetimepicker")||a(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")}),100))}))};return a=function(i){function o(){var e,t=!1;return q.startDate?t=O.strToDate(q.startDate):(t=q.value||(i&&i.val&&i.val()?i.val():""))?t=O.strToDateTime(t):q.defaultDate&&(t=O.strToDateTime(q.defaultDate),q.defaultTime&&(e=O.strtotime(q.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes()))),t&&O.isValidDate(t)?N.data("changed",!0):t="",t||0}function a(t){var r=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)},n=function(e){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}},s=function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};t.mask&&i.off("keydown.xdsoft"),!0===t.mask&&(t.mask="undefined"!=typeof moment?t.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):t.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(t.mask)&&(r(t.mask,i.val())||(i.val(t.mask.replace(/[0-9]/g,"_")),s(i[0],0)),i.on("keydown.xdsoft",(function(o){var a,l,d=this.value,q=o.which;if(q>=c&&u>=q||q>=p&&h>=q||q===b||q===g){for(a=n(this),l=q!==b&&q!==g?String.fromCharCode(q>=p&&h>=q?q-c:q):"_",q!==b&&q!==g||!a||(a-=1,l="_");/[^0-9_]/.test(t.mask.substr(a,1))&&a<t.mask.length&&a>0;)a+=q===b||q===g?-1:1;if(d=d.substr(0,a)+l+d.substr(a+1),""===e.trim(d))d=t.mask.replace(/[0-9]/g,"_");else if(a===t.mask.length)return o.preventDefault(),!1;for(a+=q===b||q===g?0:1;/[^0-9_]/.test(t.mask.substr(a,1))&&a<t.mask.length&&a>0;)a+=q===b||q===g?-1:1;r(t.mask,d)?(this.value=d,s(this,a)):""===e.trim(d)?this.value=t.mask.replace(/[0-9]/g,"_"):i.trigger("error_input.xdsoft")}else if(-1!==[D,k,C,S,I].indexOf(q)&&T||-1!==[v,y,w,_,$,j,f,x,m].indexOf(q))return!0;return o.preventDefault(),!1})))}var l,d,A,M,F,O,P,N=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),E=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),R=e('<div class="xdsoft_datepicker active"></div>'),G=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),z=e('<div class="xdsoft_calendar"></div>'),H=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),L=H.find(".xdsoft_time_box").eq(0),W=e('<div class="xdsoft_time_variant"></div>'),B=e('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),U=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),V=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),Y=!1,K=0;q.id&&N.attr("id",q.id),q.style&&N.attr("style",q.style),q.weeks&&N.addClass("xdsoft_showweeks"),q.rtl&&N.addClass("xdsoft_rtl"),N.addClass("xdsoft_"+q.theme),N.addClass(q.className),G.find(".xdsoft_month span").after(U),G.find(".xdsoft_year span").after(V),G.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",(function(t){var i,r,n=e(this).find(".xdsoft_select").eq(0),s=0,o=0,a=n.is(":visible");for(G.find(".xdsoft_select").hide(),O.currentTime&&(s=O.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[a?"hide":"show"](),i=n.find("div.xdsoft_option"),r=0;r<i.length&&i.eq(r).data("value")!==s;r+=1)o+=i[0].offsetHeight;return n.xdsoftScroller(o/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1})),G.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",(function(e){e.stopPropagation(),e.preventDefault()})).on("touchstart mousedown.xdsoft",".xdsoft_option",(function(){(void 0===O.currentTime||null===O.currentTime)&&(O.currentTime=O.now());var t=O.currentTime.getFullYear();O&&O.currentTime&&O.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),N.trigger("xchange.xdsoft"),q.onChangeMonth&&e.isFunction(q.onChangeMonth)&&q.onChangeMonth.call(N,O.currentTime,N.data("input")),t!==O.currentTime.getFullYear()&&e.isFunction(q.onChangeYear)&&q.onChangeYear.call(N,O.currentTime,N.data("input"))})),N.getValue=function(){return O.getCurrentTime()},N.setOptions=function(n){var s={};q=e.extend(!0,{},q,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(q.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(q.weekends=e.extend(!0,[],n.weekends)),n.allowDates&&e.isArray(n.allowDates)&&n.allowDates.length&&(q.allowDates=e.extend(!0,[],n.allowDates)),n.allowDateRe&&"[object String]"===Object.prototype.toString.call(n.allowDateRe)&&(q.allowDateRe=new RegExp(n.allowDateRe)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,(function(i,n){var o,a=e.map(n.split(","),e.trim),l=new t(r.parseDate(a[0],q.formatDate),a[1],a[2]),d=r.formatDate(l.date,q.formatDate);void 0!==s[d]?(o=s[d].desc)&&o.length&&l.desc&&l.desc.length&&(s[d].desc=o+"\n"+l.desc):s[d]=l})),q.highlightedDates=e.extend(!0,[],s)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(s=e.extend(!0,[],q.highlightedDates),e.each(n.highlightedPeriods,(function(i,n){var o,a,l,d,c,u,p;if(e.isArray(n))o=n[0],a=n[1],l=n[2],p=n[3];else{var h=e.map(n.split(","),e.trim);o=r.parseDate(h[0],q.formatDate),a=r.parseDate(h[1],q.formatDate),l=h[2],p=h[3]}for(;a>=o;)d=new t(o,l,p),c=r.formatDate(o,q.formatDate),o.setDate(o.getDate()+1),void 0!==s[c]?(u=s[c].desc)&&u.length&&d.desc&&d.desc.length&&(s[c].desc=u+"\n"+d.desc):s[c]=d})),q.highlightedDates=e.extend(!0,[],s)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(q.disabledDates=e.extend(!0,[],n.disabledDates)),n.disabledWeekDays&&e.isArray(n.disabledWeekDays)&&n.disabledWeekDays.length&&(q.disabledWeekDays=e.extend(!0,[],n.disabledWeekDays)),!q.open&&!q.opened||q.inline||i.trigger("open.xdsoft"),q.inline&&(Y=!0,N.addClass("xdsoft_inline"),i.after(N).hide()),q.inverseButton&&(q.next="xdsoft_prev",q.prev="xdsoft_next"),q.datepicker?R.addClass("active"):R.removeClass("active"),q.timepicker?H.addClass("active"):H.removeClass("active"),q.value&&(O.setCurrentTime(q.value),i&&i.val&&i.val(O.str)),q.dayOfWeekStart=isNaN(q.dayOfWeekStart)?0:parseInt(q.dayOfWeekStart,10)%7,q.timepickerScrollbar||L.xdsoftScroller("hide"),q.minDate&&/^[\+\-](.*)$/.test(q.minDate)&&(q.minDate=r.formatDate(O.strToDateTime(q.minDate),q.formatDate)),q.maxDate&&/^[\+\-](.*)$/.test(q.maxDate)&&(q.maxDate=r.formatDate(O.strToDateTime(q.maxDate),q.formatDate)),B.toggle(q.showApplyButton),G.find(".xdsoft_today_button").css("visibility",q.todayButton?"visible":"hidden"),G.find("."+q.prev).css("visibility",q.prevButton?"visible":"hidden"),G.find("."+q.next).css("visibility",q.nextButton?"visible":"hidden"),a(q),q.validateOnBlur&&i.off("blur.xdsoft").on("blur.xdsoft",(function(){if(q.allowBlank&&(!e.trim(e(this).val()).length||"string"==typeof q.mask&&e.trim(e(this).val())===q.mask.replace(/[0-9]/g,"_")))e(this).val(null),N.data("xdsoft_datetime").empty();else{var t=r.parseDate(e(this).val(),q.format);if(t)e(this).val(r.formatDate(t,q.format));else{var i=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");e(this).val(!q.datepicker&&q.timepicker&&i>=0&&24>i&&n>=0&&60>n?[i,n].map((function(e){return e>9?e:"0"+e})).join(":"):r.formatDate(O.now(),q.format))}N.data("xdsoft_datetime").setCurrentTime(e(this).val())}N.trigger("changedatetime.xdsoft"),N.trigger("close.xdsoft")})),q.dayOfWeekStartPrev=0===q.dayOfWeekStart?6:q.dayOfWeekStart-1,N.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},N.data("options",q).on("touchstart mousedown.xdsoft",(function(e){return e.stopPropagation(),e.preventDefault(),V.hide(),U.hide(),!1})),L.append(W),L.xdsoftScroller(),N.on("afterOpen.xdsoft",(function(){L.xdsoftScroller()})),N.append(R).append(H),!0!==q.withoutCopyright&&N.append(E),R.append(G).append(z).append(B),e(q.parentID).append(N),l=function(){var t=this;t.now=function(e){var i,r,n=new Date;return!e&&q.defaultDate&&(i=t.strToDateTime(q.defaultDate),n.setFullYear(i.getFullYear()),n.setMonth(i.getMonth()),n.setDate(i.getDate())),q.yearOffset&&n.setFullYear(n.getFullYear()+q.yearOffset),!e&&q.defaultTime&&(r=t.strtotime(q.defaultTime),n.setHours(r.getHours()),n.setMinutes(r.getMinutes())),n},t.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.setCurrentTime=function(e,i){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:e||i||!q.allowBlank?t.now():null,N.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(){return t.currentTime},t.nextMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var i,r=t.currentTime.getMonth()+1;return 12===r&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),r=0),i=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),r+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(r),q.onChangeMonth&&e.isFunction(q.onChangeMonth)&&q.onChangeMonth.call(N,O.currentTime,N.data("input")),i!==t.currentTime.getFullYear()&&e.isFunction(q.onChangeYear)&&q.onChangeYear.call(N,O.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),r},t.prevMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var i=t.currentTime.getMonth()-1;return-1===i&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),i=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),i+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(i),q.onChangeMonth&&e.isFunction(q.onChangeMonth)&&q.onChangeMonth.call(N,O.currentTime,N.data("input")),N.trigger("xchange.xdsoft"),i},t.getWeekOfYear=function(t){if(q.onGetWeekOfYear&&e.isFunction(q.onGetWeekOfYear)){var i=q.onGetWeekOfYear.call(N,t);if(void 0!==i)return i}var r=new Date(t.getFullYear(),0,1);return 4!=r.getDay()&&r.setMonth(0,1+(4-r.getDay()+7)%7),Math.ceil(((t-r)/864e5+r.getDay()+1)/7)},t.strToDateTime=function(e){var i,n,s=[];return e&&e instanceof Date&&t.isValidDate(e)?e:((s=/^(\+|\-)(.*)$/.exec(e))&&(s[2]=r.parseDate(s[2],q.formatDate)),s&&s[2]?(i=s[2].getTime()-6e4*s[2].getTimezoneOffset(),n=new Date(t.now(!0).getTime()+parseInt(s[1]+"1",10)*i)):n=e?r.parseDate(e,q.format):t.now(),t.isValidDate(n)||(n=t.now()),n)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?r.parseDate(e,q.formatDate):t.now(!0);return t.isValidDate(i)||(i=t.now(!0)),i},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var i=e?r.parseDate(e,q.formatTime):t.now(!0);return t.isValidDate(i)||(i=t.now(!0)),i},t.str=function(){return r.formatDate(t.currentTime,q.format)},t.currentTime=this.now()},O=new l,B.on("touchend click",(function(e){e.preventDefault(),N.data("changed",!0),O.setCurrentTime(o()),i.val(O.str()),N.trigger("close.xdsoft")})),G.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",(function(){N.data("changed",!0),O.setCurrentTime(0,!0),N.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){var e,t,r=O.getCurrentTime();r=new Date(r.getFullYear(),r.getMonth(),r.getDate()),e=O.strToDate(q.minDate),(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))>r||(t=O.strToDate(q.maxDate),r>(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))||(i.val(O.str()),i.trigger("change"),
N.trigger("close.xdsoft")))})),G.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),i=0,r=!1;!function e(n){t.hasClass(q.next)?O.nextMonth():t.hasClass(q.prev)&&O.prevMonth(),q.monthChangeSpinner&&(r||(i=setTimeout(e,n||100)))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(i),r=!0,e([document.body,window]).off("touchend mouseup.xdsoft",t)}))})),H.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var t=e(this),i=0,r=!1,n=110;!function e(s){var o=L[0].clientHeight,a=W[0].offsetHeight,l=Math.abs(parseInt(W.css("marginTop"),10));t.hasClass(q.next)&&a-o-q.timeHeightInTimePicker>=l?W.css("marginTop","-"+(l+q.timeHeightInTimePicker)+"px"):t.hasClass(q.prev)&&l-q.timeHeightInTimePicker>=0&&W.css("marginTop","-"+(l-q.timeHeightInTimePicker)+"px"),L.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(W[0].style.marginTop,10)/(a-o))]),n=n>10?10:n-10,r||(i=setTimeout(e,s||n))}(500),e([document.body,window]).on("touchend mouseup.xdsoft",(function t(){clearTimeout(i),r=!0,e([document.body,window]).off("touchend mouseup.xdsoft",t)}))})),d=0,N.on("xchange.xdsoft",(function(t){clearTimeout(d),d=setTimeout((function(){if(void 0===O.currentTime||null===O.currentTime){if(q.allowBlank)return;O.currentTime=O.now()}for(var t,o,a,l,d,c,u,p,h,f,g="",m=new Date(O.currentTime.getFullYear(),O.currentTime.getMonth(),1,12,0,0),v=0,b=O.now(),_=!1,y=!1,$=[],w=!0,x="";m.getDay()!==q.dayOfWeekStart;)m.setDate(m.getDate()-1);for(g+="<table><thead><tr>",q.weeks&&(g+="<th></th>"),t=0;7>t;t+=1)g+="<th>"+q.i18n[s].dayOfWeekShort[(t+q.dayOfWeekStart)%7]+"</th>";for(g+="</tr></thead>",g+="<tbody>",!1!==q.maxDate&&(_=O.strToDate(q.maxDate),_=new Date(_.getFullYear(),_.getMonth(),_.getDate(),23,59,59,999)),!1!==q.minDate&&(y=O.strToDate(q.minDate),y=new Date(y.getFullYear(),y.getMonth(),y.getDate()));v<O.currentTime.countDaysInMonth()||m.getDay()!==q.dayOfWeekStart||O.currentTime.getMonth()===m.getMonth();)$=[],v+=1,a=m.getDay(),l=m.getDate(),d=m.getFullYear(),c=m.getMonth(),u=O.getWeekOfYear(m),f="",$.push("xdsoft_date"),p=q.beforeShowDay&&e.isFunction(q.beforeShowDay.call)?q.beforeShowDay.call(N,m):null,q.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(q.allowDateRe)?q.allowDateRe.test(r.formatDate(m,q.formatDate))||$.push("xdsoft_disabled"):q.allowDates&&q.allowDates.length>0?-1===q.allowDates.indexOf(r.formatDate(m,q.formatDate))&&$.push("xdsoft_disabled"):(!1!==_&&m>_||!1!==y&&y>m||p&&!1===p[0]||-1!==q.disabledDates.indexOf(r.formatDate(m,q.formatDate))||-1!==q.disabledWeekDays.indexOf(a)||i.is("[readonly]"))&&$.push("xdsoft_disabled"),p&&""!==p[1]&&$.push(p[1]),O.currentTime.getMonth()!==c&&$.push("xdsoft_other_month"),(q.defaultSelect||N.data("changed"))&&r.formatDate(O.currentTime,q.formatDate)===r.formatDate(m,q.formatDate)&&$.push("xdsoft_current"),r.formatDate(b,q.formatDate)===r.formatDate(m,q.formatDate)&&$.push("xdsoft_today"),(0===m.getDay()||6===m.getDay()||-1!==q.weekends.indexOf(r.formatDate(m,q.formatDate)))&&$.push("xdsoft_weekend"),void 0!==q.highlightedDates[r.formatDate(m,q.formatDate)]&&(o=q.highlightedDates[r.formatDate(m,q.formatDate)],$.push(void 0===o.style?"xdsoft_highlighted_default":o.style),f=void 0===o.desc?"":o.desc),q.beforeShowDay&&e.isFunction(q.beforeShowDay)&&$.push(q.beforeShowDay(m)),w&&(g+="<tr>",w=!1,q.weeks&&(g+="<th>"+u+"</th>")),g+='<td data-date="'+l+'" data-month="'+c+'" data-year="'+d+'" class="xdsoft_date xdsoft_day_of_week'+m.getDay()+" "+$.join(" ")+'" title="'+f+'"><div>'+l+"</div></td>",m.getDay()===q.dayOfWeekStartPrev&&(g+="</tr>",w=!0),m.setDate(l+1);if(g+="</tbody></table>",z.html(g),G.find(".xdsoft_label span").eq(0).text(q.i18n[s].months[O.currentTime.getMonth()]),G.find(".xdsoft_label span").eq(1).text(O.currentTime.getFullYear()),x="","",c="",h=function(t,n){var s,o,a=O.now(),l=q.allowTimes&&e.isArray(q.allowTimes)&&q.allowTimes.length;a.setHours(t),t=parseInt(a.getHours(),10),a.setMinutes(n),n=parseInt(a.getMinutes(),10),(s=new Date(O.currentTime)).setHours(t),s.setMinutes(n),$=[],(!1!==q.minDateTime&&q.minDateTime>s||!1!==q.maxTime&&O.strtotime(q.maxTime).getTime()<a.getTime()||!1!==q.minTime&&O.strtotime(q.minTime).getTime()>a.getTime()||!1!==q.minDateTime&&q.minDateTime>s||!1!==q.disabledMinTime&&a.getTime()>O.strtotime(q.disabledMinTime).getTime()&&!1!==q.disabledMaxTime&&a.getTime()<O.strtotime(q.disabledMaxTime).getTime()||i.is("[readonly]"))&&$.push("xdsoft_disabled"),(o=new Date(O.currentTime)).setHours(parseInt(O.currentTime.getHours(),10)),l||o.setMinutes(Math[q.roundTime](O.currentTime.getMinutes()/q.step)*q.step),(q.initTime||q.defaultSelect||N.data("changed"))&&o.getHours()===parseInt(t,10)&&(!l&&q.step>59||o.getMinutes()===parseInt(n,10))&&(q.defaultSelect||N.data("changed")?$.push("xdsoft_current"):q.initTime&&$.push("xdsoft_init_time")),parseInt(b.getHours(),10)===parseInt(t,10)&&parseInt(b.getMinutes(),10)===parseInt(n,10)&&$.push("xdsoft_today"),x+='<div class="xdsoft_time '+$.join(" ")+'" data-hour="'+t+'" data-minute="'+n+'">'+r.formatDate(a,q.formatTime)+"</div>"},q.allowTimes&&e.isArray(q.allowTimes)&&q.allowTimes.length)for(v=0;v<q.allowTimes.length;v+=1)h(O.strtotime(q.allowTimes[v]).getHours(),c=O.strtotime(q.allowTimes[v]).getMinutes());else for(v=0,t=0;v<(q.hours12?12:24);v+=1)for(t=0;60>t;t+=q.step)h((10>v?"0":"")+v,c=(10>t?"0":"")+t);for(W.html(x),n="",v=0,v=parseInt(q.yearStart,10)+q.yearOffset;v<=parseInt(q.yearEnd,10)+q.yearOffset;v+=1)n+='<div class="xdsoft_option '+(O.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+v+"</div>";for(V.children().eq(0).html(n),v=parseInt(q.monthStart,10),n="";v<=parseInt(q.monthEnd,10);v+=1)n+='<div class="xdsoft_option '+(O.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+q.i18n[s].months[v]+"</div>";U.children().eq(0).html(n),e(N).trigger("generate.xdsoft")}),10),t.stopPropagation()})).on("afterOpen.xdsoft",(function(){var e,t,i,r;q.timepicker&&(W.find(".xdsoft_current").length?e=".xdsoft_current":W.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=L[0].clientHeight,i=W[0].offsetHeight,(r=W.find(e).index()*q.timeHeightInTimePicker+1)>i-t&&(r=i-t),L.trigger("scroll_element.xdsoft_scroller",[parseInt(r,10)/(i-t)])):L.trigger("scroll_element.xdsoft_scroller",[0]))})),A=0,z.on("touchend click.xdsoft","td",(function(t){t.stopPropagation(),A+=1;var r=e(this),n=O.currentTime;return null==n&&(O.currentTime=O.now(),n=O.currentTime),!r.hasClass("xdsoft_disabled")&&(n.setDate(1),n.setFullYear(r.data("year")),n.setMonth(r.data("month")),n.setDate(r.data("date")),N.trigger("select.xdsoft",[n]),i.val(O.str()),q.onSelectDate&&e.isFunction(q.onSelectDate)&&q.onSelectDate.call(N,O.currentTime,N.data("input"),t),N.data("changed",!0),N.trigger("xchange.xdsoft"),N.trigger("changedatetime.xdsoft"),(A>1||!0===q.closeOnDateSelect||!1===q.closeOnDateSelect&&!q.timepicker)&&!q.inline&&N.trigger("close.xdsoft"),void setTimeout((function(){A=0}),200))})),W.on("touchend click.xdsoft","div",(function(t){t.stopPropagation();var i=e(this),r=O.currentTime;return null==r&&(O.currentTime=O.now(),r=O.currentTime),!i.hasClass("xdsoft_disabled")&&(r.setHours(i.data("hour")),r.setMinutes(i.data("minute")),N.trigger("select.xdsoft",[r]),N.data("input").val(O.str()),q.onSelectTime&&e.isFunction(q.onSelectTime)&&q.onSelectTime.call(N,O.currentTime,N.data("input"),t),N.data("changed",!0),N.trigger("xchange.xdsoft"),N.trigger("changedatetime.xdsoft"),void(!0!==q.inline&&!0===q.closeOnTimeSelect&&N.trigger("close.xdsoft")))})),R.on("mousewheel.xdsoft",(function(e){return!q.scrollMonth||(e.deltaY<0?O.nextMonth():O.prevMonth(),!1)})),i.on("mousewheel.xdsoft",(function(e){return!q.scrollInput||(!q.datepicker&&q.timepicker?((M=W.find(".xdsoft_current").length?W.find(".xdsoft_current").eq(0).index():0)+e.deltaY>=0&&M+e.deltaY<W.children().length&&(M+=e.deltaY),W.children().eq(M).length&&W.children().eq(M).trigger("mousedown"),!1):q.datepicker&&!q.timepicker?(R.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),i.val&&i.val(O.str()),N.trigger("changedatetime.xdsoft"),!1):void 0)})),N.on("changedatetime.xdsoft",(function(t){if(q.onChangeDateTime&&e.isFunction(q.onChangeDateTime)){var i=N.data("input");q.onChangeDateTime.call(N,O.currentTime,i,t),delete q.value,i.trigger("change")}})).on("generate.xdsoft",(function(){q.onGenerate&&e.isFunction(q.onGenerate)&&q.onGenerate.call(N,O.currentTime,N.data("input")),Y&&(N.trigger("afterOpen.xdsoft"),Y=!1)})).on("click.xdsoft",(function(e){e.stopPropagation()})),M=0,P=function(e,t){do{if(!1===t(e=e.parentNode))break}while("HTML"!==e.nodeName)},F=function(){var t,i,r,n,s,o,a,l,d,c,u,p,h;if(t=(l=N.data("input")).offset(),i=l[0],c="top",r=t.top+i.offsetHeight-1,n=t.left,s="absolute",d=e(window).width(),p=e(window).height(),h=e(window).scrollTop(),document.documentElement.clientWidth-t.left<R.parent().outerWidth(!0)){var f=R.parent().outerWidth(!0)-i.offsetWidth;n-=f}"rtl"===l.parent().css("direction")&&(n-=N.outerWidth()-l.outerWidth()),q.fixed?(r-=h,n-=e(window).scrollLeft(),s="fixed"):(a=!1,P(i,(function(e){return"fixed"===window.getComputedStyle(e).getPropertyValue("position")?(a=!0,!1):void 0})),a?(s="fixed",r+N.outerHeight()>p+h?(c="bottom",r=p+h-t.top):r-=h):r+i.offsetHeight>p+h&&(r=t.top-i.offsetHeight+1),0>r&&(r=0),n+i.offsetWidth>d&&(n=d-i.offsetWidth)),o=N[0],P(o,(function(e){return"relative"===window.getComputedStyle(e).getPropertyValue("position")&&d>=e.offsetWidth?(n-=(d-e.offsetWidth)/2,!1):void 0})),(u={position:s,left:n,top:"",bottom:""})[c]=r,N.css(u)},N.on("open.xdsoft",(function(t){var i=!0;q.onShow&&e.isFunction(q.onShow)&&(i=q.onShow.call(N,O.currentTime,N.data("input"),t)),!1!==i&&(N.show(),F(),e(window).off("resize.xdsoft",F).on("resize.xdsoft",F),q.closeOnWithoutClick&&e([document.body,window]).on("touchstart mousedown.xdsoft",(function t(){N.trigger("close.xdsoft"),e([document.body,window]).off("touchstart mousedown.xdsoft",t)})))})).on("close.xdsoft",(function(t){var i=!0;G.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),q.onClose&&e.isFunction(q.onClose)&&(i=q.onClose.call(N,O.currentTime,N.data("input"),t)),!1===i||q.opened||q.inline||N.hide(),t.stopPropagation()})).on("toggle.xdsoft",(function(){N.trigger(N.is(":visible")?"close.xdsoft":"open.xdsoft")})).data("input",i),K=0,N.data("xdsoft_datetime",O),N.setOptions(q),O.setCurrentTime(o()),i.data("xdsoft_datetimepicker",N).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function(){i.is(":disabled")||i.data("xdsoft_datetimepicker").is(":visible")&&q.closeOnInputClick||(clearTimeout(K),K=setTimeout((function(){i.is(":disabled")||(Y=!0,O.setCurrentTime(o(),!0),q.mask&&a(q),N.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(t){var i,r=t.which;return-1!==[m].indexOf(r)&&q.enterLikeTab?(i=e("input:visible,textarea:visible,button:visible,a:visible"),N.trigger("close.xdsoft"),i.eq(i.index(this)+1).focus(),!1):-1!==[x].indexOf(r)?(N.trigger("close.xdsoft"),!0):void 0})).on("blur.xdsoft",(function(){N.trigger("close.xdsoft")}))},l=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft touchstart"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",(function(e){e.keyCode===f&&(T=!0)})).on("keyup.xdsoftctrl",(function(e){e.keyCode===f&&(T=!1)})),this.each((function(){var t=e(this).data("xdsoft_datetimepicker");if(t){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"toggle":t.trigger("toggle.xdsoft");break;case"destroy":l(e(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(r.parseDate(this.value,q.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t.data("input").trigger("blur.xdsoft");break;default:t[n]&&e.isFunction(t[n])&&(d=t[n](o))}else t.setOptions(n);return 0}"string"!==e.type(n)&&(!q.lazyInit||q.open||q.inline?a(e(this)):M(e(this)))})),d},e.fn.datetimepicker.defaults=i})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}((function(e){function t(t){var o=t||window.event,a=l.call(arguments,1),d=0,u=0,p=0,h=0,f=0,g=0;if((t=e.event.fix(o)).type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*p,p=0),d=0===p?u:p,"deltaY"in o&&(d=p=-1*o.deltaY),"deltaX"in o&&(u=o.deltaX,0===p&&(d=-1*u)),0!==p||0!==u){if(1===o.deltaMode){var m=e.data(this,"mousewheel-line-height");d*=m,p*=m,u*=m}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");d*=v,p*=v,u*=v}if(h=Math.max(Math.abs(p),Math.abs(u)),(!s||s>h)&&(s=h,r(o,h)&&(s/=40)),r(o,h)&&(d/=40,u/=40,p/=40),d=Math[d>=1?"floor":"ceil"](d/s),u=Math[u>=1?"floor":"ceil"](u/s),p=Math[p>=1?"floor":"ceil"](p/s),c.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=t.clientX-b.left,g=t.clientY-b.top}return t.deltaX=u,t.deltaY=p,t.deltaFactor=s,t.offsetX=f,t.offsetY=g,t.deltaMode=0,a.unshift(t,d,u,p),n&&clearTimeout(n),n=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function r(e,t){return c.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var n,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var d=o.length;d;)e.event.fixHooks[o[--d]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),r=i["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})),function(e,t){function i(e){return"string"==typeof e}function r(e){var t=v.call(arguments,1);return function(){return e.apply(this,t.concat(v.call(arguments)))}}function n(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}function s(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function o(r,n,s,o,a){var l,c,p,h,f;return o!==d?(f=(p=s.match(r?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",2===a&&i(o)?c=o.replace(r?T:I,""):(h=u(p[2]),o=i(o)?u[r?j:x](o):o,c=2===a?o:1===a?e.extend({},o,h):e.extend({},h,o),c=_(c),r&&(c=c.replace(m,b))),l=p[1]+(r?"#":c||!p[1]?"?":"")+c+f):l=n(s!==d?s:t[k][C]),l}function a(e,t,r){return t===d||"boolean"==typeof t?(r=t,t=_[e?j:x]()):t=i(t)?t.replace(e?T:I,""):t,u(t,r)}function l(t,r,n,s){return i(n)||"object"==typeof n||(s=n,n=r,r=d),this.each((function(){var i=e(this),o=r||g()[(this.nodeName||"").toLowerCase()]||"",a=o&&i.attr(o)||"";i.attr(o,_[t](a,n,s))}))}var d,c,u,p,h,f,g,m,v=Array.prototype.slice,b=decodeURIComponent,_=e.param,y=e.bbq=e.bbq||{},$=e.event.special,w="hashchange",x="querystring",j="fragment",D="elemUrlAttr",k="location",C="href",S="src",I=/^.*\?|#.*$/g,T=/^.*\#/,q={};_[x]=r(o,0,s),_[j]=c=r(o,1,n),c.noEscape=function(t){t=t||"";var i=e.map(t.split(""),encodeURIComponent);m=new RegExp(i.join("|"),"g")},c.noEscape(",/"),e.deparam=u=function(t,i){var r={},n={true:!0,false:!1,null:null};return e.each(t.replace(/\+/g," ").split("&"),(function(t,s){var o,a=s.split("="),l=b(a[0]),c=r,u=0,p=l.split("]["),h=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[h])?(p[h]=p[h].replace(/\]$/,""),h=(p=p.shift().split("[").concat(p)).length-1):h=0,2===a.length)if(o=b(a[1]),i&&(o=o&&!isNaN(o)?+o:"undefined"===o?d:n[o]!==d?n[o]:o),h)for(;u<=h;u++)c=c[l=""===p[u]?c.length:p[u]]=u<h?c[l]||(p[u+1]&&isNaN(p[u+1])?{}:[]):o;else e.isArray(r[l])?r[l].push(o):r[l]!==d?r[l]=[r[l],o]:r[l]=o;else l&&(r[l]=i?d:"")})),r},u[x]=r(a,0),u[j]=p=r(a,1),e[D]||(e[D]=function(t){return e.extend(q,t)})({a:C,base:C,iframe:S,img:S,input:S,form:"action",link:C,script:S}),g=e[D],e.fn[x]=r(l,x),e.fn[j]=r(l,j),y.pushState=h=function(e,r){i(e)&&/^#/.test(e)&&r===d&&(r=2);var n=e!==d,s=c(t[k][C],n?e:{},n?r:2);t[k][C]=s+(/#/.test(s)?"":"#")},y.getState=f=function(e,t){return e===d||"boolean"==typeof e?p(e):p(t)[e]},y.removeState=function(t){var i={};t!==d&&(i=f(),e.each(e.isArray(t)?t:arguments,(function(e,t){delete i[t]}))),h(i,2)},$[w]=e.extend($[w],{add:function(t){function i(e){var t=e[j]=c();e.getState=function(e,i){return e===d||"boolean"==typeof e?u(t,e):u(t,i)[e]},r.apply(this,arguments)}var r;if(e.isFunction(t))return r=t,i;r=t.handler,t.handler=i}})}(jQuery,this),function(e,t,i){function r(e){return(e=e||t[o][l]).replace(/^[^#]*#?(.*)$/,"$1")}var n,s=e.event.special,o="location",a="hashchange",l="href",d=e.browser,c=document.documentMode,u=d.msie&&(c===i||c<8),p="on"+a in t&&!u;e[a+"Delay"]=100,s[a]=e.extend(s[a],{setup:function(){if(p)return!1;e(n.start)},teardown:function(){if(p)return!1;e(n.stop)}}),n=function(){function i(){d=c=function(e){return e},u&&(s=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,c=function(){return r(s.document[o][l])},(d=function(e,t){if(e!==t){var i=s.document;i.open().close(),i[o].hash="#"+e}})(r()))}var n,s,d,c,p={};return p.start=function(){if(!n){var s=r();d||i(),function i(){var u=r(),p=c(s);u!==s?(d(s=u,p),e(t).trigger(a)):p!==s&&(t[o][l]=t[o][l].replace(/#.*/,"")+"#"+p),n=setTimeout(i,e[a+"Delay"])}()}},p.stop=function(){s||(n&&clearTimeout(n),n=0)},p}()}(jQuery,this);var BrowserDetect={init:function(){var e="-- an unknown version";(this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||e,navigator.userAgent.match(/Trident/i))&&(this.browser="Explorer",null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?this.version=parseFloat(RegExp.$1):this.version=e);this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,r=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge",versionSearch:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Mac",identity:"Mac OS"},{string:navigator.userAgent,subString:"CrOS",identity:"Chrome OS"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};(function(window,document,undefined){function is(e,t){return typeof e===t}function testRunner(){var e,t,i,r,n,s;for(var o in tests)if(tests.hasOwnProperty(o)){if(e=[],(t=tests[o]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(r=is(t.fn,"function")?t.fn():t.fn,n=0;n<e.length;n++)1===(s=e[n].split(".")).length?Modernizr[s[0]]=r:(!Modernizr[s[0]]||Modernizr[s[0]]instanceof Boolean||(Modernizr[s[0]]=new Boolean(Modernizr[s[0]])),Modernizr[s[0]][s[1]]=r),classes.push((r?"":"no-")+s.join("-"))}}function setClasses(e){var t=docElement.className,i=Modernizr._config.classPrefix||"";if(isSVG&&(t=t.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(r,"$1"+i+"js$2")}Modernizr._config.enableClasses&&(t+=" "+i+e.join(" "+i),isSVG?docElement.className.baseVal=t:docElement.className=t)}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function getBody(){var e=document.body;return e||((e=createElement(isSVG?"svg":"body")).fake=!0),e}function injectElementWithStyles(e,t,i,r){var n,s,o,a,l="modernizr",d=createElement("div"),c=getBody();if(parseInt(i,10))for(;i--;)(o=createElement("div")).id=r?r[i]:l+(i+1),d.appendChild(o);return(n=createElement("style")).type="text/css",n.id="s"+l,(c.fake?c:d).appendChild(n),c.appendChild(d),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),d.id=l,c.fake&&(c.style.background="",c.style.overflow="hidden",a=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(c)),s=t(d,e),c.fake?(c.parentNode.removeChild(c),docElement.style.overflow=a,docElement.offsetHeight):d.parentNode.removeChild(d),!!s}var classes=[],tests=[],ModernizrProto={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout((function(){t(i[e])}),0)},addTest:function(e,t,i){tests.push({name:e,fn:t,options:i})},addAsyncTest:function(e){tests.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr,Modernizr.addTest("applicationcache","applicationCache"in window),Modernizr.addTest("cookies",(function(){try{document.cookie="cookietest=1";var e=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}})),Modernizr.addTest("geolocation","geolocation"in navigator),Modernizr.addTest("microdata","getItems"in document),Modernizr.addTest("localstorage",(function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})),Modernizr.addTest("sessionstorage",(function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}})),Modernizr.addTest("webworkers","Worker"in window);var docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase();Modernizr.addTest("audio",(function(){var e=createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t})),Modernizr.addTest("canvas",(function(){var e=createElement("canvas");return!(!e.getContext||!e.getContext("2d"))})),Modernizr.addTest("video",(function(){var e=createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(e){}return t}));var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes,Modernizr.addTest("es5array",(function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)})),Modernizr.addTest("es5date",(function(){var e="2013-04-12T06:06:37.307Z",t=!1;try{t=!!Date.parse(e)}catch(e){}return!!(Date.now&&Date.prototype&&Date.prototype.toISOString&&Date.prototype.toJSON&&t)})),Modernizr.addTest("es5function",(function(){return!(!Function.prototype||!Function.prototype.bind)})),Modernizr.addTest("es5object",(function(){return!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)})),Modernizr.addTest("strictmode",function(){"use strict";return!this}()),Modernizr.addTest("es5string",(function(){return!(!String.prototype||!String.prototype.trim)})),Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON),Modernizr.addTest("es5syntax",(function(){var value,obj,stringAccess,getter,setter,reservedWords,zeroWidthChars;try{return stringAccess=eval('"foobar"[3] === "b"'),getter=eval("({ get x(){ return 1 } }).x === 1"),eval("({ set x(v){ value = v; } }).x = 1"),setter=1===value,eval("obj = ({ if: 1 })"),reservedWords=1===obj.if,zeroWidthChars=eval("_\u200c\u200d = true"),stringAccess&&getter&&setter&&reservedWords&&zeroWidthChars}catch(e){return!1}})),Modernizr.addTest("es5undefined",(function(){var e,t;try{t=window.undefined,window.undefined=12345,e=void 0===window.undefined,window.undefined=t}catch(e){return!1}return e})),Modernizr.addTest("es5",(function(){return!!(Modernizr.es5array&&Modernizr.es5date&&Modernizr.es5function&&Modernizr.es5object&&Modernizr.strictmode&&Modernizr.es5string&&Modernizr.json&&Modernizr.es5syntax&&Modernizr.es5undefined)}));var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("touchevents",(function(){var e;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)e=!0;else{var t=["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");testStyles(t,(function(t){e=9===t.offsetTop}))}return e})),Modernizr.addTest("webaudio",(function(){var e="webkitAudioContext"in window,t="AudioContext"in window;return Modernizr._config.usePrefixes&&e||t})),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr})(window,document),function(e,t){"use strict";var i="0.7.20",r="",n="?",s="function",o="undefined",a="object",l="string",d="major",c="model",u="name",p="type",h="vendor",f="version",g="architecture",m="console",v="mobile",b="tablet",_="smarttv",y="wearable",$="embedded",w={extend:function(e,t){var i={};for(var r in e)t[r]&&t[r].length%2==0?i[r]=t[r].concat(e[r]):i[r]=e[r];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===l?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},x={rgx:function(e,i){for(var r,n,o,l,d,c,u=0;u<i.length&&!d;){var p=i[u],h=i[u+1];for(r=n=0;r<p.length&&!d;)if(d=p[r++].exec(e))for(o=0;o<h.length;o++)c=d[++n],typeof(l=h[o])===a&&l.length>0?2===l.length?typeof l[1]===s?this[l[0]]=l[1].call(this,c):this[l[0]]=l[1]:3===l.length?typeof l[1]!==s||l[1].exec&&l[1].test?this[l[0]]=c?c.replace(l[1],l[2]):t:this[l[0]]=c?l[1].call(this,c,l[2]):t:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):t):this[l]=c||t;u+=2}},str:function(e,i){for(var r in i)if(typeof i[r]===a&&i[r].length>0){for(var s=0;s<i[r].length;s++)if(w.has(i[r][s],e))return r===n?t:r}else if(w.has(i[r],e))return r===n?t:r;return e}},j={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},D={
browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[u,f],[/(opios)[\/\s]+([\w\.]+)/i],[[u,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[u,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[u,f],[/(konqueror)\/([\w\.]+)/i],[[u,"Konqueror"],f],[/(NintendoBrowser)\/([\w\.]+)/i],[[u,"NintendoBrowser"],f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[u,"IE"],f],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[u,"Edge"],f],[/(yabrowser)\/([\w\.]+)/i],[[u,"Yandex"],f],[/(puffin)\/([\w\.]+)/i],[[u,"Puffin"],f],[/(focus)\/([\w\.]+)/i],[[u,"Firefox Focus"],f],[/(opt)\/([\w\.]+)/i],[[u,"Opera Touch"],f],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[u,"UCBrowser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(windowswechat qbcore)\/([\w\.]+)/i],[[u,"WeChat(Win) Desktop"],f],[/(micromessenger)\/([\w\.]+)/i],[[u,"WeChat"],f],[/(brave)\/([\w\.]+)/i],[[u,"Brave"],f],[/(qqbrowserlite)\/([\w\.]+)/i],[u,f],[/(QQ)\/([\d\.]+)/i],[u,f],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[u,f],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[u,f],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[u,f],[/(MetaSr)[\/\s]?([\w\.]+)/i],[u],[/(LBBROWSER)/i],[u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[f,[u,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[u,f],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[f,[u,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[u,/(.+)/,"$1"],f],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[u,/(.+(?:g|us))(.+)/,"$1 $2"],f],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[u,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[u,"Sailfish Browser"],f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[u,f],[/(dolfin)\/([\w\.]+)/i],[[u,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[u,"Chrome"],f],[/(coast)\/([\w\.]+)/i],[[u,"Opera Coast"],f],[/fxios\/([\w\.-]+)/i],[f,[u,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,u],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[u,"GSA"],f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[u,[f,x.str,j.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[u,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)/i],[[u,"Firefox"],f],[/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[u,f],[]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,h,[p,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[h,"Apple"],[p,b]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[h,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[h,c,[p,b]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[h,"Amazon"],[p,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,x.str,j.device.amazon.model],[h,"Amazon"],[p,v]],[/android.+aft([bms])\sbuild/i],[c,[h,"Amazon"],[p,_]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,h,[p,v]],[/\((ip[honed|\s\w*]+);/i],[c,[h,"Apple"],[p,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[h,c,[p,v]],[/\(bb10;\s(\w+)/i],[c,[h,"BlackBerry"],[p,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[h,"Asus"],[p,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[h,"Sony"],[c,"Xperia Tablet"],[p,b]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,"Sony"],[p,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[h,c,[p,m]],[/android.+;\s(shield)\sbuild/i],[c,[h,"Nvidia"],[p,m]],[/(playstation\s[34portablevi]+)/i],[c,[h,"Sony"],[p,m]],[/(sprint\s(\w+))/i],[[h,x.str,j.device.sprint.vendor],[c,x.str,j.device.sprint.model],[p,v]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[h,[c,/_/g," "],[p,v]],[/(nexus\s9)/i],[c,[h,"HTC"],[p,b]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[c,[h,"Huawei"],[p,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[h,c,[p,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[h,"Microsoft"],[p,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,"Microsoft"],[p,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[h,"Motorola"],[p,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[h,"Motorola"],[p,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[h,w.trim],[c,w.trim],[p,_]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,"Samsung"],[p,_]],[/\(dtv[\);].+(aquos)/i],[c,[h,"Sharp"],[p,_]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[h,"Samsung"],c,[p,b]],[/smart-tv.+(samsung)/i],[h,[p,_],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[h,"Samsung"],c,[p,v]],[/sie-(\w*)/i],[c,[h,"Siemens"],[p,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[h,"Nokia"],c,[p,v]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[h,"Acer"],[p,b]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[h,"LG"],[p,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[h,"LG"],c,[p,b]],[/(lg) netcast\.tv/i],[h,c,[p,_]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[h,"LG"],[p,v]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[h,c,[p,b]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[h,"Lenovo"],[p,b]],[/(lenovo)[_\s-]?([\w-]+)/i],[h,c,[p,v]],[/linux;.+((jolla));/i],[h,c,[p,v]],[/((pebble))app\/[\d\.]+\s/i],[h,c,[p,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[h,c,[p,v]],[/crkey/i],[[c,"Chromecast"],[h,"Google"]],[/android.+;\s(glass)\s\d/i],[c,[h,"Google"],[p,y]],[/android.+;\s(pixel c)[\s)]/i],[c,[h,"Google"],[p,b]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[c,[h,"Google"],[p,v]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[h,"Xiaomi"],[p,v]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[h,"Xiaomi"],[p,b]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[h,"Meizu"],[p,v]],[/(mz)-([\w-]{2,})/i],[[h,"Meizu"],c,[p,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[c,[h,"OnePlus"],[p,v]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[h,"RCA"],[p,b]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[h,"Dell"],[p,b]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[h,"Verizon"],[p,b]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[h,"Barnes & Noble"],c,[p,b]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[h,"NuVision"],[p,b]],[/android.+;\s(k88)\sbuild/i],[c,[h,"ZTE"],[p,b]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[h,"Swiss"],[p,v]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[h,"Swiss"],[p,b]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[h,"Zeki"],[p,b]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[h,"Dragon Touch"],c,[p,b]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[h,"Insignia"],[p,b]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[h,"NextBook"],[p,b]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[h,"Voice"],c,[p,v]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[h,"LvTel"],c,[p,v]],[/android.+;\s(PH-1)\s/i],[c,[h,"Essential"],[p,v]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[h,"Envizen"],[p,b]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[h,c,[p,b]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[h,"MachSpeed"],[p,b]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[h,c,[p,b]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[h,"Rotor"],[p,b]],[/android.+(KS(.+))\s+build/i],[c,[h,"Amazon"],[p,b]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[h,c,[p,b]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[p,w.lowerize],h,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[p,_]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[h,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9}).+(gecko)/i],[f,u]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[u,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[u,[f,x.str,j.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[u,"Windows"],[f,x.str,j.os.windows.version]],[/\((bb)(10);/i],[[u,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[u,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[u,"Symbian"],f],[/\((series40);/i],[u],[/(kaios)\/([\w\.]+)/i],[[u,"KaiOS"],f],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[u,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevutch]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[u,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[u,"Chrome OS"],f],[/(sunos)\s?([\w\.\d]*)/i],[[u,"Solaris"],f],[/([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[u,f],[/(haiku)\s(\w+)/i],[u,f],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[u,f]]},k=function(i,n){if("object"==typeof i&&(n=i,i=t),!(this instanceof k))return new k(i,n).getResult();var s=i||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:r),o=n?w.extend(D,n):D;return this.getBrowser=function(){var e={name:t,version:t};return x.rgx.call(e,s,o.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:t};return x.rgx.call(e,s,o.cpu),e},this.getDevice=function(){var e={vendor:t,model:t,type:t};return x.rgx.call(e,s,o.device),e},this.getEngine=function(){var e={name:t,version:t};return x.rgx.call(e,s,o.engine),e},this.getOS=function(){var e={name:t,version:t};return x.rgx.call(e,s,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=e,this},this};k.VERSION=i,k.BROWSER={NAME:u,MAJOR:d,VERSION:f},k.CPU={ARCHITECTURE:g},k.DEVICE={MODEL:c,VENDOR:h,TYPE:p,CONSOLE:m,MOBILE:v,SMARTTV:_,TABLET:b,WEARABLE:y,EMBEDDED:$},k.ENGINE={NAME:u,VERSION:f},k.OS={NAME:u,VERSION:f},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=k),exports.UAParser=k):"function"==typeof define&&define.amd?define((function(){return k})):e&&(e.UAParser=k);var C=e&&e.jQuery;if(typeof C!==o&&!C.ua){var S=new k;C.ua=S.getResult(),C.ua.get=function(){return S.getUA()},C.ua.set=function(e){S.setUA(e);var t=S.getResult();for(var i in t)C.ua[i]=t[i]}}}("object"==typeof window?window:this),window.App||(window.App={name:"DBL",state:"INITIALIZED",clientHeight:700,clientHeightWithDP:918}),App.init=function(){},$(document).ready((function(){try{App.init()}catch(e){console.log(App.name+"::App::init barfed "+e)}})),App.Admins||(App.Admins={module:"App::Admins",state:"INITIALIZED"}),App.Admins.init=function(){function e(){$("#schools_license_request_price_negotiated").is(":checked")?$("#schools_license_request_negotiated_popup").show():$("#schools_license_request_negotiated_popup").hide()}function t(e,i){for(var r in i)"object"==typeof i[r]?t(e+"_"+r,i[r]):$(e+"_"+r).val(i[r])}$.fn.jsonEditor=function(){var e=this;$("#data",e).append($$("input",{type:"button",value:"Add field",id:"add_json_field"})),$("#data p .json_value",e).each((function(){$(this).after($$("input",{type:"button",value:"Remove",class:"remove_json_field"})),$(".remove_json_field").click((function(){$(this).parent().remove()}))})),$("#add_json_field").click((function(){$("#data #add_json_field",e).before($$("p",$$("input",{type:"text",name:"json_new_key[]",class:"json_label"}),$$("input",{type:"text",name:"json_new_value[]",class:"json_value"}),$$("input",{type:"button",value:"Remove",class:"remove_json_field"}))),$(".remove_json_field").click((function(){$(this).parent().remove()}))}))},$.fn.loading=function(e){this.html('<img src="/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif" width="'+e+'"/>')},$.fn.sub_nav_bar=function(e){if(this.length>0){var t="data-"+e,i=this.attr(t);return this.children("a["+t+'="'+i+'"]').css({color:"#000",cursor:"default","font-weight":"bold","text-decoration":"none"}).click((function(e){return e.preventDefault(),!1})),this}},$("input").change((function(){$(this).val($(this).val().trim())})),$(".higlight-table-rows td").bind("mouseover",(function(){$(this).parent("tr").find("td").css("background-color","pink")})),$(".higlight-table-rows td").bind("mouseout",(function(){$(this).parent("tr").find("td").css("background-color","inherit")})),$.datepicker.setDefaults($.datepicker.regional[""]),$("#schools_license_request_price_negotiated").click((function(){e()})),$("#schools_license_request_price_negotiated").after($$("span","Negotiated price per student: ",$$("input",{type:"text",id:"schools_license_request_negotiated_pps",style:"width: 50px;",value:$("#schools_license_request_pps").text().replace(/\$/,"")}),$$("input",{type:"button",value:"Recalculate Price",id:"schools_license_request_recalculate_price"}),{id:"schools_license_request_negotiated_popup"})),e(),$("#schools_license_request_recalculate_price").click((function(){$("#schools_license_request_amount").val($("#schools_license_request_negotiated_pps").val().replace(/\$/g,"")*$("#schools_license_request_student_licenses").val()),$("#schools_license_request_pps").text($("#schools_license_request_negotiated_pps").val())})),0==$("#look_purchaser_email").length&&($("#license_request_edit_form input#schools_license_request_purchaser_attrs_email_address").after($$("input",{type:"button",value:"Look up",id:"look_purchaser_email",style:"display: inline; margin-left: 0.25em;"})),$("#look_purchaser_email").after($$("span",{id:"look_purchaser_feedback",style:"display: inline; margin-left: 0.25em;"}))),$("#look_purchaser_email").click((function(){$(this).disabled,$(this).val("Looking up..."),$.ajax({type:"GET",url:"/admin/schools/license_requests/lookup_purchaser",dataType:"json",data:{email:$("#schools_license_request_purchaser_attrs_email_address").val()},success:function(e){if(isEmpty(e))return $("#look_purchaser_feedback").html("Not found"),void $("#purchaser input[id!=schools_license_request_purchaser_attrs_email_address]").val("");$("#look_purchaser_feedback").html("Found. Please review the <i><b>Country</b></i> and the <i><b>Region</b></i>, because they could be wrong."),t("#schools_license_request",e)},complete:function(){$("#look_purchaser_email").prop("disabled",!1),$("#look_purchaser_email").val("Look up")}})})),$("#modify_json_blob").jsonEditor(),$("#user_session_start_time_in_pst").datetimepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd"}),$("#user_session_end_time_in_pst").datetimepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd"}),$("table input#select_all[type=checkbox]").click((function(){var e=$(this).parents("table").find("input[type=checkbox]").length-1,t=$(this).parents("table").find("input[type=checkbox]:checkbox").length;$(this).is(":checked")&&t--,$(this).parents("table").find("input[type=checkbox]").prop("checked",t==e)})),$("#provisioning-status-time-selector").sub_nav_bar("time-slice"),$(document).on("submit","#clever-districts-list .button_to",(function(e){e.preventDefault();var t=$(this).find(":submit"),i=$(".js_notice"),r=$(this).closest("tr"),n=r.children("td:first").text(),s=($(this),$('<img src="/assets/forms/ajax-loader-small-e611bd10da5752d2c77c75664d6ec0cc16491d9d1d85012a753624374ccfeeae.gif"/>'));return t.after(s),t.prop("disabled",!0),$.ajax({complete:function(){s.remove(),t.prop("disabled",!1)},data:$(this).serialize(),error:function(e,t,r){i.text("There was an error while trying to update district "+n+" ("+r+")").show()},success:function(e){i.text("Updated district "+n).show(),new_row=$(e).replaceAll(r),new_row.attr("class",r.attr("class"))},type:"PUT",dataType:"html",url:$(this).attr("action")}),!1})),$("#clever_district_filter #filters_show_deleted").click((function(){$(this).is(":checked")&&$("#clever_district_filter #filters_show_disabled").prop("checked",!0)})),$("#clever_district_filter #filters_show_disabled").click((function(){$(this).is(":checked")||$("#clever_district_filter #filters_show_deleted").prop("checked",!1)})),$("#selectUnplaced").click((function(){var e=[];$.each($(".placed"),(function(t,i){if("false"==$(i).text()){var r=$(i).parents("tr").find("input[type=checkbox]");$("#selectUnplaced").attr("checked")?(r.attr("checked","checked"),-1==$.inArray(r.attr("class"),e)&&e.push(r.attr("class"))):(r.removeAttr("checked"),e=[])}})),$.each(e,(function(e,t){checkboxes=$("."+t),checkedCount=0,$.each(checkboxes,(function(){$(this).attr("checked")&&(checkedCount+=1)})),checkboxes.size()==checkedCount&&checkboxes.last().removeAttr("checked")}))})),$("input:checkbox#tax").click((function(){$(this).is(":checked")?$("#max_credit_amount").html($("#pretax_balance").val()):$("#max_credit_amount").html($("#balance").val())})),$("#delete_score").click((function(){$(this).is(":checked")?($(".disable_for_delete").prop("disabled",!0),$(".disable_for_delete").addClass("disabled")):($(".disable_for_delete").prop("disabled",!1),$(".disable_for_delete").removeClass("disabled"))}))},$(document).ready((function(){if(0!=$("#admins_layout").length)try{App.Admins.init()}catch(e){console.log(App.Admins.module+"::init barfed "+e)}})),App.ApplicationChooser||(App.ApplicationChooser={module:"App::ApplicationChooser",dataBehavior:"application_chooser"}),App.ApplicationChooser.init=function(){$("#app_id").change((function(){App.ApplicationChooser.applicationIdChanged()})),$("form").submit((function(){return $(this).append('<input type="hidden" name="application_id" value="'+$("#app_id").val()+'" /> '),!0}))},App.ApplicationChooser.applicationIdChanged=function(){document.getElementById("app_id").disabled=!0;var e=new URL(window.location);e.searchParams.set("application_id",$("#app_id").val()),e.searchParams.set("invalidate_form","true"),window.location=e.href},$(document).ready((function(){if(0!==$("[data-behavior~="+App.ApplicationChooser.dataBehavior+"]").length)try{document.getElementById("app_id").disabled=!1,App.ApplicationChooser.init()}catch(e){console.log(App.ApplicationChooser.module+"::init error "+e)}})),App.BulkAssignments||(App.BulkAssignments={module:"App::BulkAssignments",dataBehavior:"bulk-assignments"}),App.BulkAssignments.init=function(){console.log(this.module+"::init called"),$("i.open-group").click((function(){$(this).siblings("div").show(),$(this).hide(),$(this).siblings("i.close-group").show()})),$("i.close-group").click((function(){$(this).siblings("div").hide(),$(this).hide(),$(this).siblings("i.open-group").show()})),$("#check_all").click((function(){$(".assignment_checkbox").prop("checked",$(this).prop("checked")),App.BulkAssignments.recalculate_ready_for_cancel()})),$(".focus_checkbox").change((function(){App.BulkAssignments.recalculate_ready_for_search()})),$(".assignment_checkbox").change((function(){App.BulkAssignments.recalculate_ready_for_cancel()})),$("#copy-emails").click((function(){let e=new Set(App.BulkAssignments.read_column_values($(this).closest("th")));navigator.clipboard.writeText(Array.from(e).join("; "))})),$("#copy-districts").click((function(){let e=App.BulkAssignments.read_column_values($(this).closest("th")).reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{}),t="District ID, Assignment Count\n"+Object.entries(e).map((([e,t])=>`${e}, ${t}`)).join("\n");navigator.clipboard.writeText(t)})),$("input#focus_find").keypress((function(e){if(e.which===$.ui.keyCode.ENTER){e.preventDefault();let t="id_"+$(this).val().trim().replace(/[^a-zA-Z0-9]/g,"_"),i=$("span#"+t);i.length>0?($(".highlight").removeClass("highlight"),i.show().addClass("highlight"),i.parents().addBack().each((function(){let e=$(this).parent(),t=e.parent();e.show(),e.siblings("div").show(),t.children("i.open-group").hide(),t.children("i.close-group").show()})),App.BulkAssignments.scroll_if_necessary(i),$("#no-match").text("")):($("#no-match").removeClass("no-match"),setTimeout((function(){$("#no-match").text("No match found!").addClass("no-match")}),10))}})),$("#cancel_assignment_button").click((function(e){let t=$(".assignment_checkbox:checked").length;confirm("You are cancelling "+App.BulkAssignments.pluralize(t,"assignment","assignments")+": Are you sure you want to continue?")||e.preventDefault()})),App.BulkAssignments.recalculate_ready_for_search()},App.BulkAssignments.scroll_if_necessary=function(e){if(e[0]){let t=e[0].getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;t.bottom>i&&e[0].scrollIntoView({behavior:"smooth",block:"center"})}},App.BulkAssignments.recalculate_ready_for_search=function(){$(".focus_checkbox:checked").length>0?$("#search_button").prop("disabled",!1):$("#search_button").prop("disabled",!0)},App.BulkAssignments.recalculate_ready_for_cancel=function(){$(".assignment_checkbox:checked").length>0?$("#cancel_assignment_button").prop("disabled",!1):$("#cancel_assignment_button").prop("disabled",!0)},App.BulkAssignments.read_column_values=function(e){let t=$(e).closest("table"),i=$(e).index(),r=[];return t.find("tbody tr").each((function(){let e=$(this).find("td").eq(i).text().trim();""!==e&&r.push(e)})),r},App.BulkAssignments.pluralize=function(e,t,i){return 1===e?e+" "+t:e+" "+i},$(document).ready((function(){if(0!==$("[data-behavior~="+App.BulkAssignments.dataBehavior+"]").length)try{App.BulkAssignments.init()}catch(e){console.log(App.BulkAssignments.module+"::init failed "+e)}})),App.Dashboards||(App.Dashboards={module:"App::Dashboards"}),App.Dashboards.init=function(){console.log(this.module+"::init called"),setupTooltips(),setupHelps(),$("#page").click((function(){$(".tooltip").find("span").removeClass("hover")})),$("#report_selector").change((function(){window.location.href=$(this).val()}));var e=$(".choose_school_form #school"),t=$(".choose_asp_form #classroom");e.change((function(){$("#noDD").remove(),enableAjaxDropdownSpinner(t),t.hide(),t.empty(),$.ajax({url:"/reports/classrooms_for_school",data:{id:$(".choose_school_form #school option:selected").val()},type:"post",dataType:"json",success:update_classrooms})})),t.change((function(){t.find("option[value='-']").remove(),enableAjaxDropdownSpinner(t)})),$.each([["subtractionalgorithm","DfCJgC2zezw"],["estimatemultiplywithstandardalgorithm","v37qcLuIONg"],["fractionsmoneytime","2VZbWJIndlQ"],["multiplicationpartialproducts","AilDza95hYc"]],(function(){var e=this,t=function(){open("http://www.youtube.com/embed/"+e[1]+"?autoplay=1","ee","width=420,height=315,menubar=no,toolbar=no,personalbar=no,centerscreen=yes")};$('#divStudentProgress img[src*="'+e[0]+'.png"]').dblclick((function(e){e.ctrlKey&&e.altKey&&t()})).click((function(){window.DeviceOrientationEvent&&"ontouchmove"in window&&t()}))})),$("#welcomeBanner .iconCollapse").on("click",(function(){expandCollapseMessage(this)})),$("#welcomeBanner .iconExpand").on("click",(function(){expandCollapseMessage(this)})),$("#secondaryMessage .iconCollapse").on("click",(function(){expandCollapseMessage(this)})),$("#secondaryMessage .iconExpand").on("click",(function(){expandCollapseMessage(this)}))},$(document).ready((function(){if(0!=$("#dashboards_layout, #teachers_layout").length)try{App.Dashboards.init()}catch(e){console.log(App.Dashboards.module+"::init barfed "+e)}})),App.Global||(App.Global={module:"App::Global",state:"INITIALIZED",clientHeight:700,clientHeightWithDP:918}),App.Global.init=function(){};var clientHeight=700,clientHeightWithDP=918,DistrictSelector;!function(e){DistrictSelector={initialize:function(t,i,r,n,s){var o=e(t),a=o.val(),l=e(i),d=l.attr("data-value"),c=e(r),u=c.attr("data-value");a&&DistrictSelector.populate_region_dropdown(a,l,s,d),o.change((function(){DistrictSelector.populate_region_dropdown(e(this).val(),l,s)})),void 0!==d?DistrictSelector.populate_district_dropdown(n,d,c,u):""!==l.val()&&DistrictSelector.populate_district_dropdown(n,l.val(),c),l.change((function(){DistrictSelector.populate_district_dropdown(n,e(this).val(),c)}))},populate_district_dropdown:function(t,i,r,n){e.getJSON(t,{region_id:i},(function(t){var i=e(r),s=n||i.val(),o=i.closest("form").find("input[type=submit]");i.html(""),t.length>0?(i.removeAttr("disabled"),o.removeAttr("disabled"),e.each(t,(function(){var t=e("<option/>",{value:this.id}).text(this.name);this.id==s&&t.attr("selected","selected"),i.append(t)}))):(i.append(e('<option value=""/>').text("No districts found.")),i.attr("disabled","disabled"),o.attr("disabled","disabled"))}))},populate_region_dropdown:function(t,i,r,n){var s=e(i),o=n||s.val();s.html(""),r[t]?e.each(r[t],(function(){var t=this[0],i=this[1],r=e("<option/>",{value:t}).text(i);t==o&&r.attr("selected","selected"),s.append(r)})):s.append(e("<option/>").text("Other"))}}}(jQuery);var lrt4loaded=!1;$(document).ready((function(){try{App.Global.init()}catch(e){console.log(App.Global.module+"::init barfed  "+e)}$("form.form_on_focus input").each((function(){return""!=$(this).val()&&void 0!==$(this).val()||($(this).focus(),!1)})),$("a[data-popup]").on("click",(function(e){window.open($(this).attr("href")),e.preventDefault()}))})),App.IosAppLauncher||(App.IosAppLauncher={module:"App::IosAppLauncher",expired:!1}),App.IosAppLauncher.init=function(){console.log(this.module+"::init called");var e=60;"undefined"==typeof STUDENT_TOKEN_TTL_SECONDS?console.warn(this.module+"::init: STUDENT_TOKEN_TTL_SECONDS is not set; defaulting to 60."):e=STUDENT_TOKEN_TTL_SECONDS,setTimeout(App.IosAppLauncher.onExpirationTimeout,1e3*e)},App.IosAppLauncher.onExpirationTimeout=function(){App.IosAppLauncher.expired=!0,$(".dbl_smart_link.expiring_token").fadeOut(500,"easeInQuad",(function(){$(".ipad_link_expired_container").fadeIn(1e3,"easeOutQuad")}))},$(document).ready((function(){if(0!==$(".dbl_smart_link.expiring_token").length&&0!==$(".ipad_link_expired_container").length)try{App.IosAppLauncher.init()}catch(e){console.log(App.IosAppLauncher.module+"::init barfed "+e)}})),App.Launchpads||(App.Launchpads={module:"App::Launchpads",dataBehavior:"launchpads"}),App.Launchpads.not_ready_for_submit=function(){$("#launchpad_submit_button").prop("disabled",!0)},App.Launchpads.ready_for_submit=function(){$("#launchpad_submit_button").prop("disabled",!1)},App.Launchpads.select_usecase=function(e){$("#usecases #description p").hide(),$("#usecases button").removeClass("selected"),e&&($("input#selected_usecase").val(e),$("button#"+e).addClass("selected"),$("#usecases #description p#"+e).show())},App.Launchpads.recalculate_ready_for_submit=function(){return $("#launchpad_grade").val()&&$("#launchpad_reason").val()&&$("#usecases button.selected").length>0&&($(".launchpad_user_checkbox:checked").length>0||0===$(".launchpad_user_checkbox").length)&&"true"!==$("#last_action_successful_submit").val()?(App.Launchpads.ready_for_submit(),!0):(App.Launchpads.not_ready_for_submit(),!1)},App.Launchpads.clear_summary=function(){$("#summary p").empty(),$("#summary h3").empty()},App.Launchpads.set_start_state=function(){"true"===$("#show_controls").val()&&$("#hidden-controls").show(),App.Launchpads.select_usecase($("#selected_usecase").val()),App.Launchpads.recalculate_ready_for_submit()},App.Launchpads.wire_usecase_controls=function(){$("#restart_preservative").click((function(){$("#proficiency_additions").prop("checked",!0),$("#pp_proficiency_reductions").prop("checked",!0),App.Launchpads.clear_last_action(),App.Launchpads.select_usecase(this.id),App.Launchpads.recalculate_ready_for_submit(),App.Launchpads.clear_summary()})),$("#restart_destructive").click((function(){$("#proficiency_additions").prop("checked",!0),$("#any_proficiency_reductions").prop("checked",!0),App.Launchpads.select_usecase(this.id),App.Launchpads.clear_last_action(),App.Launchpads.recalculate_ready_for_submit(),App.Launchpads.clear_summary()})),$("select#launchpad_grade").change((function(){App.Launchpads.clear_last_action(),App.Launchpads.recalculate_ready_for_submit(),App.Launchpads.clear_summary()})),$("select#launchpad_reason").change((function(){App.Launchpads.clear_last_action(),App.Launchpads.recalculate_ready_for_submit()||App.Launchpads.clear_summary()})),$(".launchpad_user_checkbox").change((function(){App.Launchpads.recalculate_ready_for_submit(),App.Launchpads.clear_summary(),$(this).is(":checked")?(App.Launchpads.not_validated_for_submit(),$(this).closest("tr").find("td.summary-dry-run").show()):$(this).closest("tr").find("td.summary-dry-run").hide()})),App.Launchpads.clear_last_action=function(){$("#last_action_successful_submit").val("")},$("#show-controls").dblclick((function(e){e.metaKey&&($("#hidden-controls").show(),$("#show_controls").val(!0))}))},App.Launchpads.init=function(){console.log(this.module+"::init called"),App.Launchpads.set_start_state(),App.Launchpads.wire_usecase_controls(),$("#check_all").click((function(){$(".launchpad_user_checkbox:not(:disabled)").prop("checked",$(this).prop("checked")).trigger("change")}))},$(document).ready((function(){if($("#launchpad_enabled").on("change",(function(){var e=$("#launchpad-warning-enabled").val();this.checked||"true"!==e||confirm("Are you sure you want to continue and wipe out all Growth Reports for this district?")||(this.checked=!0)})),0!==$("[data-behavior~="+App.Launchpads.dataBehavior+"]").length)try{App.Launchpads.init()}catch(e){console.log(App.Launchpads.module+"::init barfed "+e)}})),App.LessonChooser||(App.LessonChooser={module:"App::LessonChooser",dataBehavior:"lesson_chooser"}),App.LessonChooser.init=function(){console.log(this.module+"::init called"),$("input#score").keyup((function(){var e=$(this).closest("form").find(":submit");this.value?e.prop("disabled",!1):e.prop("disabled",!0)}))},$(document).ready((function(){if(0!==$("[data-behavior~="+App.LessonChooser.dataBehavior+"]").length)try{App.LessonChooser.init()}catch(e){console.log(App.LessonChooser.module+"::init barfed "+e)}})),App.LessonsByAssignedFocus||(App.LessonsByAssignedFocus={module:"App::LessonsByAssignedFocus",dataBehavior:"update-lesson-data"}),App.LessonsByAssignedFocus.clear_dependent_selects=function(e){switch($(e)[0].id){case"filters_ast":$("#filters_level").val(""),$("#filters_domain").val(""),$("#filters_cluster").val(""),$("#filters_standard").val("");break;case"filters_level":$("#filters_domain").val(""),$("#filters_cluster").val(""),$("#filters_standard").val("")
;break;case"filters_domain":$("#filters_cluster").val(""),$("#filters_standard").val("");break;case"filters_cluster":$("#filters_standard").val("")}},App.LessonsByAssignedFocus.init=function(){console.log(this.module+"::init called"),$(document).on("click",".mo_info",(function(){var e=this;$.ajax({url:"get_mo_names",data:{lesson_id:$(this).data("lesson_id"),mo_ids:$(this).data("mo_ids")},success:function(t){$(e).html(t.join("<br>"))}})})),$(".dependent_select").change((function(){App.LessonsByAssignedFocus.clear_dependent_selects(this),$(this.form).submit()}))},$(document).ready((function(){if(0!=$("[data-behavior~="+App.LessonsByAssignedFocus.dataBehavior+"]").length)try{App.LessonsByAssignedFocus.init()}catch(e){console.log(App.LessonsByAssignedFocus.module+"::init barfed "+e)}})),App.LipInitialRecommendations||(App.LipInitialRecommendations={module:"App::LipInitialRecommendations",dataBehavior:"lip_initial_recommendations"}),App.LipInitialRecommendations.init=function(){console.log(this.module+"::init called"),$("select#grade_map_id").change((function(){var e=$(this).find("option:selected").val();if(e){var t=$("tr[data-lip-grade-id]");t.not("[data-lip-grade-id="+e+"]").hide(),t.filter("[data-lip-grade-id="+e+"]").show()}else $("tr[data-lip-grade-id]").show()})),$("#submit_button").click((function(){$("#submit_button").prop("disabled",!0),$("tr.lip_grade, tr.recommendation-results").remove();var e=$("#asts").data("studentid"),t=$("#asts").data("applicationid"),i=$("select#grade_map_id option").not(":empty"),r=i.filter(":selected"),n=r.length?r:i,s=$.Deferred().resolve();$("#asts tr.ast").has(".ast_checkbox:checked").each((function(){var i=$(this),r=i.find("[data-name]").data("name"),o=i.find("[data-country]").data("country"),a=i.find("[data-region]").data("region");n.each((function(){var n=$(this).val();s=s.then((function(){return console.log("Processing "+r+" - "+n),$.ajax({url:"lip_initial_recommendations/recommendations_after_placements",data:{studentid:e,application_id:t,ast_name:r,country:o,region:a,grade_id:n},beforeSend:function(){$("#spinner").css("visibility","visible")}}).fail((function(e){i.after(e.status+"-"+e.statusText)})).done((function(e){i.after(e.html),i=$("tr.recommendation-results").last()}))}))}))})),s.always((function(){$("#spinner").css("visibility","hidden"),$("#submit_button").prop("disabled",!1)}))})),$("#check_all").click((function(){$(".ast_checkbox").prop("checked",$(this).prop("checked"))}))},$(document).ready((function(){if(0!=$("[data-behavior~="+App.LipInitialRecommendations.dataBehavior+"]").length)try{App.LipInitialRecommendations.init()}catch(e){console.log(App.LipInitialRecommendations.module+"::init barfed "+e)}})),App.Login||(App.Login={module:"App::Login",password_set:!1,submitted:!1}),App.Login.init=function(){console.log(this.module+"::init called"),$("div#confirm_dialog").dialog({autoOpen:!1,draggable:!1,width:500,resizable:!1,modal:!0}),App.Login.password_set=!1,$("img.has-hover").each((function(){var e,t,i,r,n;-1!=(t=r=this.src).indexOf("?")&&(r=(n=t.split("?",2))[0],e=n[1]),i=r.substring(0,r.length-4)+"_hover"+r.substr(r.length-4),-1!=t.indexOf("?")&&(i+="?"+e),$(this).mouseout((function(e){e.target.src=t})).mouseover((function(e){e.target.src=i}))})),$("#formPicturePassword").submit((function(){return!App.Login.submitted&&!App.Login.password_set&&(App.Login.submitted=!0,!0)})),$("#dashboard").on("click",(function(){var e=$(this).closest("form"),t=$(this).attr("data-action")||e.attr("action");return App.Login.dashboard(e,t),!1})),$("#returning_action_dashboard").on("click",(function(){var e=$(this).attr("data-location");return window.location.href=e,!1})),$("#returning_action_play, #playAgain").on("click",(function(){var e=$(this).attr("data-location");return window.location.href=e,!1})),$("#play").on("click",(function(){var e=$(this).closest("form");return App.Login.play(e),!1})),$('[data-behavior="choose-avatar"]').on("click",(function(){var e=$(this).attr("data-index");return App.Login.showConfirmDialog(e),!1})),$('[data-behavior="prepare-password"]').on("click",(function(){return!App.Login.submitted&&!App.Login.password_set&&($("#selected_picture_pass").val($(this).attr("data-index")),!0)})),$('[data-behavior="confirm-picture-pass"]').on("click",(function(){App.Login.confirmPicturePass()})),$('[data-behavior="hide-confirm-dialogue"]').on("click",(function(){return App.Login.hideConfirmDialog(),!1})),$("#txtEmailAddress").length&&App.Login.focus($("#txtEmailAddress")),$("#formForgotPassword").submit((function(){return!App.Login.submitted&&(App.Login.submitted=!0,!0)}))},App.Login.dashboard=function(e,t){e.get(0).setAttribute("action",t),e.submit()},App.Login.play=function(e){e.submit()},App.Login.focus=function(e){""===e.val().trim()&&e.focus()},App.Login.showConfirmDialog=function(e){if(this.password_set)return!0;var t=e;return $("#selected_picture_pass").val(e),$("img#selected_image").removeClass().addClass("picture_pass_"+t+"_icon"),$("div#confirm_dialog").dialog("open"),$(".ui-widget-overlay").css("background","#000000").css("opacity","0.6").css("background-image","none"),!1},App.Login.hideConfirmDialog=function(){$("div#confirm_dialog").dialog("close")},App.Login.confirmPicturePass=function(){App.Login.hideConfirmDialog(),App.Login.password_set=!0,$("#confirmed_picture_pass").val($("#selected_picture_pass").val())},$(document).ready((function(){if(0!=$("#login_layout, #picture_password_login_layout").length)try{App.Login.init()}catch(e){console.log(App.Login.module+"::init barfed "+e)}})),App.Placements||(App.Placements={module:"App::Placements",dataBehavior:"placements"}),App.Placements.not_validated_for_submit=function(){$("#placement_submit_button").prop("disabled",!0),$("#placement_validated").val(!1)},App.Placements.validated_for_submit=function(){$("#placement_validated").val(!0)},App.Placements.not_ready_for_validate=function(){$("#placement_validate_button").prop("disabled",!0)},App.Placements.ready_for_validate=function(){$("#placement_validate_button").prop("disabled",!1)},App.Placements.select_usecase=function(e){$("#usecases #description p").hide(),$("#usecases button").removeClass("selected"),e&&($("input#selected_usecase").val(e),$("button#"+e).addClass("selected"),$("#usecases #description p#"+e).show())},App.Placements.recalculate_ready_for_validation=function(){return $("#placement_grade").val()&&$("#placement_reason").val()&&$("#usecases button.selected").length>0&&($(".placement_user_checkbox:checked").length>0||0===$(".placement_user_checkbox").length)?(App.Placements.ready_for_validate(),!0):(App.Placements.not_ready_for_validate(),App.Placements.not_validated_for_submit(),!1)},App.Placements.clear_summary=function(){$("#summary p").empty(),$("#summary h3").empty()},App.Placements.set_start_state=function(){"true"===$("#show_controls").val()&&$("#hidden-controls").show(),App.Placements.select_usecase($("#selected_usecase").val()),App.Placements.recalculate_ready_for_validation();var e=new URLSearchParams(window.location.search);("true"!==$("#placement_validated").val()||e.get("invalidate_form"))&&$("#placement_submit_button").prop("disabled",!0)},App.Placements.wire_usecase_controls=function(){$("#moving_forward_preservative").click((function(){$("#proficiency_additions").prop("checked",!0),$("#no_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()})),$("#moving_back_preservative").click((function(){$("#no_proficiency_additions").prop("checked",!0),$("#pp_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()})),$("#moving_back_destructive").click((function(){$("#no_proficiency_additions").prop("checked",!0),$("#any_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()})),$('#placement_form>input[type="radio"], #placement_grade').change((function(){App.Placements.not_validated_for_submit()})),$("select#placement_grade").change((function(){App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary()})),$("select#placement_reason").change((function(){App.Placements.recalculate_ready_for_validation()||App.Placements.clear_summary()})),$(".placement_user_checkbox").change((function(){App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),$(this).is(":checked")?(App.Placements.not_validated_for_submit(),$(this).closest("tr").find("td.summary-dry-run").removeClass("invisible"),$(this).closest("tr").find("td.operation-error").removeClass("invisible")):($(this).closest("tr").find("td.summary-dry-run").addClass("invisible"),$(this).closest("tr").find("td.operation-error").addClass("invisible"))})),$("#show-controls").dblclick((function(e){e.metaKey&&($("#hidden-controls").show(),$("#show_controls").val(!0))}))},App.Placements.init=function(){App.Placements.set_start_state(),App.Placements.wire_usecase_controls(),$("#placement_validate_button").click((function(){$("#placement_validated").val(!1),App.Placements.validated_for_submit()})),$("#placement_submit_button").click((function(){$("#placement_validated").val(!1)})),$("#check_all").click((function(){$(".placement_user_checkbox:not(:disabled)").prop("checked",$(this).prop("checked")).trigger("change")}))},$(document).ready((function(){if(0!==$("[data-behavior~="+App.Placements.dataBehavior+"]").length)try{App.Placements.init()}catch(e){console.log(App.Placements.module+"::init barfed "+e)}}));var __popupSource=null,__popupDefinition=null;App.RegionField||(App.RegionField={module:"App::RegionField",dataBehavior:"region-field-select",controller:"countries",action:"region_for_country"}),App.RegionField.init=function(){console.log(this.module+"::init called"),this.observer=$("[data-behavior~="+this.dataBehavior+"]"),this.observedId=this.observer.data("observed-id"),this.container=$("#"+this.observer.data("container-id")),this.xhrUrl="/"+this.controller+"/"+this.action,$("#"+this.observedId).on("change",(function(){var e={country_id:$(this).val(),object_name:App.RegionField.observer.data("object-name"),method_name:App.RegionField.observer.data("method-name"),country_field_id:App.RegionField.observedId,selected:""};console.log("country_field_select changed "+JSON.stringify(e)),$.get(App.RegionField.xhrUrl,e,(function(e){App.RegionField.container.html(e)}))}))},$(document).ready((function(){if(0!=$("[data-behavior~="+App.RegionField.dataBehavior+"]").length)try{App.RegionField.init()}catch(e){console.log(App.RegionField.module+"::init barfed "+e)}}));var Modernizr=window.Modernizr,capabilities={supportsSessionCookies:function(){return Modernizr.cookies},supportsLocalStorage:function(){return Modernizr.localstorage},supportsSessionStorage:function(){return Modernizr.sessionstorage},supportsECMA5:function(){return Modernizr.es5},supportedECMA5:function(){return{es5array:Modernizr.es5array,es5date:Modernizr.es5date,es5function:Modernizr.es5function,es5object:Modernizr.es5object,strictmode:Modernizr.strictmode,es5string:Modernizr.es5string,json:Modernizr.json,es5syntax:Modernizr.es5syntax,es5undefine:Modernizr.es5undefined}},supportsPerformance:function(){return!!window.performance},supportsTouch:function(){return Modernizr.touchevents},supportsCanvas:function(){return Modernizr.canvas},supportsWebGL:function(){if(!this.supportsCanvas())return!1;var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("webgl"))},supportsVideo:function(){return Modernizr.video},supportsH264BaselineVideo:function(){return Modernizr.video.h264},supportsOggTheoraVideo:function(){return Modernizr.video.ogg},supportsWebMVideo:function(){return Modernizr.video.webm},supportsWebAudio:function(){return Modernizr.webaudio},supportsAudio:function(){return Modernizr.audio},supportsMP3Audio:function(){return Modernizr.audio.mp3},supportsWavAudio:function(){return Modernizr.audio.wav},supportsOggAudio:function(){return Modernizr.audio.ogg},supportsWebWorkers:function(){return Modernizr.webworkers},supportsAppCache:function(){return Modernizr.applicationcache},supportsGeoLocation:function(){return Modernizr.geolocation},supportsMicrodataAPI:function(){return Modernizr.microdata}},AN_UNKNOWN_VERSION="-- an unknown version",NO_INFO="Information Not Available",testResult={PASS:"Pass",FAIL:"Fail",WARN:"Warning: Potential version issue",UPDATE:"Outdated version: Update Suggested",UNSUPPORTED_OS:"Unsupported Operating System",UNSUPPORTED_BROWSER:"Unsupported Browser"},firefox_iOS_min_version=18,infoFromUAString=getKeyInfoFromUAString(),ignoreHashChange=!1;$.ajaxSetup({timeout:3e4}),$.fn.loading=function(){$(this).html("<img src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' />")},$.extend({optionize:function(e){var t="";return $.each(e,(function(e,i){t+="<option value='"+i[1]+"'>"+i[0]+"</option>"})),t}}),$.fn.rosterManagementPage=function(e){function t(e){void 0!==e.regions&&($("#filter_region_id",s).html($.optionize(e.regions)),$("#filter_region_id",s).show(),$("#filter_region_id_loading",s).hide()),void 0!==e.districts&&($("#filter_district_id",s).html($.optionize(e.districts)),$("#filter_district_id",s).show(),$("#filter_district_id_loading",s).hide()),void 0!==e.schools&&($("#filter_school_id",s).html($.optionize(e.schools)),$("#filter_school_id",s).show(),$("#filter_school_id_loading",s).hide(),$("#filter_school_id",s).change()),n()}function i(e,t){"error"==t?$("#actions_form",s).html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t&&$("#actions_form",s).html("<p class='error'>Timed out while retrieving the classroom and students list.</p>")}function r(){function t(){$("#left_column span.error",s).html("Error getting student list")}function i(){$("#right_column span.error",s).html("Error getting student list")}function r(){var t=$("#actions_source_id").val(),i=$("#actions_destination_id").val(),r=$("#actions_source_student_ids",s).getGridParam("selarrrow"),n=$("#actions_destination_student_ids",s).getGridParam("selarrrow");void 0===r&&(r=[]),void 0===n&&(n=[]),"undefined"==typeof classrooms_allowed_to_modify&&(classrooms_allowed_to_modify=[]),$("#actions_submit.add_student_button").attr("disabled",0==r.length||"all_unassigned"==t),$("#actions_submit.move_student_button").attr("disabled",0==r.length||"all"==t||!classrooms_allowed_to_modify[t]),$("#actions_submit.remove_student_button").attr("disabled",0==n.length||!classrooms_allowed_to_modify[i]),$("#actions_submit.move_remove_student_button").attr("disabled",e||"all_unassigned"==t||!classrooms_allowed_to_modify[t])}function n(){var e=function(){$(this).getGridParam("selarrrow")&&$("#actions_destination_student_ids",s).resetSelection(),r()};$("#actions_source_student_ids",s).setGridParam({onSelectRow:e,onSelectAll:e});var t=function(){$(this).getGridParam("selarrrow")&&$("#actions_source_student_ids",s).resetSelection(),r()};$("#actions_destination_student_ids",s).setGridParam({onSelectRow:t,onSelectAll:t})}function o(e,t){$(e).jqGrid("clearGridData").jqGrid("setGridParam",{data:t,rowNum:t.length}).trigger("reloadGrid"),n()}$("#actions_source_id",s).after("<img id='actions_source_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#actions_destination_id",s).after("<img id='actions_destination_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),r(),n(),$("#actions_source_id, #actions_grade",s).change((function(){$("#actions_destination_id option",s).attr("disabled",!1),$("#actions_destination_id option[value="+$("#actions_source_id",s).val()+"]",s).attr("disabled",!0),$("#actions_destination_id",s).val()==$("#actions_source_id",s).val()&&($("#actions_destination_id",s).val(""),$("#actions_destination_id",s).change()),$("#actions_source_student_ids",s).attr("disabled",!0),$("#actions_source_id_loading",s).show(),$.ajax({url:"roster_management/source_onchange",data:{actions:{source_id:$("#actions_source_id",s).val(),grade:$("#actions_grade",s).val()},school_id:$("#filter_school_id",s).val()},dataType:"json",success:function(e){o("#actions_source_student_ids",e),$("#actions_source_student_ids",s).attr("disabled",!1),$("#actions_source_id_loading",s).hide(),$("#left_column span.error",s).html(""),r()},error:t})})),$("#actions_destination_id",s).change((function(){$("#actions_source_id option",s).attr("disabled",!1),$("#actions_source_id option[value="+$(this).val()+"]",s).attr("disabled",!0),$("#actions_destination_id",s).val()==$("#actions_source_id",s).val()&&($("#actions_source_id",s).val("all"),$("#actions_source_id",s).change()),$("#actions_destination_student_ids",s).attr("disabled",!0),$("#actions_destination_id_loading",s).show(),$.ajax({url:"roster_management/destination_onchange",data:{actions:{destination_id:$(this).val(),grade:$("#grade",s).val()},school_id:$("#filter_school_id",s).val()},success:function(e){o("#actions_destination_student_ids",e),$("#actions_destination_student_ids",s).attr("disabled",!1),$("#actions_destination_id_loading",s).hide(),$("#right_column span.error",s).html(""),r()},error:i})}))}function n(){ignoreHashChange=!0,$.bbq.pushState({country_id:$("#filter_country_id",s).val(),region_id:$("#filter_region_id",s).val(),district_id:$("#filter_district_id",s).val(),school_id:$("#filter_school_id",s).val()})}var s=this;$(".update, #filter_submit",s).hide(),$("#filter_region_id",s).after("<img id='filter_region_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_district_id",s).after("<img id='filter_district_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_school_id",s).after("<img id='filter_school_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_school_id",s).change((function(){if($("#filter_school_id",s).val()){$("#actions_form",s).loading(),n();var t=$.deparam.fragment();isEmpty(t)&&(t=$.deparam.querystring().filter),$("#actions_form",s).load("roster_management/school_onchange",{school_id:$("#filter_school_id",s).val(),filter:t,hide_move_remove:e},(function(e,t){"error"==t?$("#actions_form",s).html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t?$("#actions_form",s).html("<p class='error'>Timed out while retrieving the classroom and students list.</p>"):($(".update, #filter_submit",s).hide(),r())}))}else $("#actions_form",s).html("")})),$("#filter_country_id",s).change((function(){$("#filter_region_id, #filter_district_id, #filter_school_id",s).hide(),$("#filter_region_id_loading, #filter_district_id_loading, #filter_school_id_loading",s).show(),$.ajax({url:"roster_management/filter_onchange",data:{country_id:$(this).val()},dataType:"json",success:t,error:i})})),$("#filter_region_id",s).change((function(){$("#filter_district_id, #filter_school_id",s).hide(),$("#filter_district_id_loading, #filter_school_id_loading",s).show(),$.ajax({url:"roster_management/filter_onchange",data:{region_id:$(this).val()},dataType:"json",success:t,error:i})})),$("#filter_district_id",s).change((function(){$("#filter_school_id",s).hide(),$("#filter_school_id_loading",s).show(),$.ajax({url:"roster_management/filter_onchange",data:{district_id:$(this).val()},dataType:"json",success:t,error:i})})),r(),$("tr.jqgfirstrow td, tr.ui-search-toolbar th, .ui-jqgrid-labels th",s).width((function(e,t){return t-4})),$("#left_column, #right_column",s).each((function(){}))},$((function(){"undefined"==typeof hide_move_remove_button&&(hide_move_remove_button=!1),$("#roster_management").rosterManagementPage(hide_move_remove_button),$.param.fragment().length>0&&update_roster_ui_from_fragment(),$(window).bind("hashchange",update_roster_ui_from_fragment)})),App.SequencingStatus||(App.SequencingStatus={module:"App::SequencingStatus",dataBehavior:"sequencing_status"}),App.SequencingStatus.init=function(){console.log(this.module+"::init called"),$("a.required_mo, a.assessed_mo").mouseenter((function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight"),highlightLearningGroups(e,$(this).closest("tr").data("learning_group"))})).mouseleave((function(){$("a").removeClass("highlight highlight_required highlight_assessed")})),$("a.lesson_with_mos").mouseenter((function(){var e=$(this).closest("tr"),t=e.data("learning_group");$(this).addClass("highlight"),e.find("a.required_mo").each((function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight_required"),highlightLearningGroups(e,t)})),e.find("a.assessed_mo").each((function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight_assessed"),highlightLearningGroups(e,t)}))})).mouseleave((function(){$("a").removeClass("highlight highlight_required highlight_assessed")})),$("span.lesson_id").mouseenter((function(){var e=$(this).data("lessonid");$("span.lesson_id_"+e).addClass("highlight")})).mouseleave((function(){$("span").removeClass("highlight")})),$("input:checkbox#detailed_view").change((function(){evalDetailedViewCheckbox()}))},$(document).ready((function(){if(0!=$("[data-behavior~="+App.SequencingStatus.dataBehavior+"]").length)try{App.SequencingStatus.init()}catch(e){console.log(App.SequencingStatus.module+"::init barfed "+e)}})),$(window).on("pageshow",(function(){evalDetailedViewCheckbox()})),App.StandardGaps||(App.StandardGaps={module:"App::StandardGaps",dataBehavior:"standard-gaps"}),App.StandardGaps.init=function(){console.log(this.module+"::init called"),$("i.open-group").click((function(){$(this).siblings("div").show(),$(this).hide(),$(this).siblings("i.close-group").show()})),$("i.close-group").click((function(){$(this).siblings("div").hide(),$(this).hide(),$(this).siblings("i.open-group").show()})),$(".focus_checkbox").change((function(){App.StandardGaps.recalculate_ready_for_search()})),$("input#focus_find").keypress((function(e){if(e.which===$.ui.keyCode.ENTER){e.preventDefault();let t="id_"+$(this).val().trim().replace(/[^a-zA-Z0-9]/g,"_"),i=$("span#"+t);i.length>0?($(".highlight").removeClass("highlight"),i.show().addClass("highlight"),i.parentsUntil("div.level-row").addBack().each((function(){let e=$(this).parent(),t=e.parent();e.show(),e.siblings("div").show(),t.children("i.open-group").hide(),t.children("i.close-group").show()})),App.StandardGaps.scroll_if_necessary(i),$("#no-match").text("")):($("#no-match").removeClass("no-match"),setTimeout((function(){$("#no-match").text("No match found!").addClass("no-match")}),10))}})),App.StandardGaps.recalculate_ready_for_search()},App.StandardGaps.scroll_if_necessary=function(e){if(e[0]){let t=e[0].getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight;t.bottom>i&&e[0].scrollIntoView({behavior:"smooth",block:"center"})}},App.StandardGaps.recalculate_ready_for_search=function(){$(".focus_checkbox:checked").length>0?$("#submit_button").prop("disabled",!1):$("#submit_button").prop("disabled",!0)},$(document).ready((function(){if(0!==$("[data-behavior~="+App.StandardGaps.dataBehavior+"]").length)try{App.StandardGaps.init()}catch(e){console.log(App.StandardGaps.module+"::init failed "+e)}})),POLLING_PERIOD_SECONDS=3e4,App.StudentInActiveSession||(App.StudentInActiveSession={module:"App::StudentInActiveSession",dataBehavior:"student_in_active_session"}),App.StudentInActiveSession.init=function(){console.log(this.module+"::init called"),App.StudentInActiveSession.poll_for_active_session()},App.StudentInActiveSession.poll_for_active_session=function(){$.ajax({url:"has_open_student_sessions",data:{id:$("#student_in_active_session").data("student_id")},success:function(e){e?$("#student_in_active_session").show():$("#student_in_active_session").hide()}}),setTimeout(App.StudentInActiveSession.poll_for_active_session,POLLING_PERIOD_SECONDS)},$(document).ready((function(){if(0!=$("[data-behavior~="+App.StudentInActiveSession.dataBehavior+"]").length)try{App.StudentInActiveSession.init()}catch(e){console.log(App.StudentInActiveSession.module+"::init barfed "+e)}})),App.TeacherForms||(App.TeacherForms={module:"App::TeacherForms"}),App.TeacherForms.init=function(){console.log(this.module+"::init called"),$$("input",{type:"image",src:"/assets/teacher/calculatePricing_off-5df87ee5112a74f8830dbea26a7423568ece96aee2bb1a879931d808f64b64e5.gif",id:"calculate_price_button"}).appendTo($("#schools_license_request_calculate_price_button_holder")),$("#calculate_price_button").hover((function(){this.src="/assets/teacher/calculatePricing_on-f52de1d1ca49757bfe552514f41e8b389959db39901236d6ec18771ee50d00cd.gif"}),(function(){this.src="/assets/teacher/calculatePricing_off-5df87ee5112a74f8830dbea26a7423568ece96aee2bb1a879931d808f64b64e5.gif"})),$("#calculate_price_button").click((function(){return $(this).disable(),$.get("/forms/calculate_price",{students:$("#schools_license_request_student_licenses").val(),license_type_id:$("#schools_license_request_license_type_id").val(),country_id:$("#schools_license_request_country_id").val()},(function(e){$("#schools_license_request_price").html(e),$("#calculate_price_button").enable()}),"text"),!1}))},$(document).ready((function(){if(0!=$("#forms_layout").length)try{App.TeacherForms.init()}catch(e){console.log(App.TeacherForms.module+"::init barfed "+e)}}));var student_login_submitted=!1;$(document).ready((function(){$("#formStudentTextPassword").submit((function(){return!student_login_submitted&&(student_login_submitted=!0,!0)}))}));